Processando o modelo gpt4o...
Limpando o diret√≥rio de destino para testes combinados...
Copiando arquivos de /home/rincon/ar_benchmark/artigo/estudos-prompts/market-test-set/gpt/v2/gpt4o/run01/exec para /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/src/test/java/market...
Copiando arquivos de /home/rincon/ar_benchmark/artigo/estudos-prompts/market-test-set/gpt/v2/gpt4o/run02/exec para /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/src/test/java/market...
Copiando arquivos de /home/rincon/ar_benchmark/artigo/estudos-prompts/market-test-set/gpt/v2/gpt4o/run03/exec para /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/src/test/java/market...
Executando Maven para o modelo gpt4o...
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m---------------------< [0;36mnet.lukyanets:market-rest[0;1m >----------------------[m
[[1;34mINFO[m] [1mBuilding market-rest 0.1.2[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;33mWARNING[m] The POM for com.sun.xml.bind:jaxb-osgi:jar:2.2.10 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-clean-plugin:2.5:clean[m [1m(default-clean)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Deleting /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mjacoco-maven-plugin:0.8.7:prepare-agent[m [1m(default)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] argLine set to -javaagent:/home/rincon/.m2/repository/org/jacoco/org.jacoco.agent/0.8.7/org.jacoco.agent-0.8.7-runtime.jar=destfile=/media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target/jacoco.exec
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mspring-boot-maven-plugin:2.4.3:build-info[m [1m(default)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 3 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.8.0:compile[m [1m(default-compile)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Changes detected - recompiling the module!
[[1;34mINFO[m] Compiling 11 source files to /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target/classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mjacoco-maven-plugin:0.8.7:prepare-agent[m [1m(default)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] argLine set to -javaagent:/home/rincon/.m2/repository/org/jacoco/org.jacoco.agent/0.8.7/org.jacoco.agent-0.8.7-runtime.jar=destfile=/media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target/jacoco.exec
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mspring-boot-maven-plugin:2.4.3:build-info[m [1m(default)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 3 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.8.0:compile[m [1m(default-compile)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:testResources[m [1m(default-testResources)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.8.0:testCompile[m [1m(default-testCompile)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Changes detected - recompiling the module!
[[1;34mINFO[m] Compiling 21 source files to /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target/test-classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mjacoco-maven-plugin:0.8.7:prepare-agent[m [1m(default)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] argLine set to -javaagent:/home/rincon/.m2/repository/org/jacoco/org.jacoco.agent/0.8.7/org.jacoco.agent-0.8.7-runtime.jar=destfile=/media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target/jacoco.exec
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mspring-boot-maven-plugin:2.4.3:build-info[m [1m(default)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 3 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.8.0:compile[m [1m(default-compile)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:testResources[m [1m(default-testResources)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.8.0:testCompile[m [1m(default-testCompile)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:2.22.0:test[m [1m(default-test)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running market.[1mv2_gpt4o_run01_ContactsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:16,828 INFO  [background-preinit] o.h.v.i.u.Version - HV000001: Hibernate Validator 6.1.7.Final
2024-12-08 14:37:16,959 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:16,965 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:17,531 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:17,531 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:19,063 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:19,225 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 148 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:19,835 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:20,046 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6ee700d9' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:20,056 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:20,533 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:20,551 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2024-12-08 14:37:20,552 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:20,553 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:20,760 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:20,760 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3225 ms
2024-12-08 14:37:20,988 INFO  [main] c.z.h.HikariDataSource - HikariPool-1 - Starting...
2024-12-08 14:37:21,421 INFO  [main] c.z.h.HikariDataSource - HikariPool-1 - Start completed.
2024-12-08 14:37:21,644 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:21,740 INFO  [main] o.h.Version - HHH000412: Hibernate ORM core version 5.4.28.Final
2024-12-08 14:37:21,934 INFO  [main] o.h.a.c.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-12-08 14:37:22,303 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:22,651 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:22,654 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:23,641 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:23,655 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:24,882 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:25,931 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62655b0a, org.springframework.security.web.context.SecurityContextPersistenceFilter@556cd8f, org.springframework.security.web.header.HeaderWriterFilter@433e8bb1, org.springframework.security.web.authentication.logout.LogoutFilter@ce66e6e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6a7c10ad, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1e9a406, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1f11cd4a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13892e2e, org.springframework.security.web.session.SessionManagementFilter@3d8b2cca, org.springframework.security.web.access.ExceptionTranslationFilter@86a1d05, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@66107365]
2024-12-08 14:37:26,120 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:26,602 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2024-12-08 14:37:26,639 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 40027 (http) with context path ''
2024-12-08 14:37:27,241 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 11.253 seconds (JVM running for 13.688)
2024-12-08 14:37:29,254 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:37:29,254 INFO  [http-nio-auto-1-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:37:29,256 INFO  [http-nio-auto-1-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:37:29,455 WARN  [http-nio-auto-1-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:40027/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "phone": "+7 987 654 32 10",
    "address": "New Address 123"
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:29 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/contacts",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:37:29,796 WARN  [http-nio-auto-1-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='contactsDTO', description='uri=/customer/contacts', fieldErrors=[{field='phone', message='The value shall not be empty'}, {field='address', message='The value shall not be empty'}, {field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}]}
Request method:	PUT
Request URI:	http://localhost:40027/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "phone": "",
    "address": ""
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:29 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/customer/contacts",
    "entityName": "contactsDTO",
    "fieldErrors": [
        {
            "field": "phone",
            "message": "The value shall not be empty"
        },
        {
            "field": "address",
            "message": "The value shall not be empty"
        },
        {
            "field": "phone",
            "message": "Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)"
        }
    ]
}
2024-12-08 14:37:29,865 WARN  [http-nio-auto-1-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:40027/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:29 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/contacts",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:37:29,932 WARN  [http-nio-auto-1-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='contactsDTO', description='uri=/customer/contacts', fieldErrors=[{field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}]}
Request method:	PUT
Request URI:	http://localhost:40027/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "phone": "invalid-phone-number",
    "address": "New Address 123"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:29 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/customer/contacts",
    "entityName": "contactsDTO",
    "fieldErrors": [
        {
            "field": "phone",
            "message": "Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)"
        }
    ]
}
2024-12-08 14:37:29,955 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-1"]
2024-12-08 14:37:29,955 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:37:29,958 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:37:29,963 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-1"]
2024-12-08 14:37:29,969 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-1"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m4[m, [1;31mFailures: [0;1;31m4[m, Errors: 0, Skipped: 0, Time elapsed: 15.188 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run01_ContactsRestControllerTest[m
[[1;31mERROR[m] testUpdateContacts  Time elapsed: 1.682 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run01_ContactsRestControllerTest.testUpdateContacts(v2_gpt4o_run01_ContactsRestControllerTest.java:92)

[[1;31mERROR[m] testInternalServerError  Time elapsed: 0.129 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <406>.

	at market.v2_gpt4o_run01_ContactsRestControllerTest.testInternalServerError(v2_gpt4o_run01_ContactsRestControllerTest.java:127)

[[1;31mERROR[m] testGetContacts  Time elapsed: 0.063 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run01_ContactsRestControllerTest.testGetContacts(v2_gpt4o_run01_ContactsRestControllerTest.java:67)

[[1;31mERROR[m] testUpdateContactsInvalidPhone  Time elapsed: 0.068 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <400> but was <406>.

	at market.v2_gpt4o_run01_ContactsRestControllerTest.testUpdateContactsInvalidPhone(v2_gpt4o_run01_ContactsRestControllerTest.java:110)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run01_CartRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:30,038 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:30,038 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:30,042 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:30,042 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:30,336 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:30,373 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:30,443 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:30,473 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@310fd2ee' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:30,476 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:30,541 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:30,543 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
2024-12-08 14:37:30,543 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:30,544 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:30,562 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:30,562 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 520 ms
2024-12-08 14:37:30,611 INFO  [main] c.z.h.HikariDataSource - HikariPool-2 - Starting...
2024-12-08 14:37:30,613 INFO  [main] c.z.h.HikariDataSource - HikariPool-2 - Start completed.
2024-12-08 14:37:30,657 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:30,687 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:30,717 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:30,720 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:30,909 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:30,910 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:31,275 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:31,506 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2a737dd5, org.springframework.security.web.context.SecurityContextPersistenceFilter@53bca08a, org.springframework.security.web.header.HeaderWriterFilter@63decf63, org.springframework.security.web.authentication.logout.LogoutFilter@623d54da, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6f46cead, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@895f79b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1d25843d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@56e172b1, org.springframework.security.web.session.SessionManagementFilter@be846e1, org.springframework.security.web.access.ExceptionTranslationFilter@384c77d9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@305b8c99]
2024-12-08 14:37:31,545 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:31,678 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-2"]
2024-12-08 14:37:31,681 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 36865 (http) with context path ''
2024-12-08 14:37:31,866 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.889 seconds (JVM running for 18.312)
2024-12-08 14:37:31,984 INFO  [http-nio-auto-2-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:37:31,984 INFO  [http-nio-auto-2-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:37:31,986 INFO  [http-nio-auto-2-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:37:33,695 WARN  [http-nio-auto-2-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='creditCardDTO', description='uri=/customer/cart/pay', fieldErrors=[{field='ccNumber', message='Not a valid credit card number'}]}
Request method:	GET
Request URI:	http://localhost:36865/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic aXZhbi5wZXRyb3ZAeWFuZGV4LnJ1OnBldHJvdg==
				Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 200 
Set-Cookie: JSESSIONID=EAC2196A7E597D42205E1F19AD7F89BF; Path=/; HttpOnly
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/hal+json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:33 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "user": "ivan.petrov@yandex.ru",
    "totalItems": 1,
    "productsCost": 6517.0,
    "deliveryCost": 400,
    "deliveryIncluded": true,
    "totalCost": 6917.0,
    "cartItems": [
        {
            "productId": 5,
            "quantity": 1,
            "_links": {
                "View product": {
                    "href": "http://localhost:36865/products/5"
                }
            }
        }
    ],
    "empty": false,
    "_links": {
        "Customer contacts": {
            "href": "http://localhost:36865/customer/contacts"
        },
        "Proceed to payment": {
            "href": "http://localhost:36865/customer/cart/pay"
        }
    }
}
2024-12-08 14:37:34,259 WARN  [http-nio-auto-2-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='creditCardDTO', description='uri=/customer/cart/pay', fieldErrors=[{field='ccNumber', message='Not a valid credit card number'}]}
2024-12-08 14:37:34,414 WARN  [http-nio-auto-2-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='Product', description='uri=/customer/cart', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:37:34,440 WARN  [http-nio-auto-2-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:37:34,451 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-2"]
2024-12-08 14:37:34,452 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:37:34,453 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:37:34,455 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-2"]
2024-12-08 14:37:34,459 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-2"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m8[m, [1;31mFailures: [0;1;31m1[m, Errors: 0, Skipped: 0, Time elapsed: 4.431 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run01_CartRestControllerTest[m
[[1;31mERROR[m] testGetCart  Time elapsed: 0.167 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
JSON path _links.self.href doesn't match.
Expected: not null
  Actual: null

	at market.v2_gpt4o_run01_CartRestControllerTest.testGetCart(v2_gpt4o_run01_CartRestControllerTest.java:66)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run02_RestExceptionHandlerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:34,493 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:34,494 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:34,496 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:34,496 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:34,889 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:34,927 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:34,989 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:35,013 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@59dbbdaf' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:35,016 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:35,068 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:35,069 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-3"]
2024-12-08 14:37:35,070 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:35,070 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:35,093 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:35,093 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 597 ms
2024-12-08 14:37:35,136 INFO  [main] c.z.h.HikariDataSource - HikariPool-3 - Starting...
2024-12-08 14:37:35,137 INFO  [main] c.z.h.HikariDataSource - HikariPool-3 - Start completed.
2024-12-08 14:37:35,183 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:35,222 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:35,255 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:35,258 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:35,506 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:35,507 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:35,788 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:35,990 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@d08c402, org.springframework.security.web.context.SecurityContextPersistenceFilter@2ad78a94, org.springframework.security.web.header.HeaderWriterFilter@7095abf9, org.springframework.security.web.authentication.logout.LogoutFilter@47e155e4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@69bad8d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f71cb47, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@52667333, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c7a72e2, org.springframework.security.web.session.SessionManagementFilter@a213605, org.springframework.security.web.access.ExceptionTranslationFilter@4cbd37ce, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1c672d58]
2024-12-08 14:37:36,025 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:36,175 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-3"]
2024-12-08 14:37:36,177 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 33439 (http) with context path ''
2024-12-08 14:37:36,387 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.924 seconds (JVM running for 22.833)
2024-12-08 14:37:36,485 INFO  [http-nio-auto-3-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:37:36,485 INFO  [http-nio-auto-3-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:37:36,487 INFO  [http-nio-auto-3-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:37:36,510 WARN  [http-nio-auto-3-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:37:36,541 WARN  [http-nio-auto-3-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/delivery', fieldErrors=[]}
2024-12-08 14:37:36,567 WARN  [http-nio-auto-3-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:33439/products
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:36 GMT
Keep-Alive: timeout=60
Connection: keep-alive

[
    {
        "productId": 1,
        "distillery": "Ardbeg",
        "name": "Ten",
        "price": 4420.0,
        "age": 10,
        "volume": 700,
        "alcohol": 46.0,
        "description": "Ten Years Old is the basis of the Ardbeg range. After 10 years of maturation in ex-bourbon casks, the whiskey bottled at 46% ABV without cold filtering. The characteristic peat, although clearly present but in perfect balance with the natural sweetness and not predominant in the taste.",
        "available": false,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:33439/products/1"
            }
        ]
    },
    {
        "productId": 2,
        "distillery": "Ardbeg",
        "name": "Uigeadail",
        "price": 7020.0,
        "age": 0,
        "volume": 700,
        "alcohol": 54.2,
        "description": "Ardbeg Uigedael is named after Loch Uigedael, the lake in the grounds of the distillery Ardbeg which are the water is an important factor in the distilling process. The Uigedael a vatted malt, bottled at 54.2% ABV without cold filtering. Ardbeg Uigedael has no age indication for the expression consists of various malts of different ages. Malts are used partly matured in ex-bourbon and partly on ex-sherry casks.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:33439/products/2"
            }
        ]
    },
    {
        "productId": 3,
        "distillery": "Balvenie",
        "name": "12 y.o. Doublewood",
        "price": 5403.0,
        "age": 12,
        "volume": 700,
        "alcohol": 40.0,
        "description": "Has clear influences from both bourbon and sherry wood. This malt has only 12 years aged in bourbon casks and then 3 months in young Oloroso casks. The peppery character from the bourbon barrels, penetrates, as it were by the rich and full aroma of Oloroso casks it. The Balvenie Double Wood is therefore a very complex malt.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:33439/products/3"
            }
        ]
    },
    {
        "productId": 4,
        "distillery": "Caol Ila",
        "name": "12 y.o.",
        "price": 4913.0,
        "age": 12,
        "volume": 700,
        "alcohol": 43.0,
        "description": "Smoked ham comes across delicately with citrus and cigar leaves. Fresh and smoky, probably the best part of this whisky. With an almost full body, oil and tar meet subtle smoke. Hints of sweet tastes like honey. Some spices like pepper combined with little sweetness.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:33439/products/4"
            }
        ]
    },
    {
        "productId": 5,
        "distillery": "Dalwhinnie",
        "name": "15 y.o.",
        "price": 6517.0,
        "age": 15,
        "volume": 750,
        "alcohol": 43.0,
        "description": "A good introduction to the delights of single malt whisky ‚Äì elegant, smooth and medium-bodied, with a light, fruity palate and a whiff of heather on the finish. Part of Diageo's Classic Malt range. ",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:33439/products/5"
            }
        ]
    },
    {
        "productId": 6,
        "distillery": "Lagavulin",
        "name": "16 y.o.",
        "price": 6620.0,
        "age": 16,
        "volume": 750,
        "alcohol": 43.0,
        "description": "The Islay representative in the 'Classic Malts' series is a deep, dry and exceptionally peaty bruiser. Probably the most pungent of all Islay malts, Lagavulin is not for the faint-hearted but inspires fanatical devotion in its many followers.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:33439/products/6"
            }
        ]
    },
    {
        "productId": 7,
        "distillery": "Laphroaig",
        "name": "Quarter Cask",
        "price": 5100.0,
        "age": 0,
        "volume": 700,
        "alcohol": 48.0,
        "description": "A vibrant young Laphroaig whose maturation has been accelerated by ageing in quarter casks. This shows soft sweetness and a velvety feel when first tasted, then the intense peatiness so unique to Laphroaig comes bursting through. A terrific whisky and great value.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:33439/products/7"
            }
        ]
    },
    {
        "productId": 8,
        "distillery": "Springbank",
        "name": "12 y.o. Cask Strength Batch 6",
        "price": 8127.0,
        "age": 12,
        "volume": 700,
        "alcohol": 53.1,
        "description": "Like a storm gathering of the Kintyre coast, dark and ominous, yet tastes so good. The richness comes from the high percentage of sherry casks used in maturation. This is a truly classic Springbank, best enjoyed after dinner, or with your favourite cigar.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:33439/products/8"
            }
        ]
    },
    {
        "productId": 9,
        "distillery": "Springbank",
        "name": "18 y.o.",
        "price": 14490.0,
        "age": 18,
        "volume": 700,
        "alcohol": 46.0,
        "description": "This heavily sherried 18-year-old Springbank has been bottled by Mark Reynier as part of his Renegade series. Distilled in 1995, this sherry hogshead was aged for 10 years in Campbeltown and then moved to Bruichladdich for a further eight years.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:33439/products/9"
            }
        ]
    },
    {
        "productId": 10,
        "distillery": "Talisker",
        "name": "10 y.o.",
        "price": 4683.0,
        "age": 10,
        "volume": 750,
        "alcohol": 45.8,
        "description": "Powerful peat smoke with the salinity of sea water and the moisture of fresh oysters. Full sweetness of dried fruit with smoke and strong aromas of malted barley, warm and intense. Peppery in the mouth. Big, long, warming and peppery on the finish with an attractive sweetness.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:33439/products/10"
            }
        ]
    },
    {
        "productId": 11,
        "distillery": "Glenkinchie",
        "name": "12 y.o.",
        "price": 4547.0,
        "age": 12,
        "volume": 700,
        "alcohol": 43.0,
        "description": "A light, delicate whiskey; sweet and creamy with a subtle floral aroma. This subtle, refined Lowland is ideal as an aperitif; try it straight from the fridge or freezer.",
        "available": false,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:33439/products/11"
            }
        ]
    }
]
2024-12-08 14:37:36,804 WARN  [http-nio-auto-3-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/999', fieldErrors=[{field='id', message='No instance with this id'}]}
Request method:	GET
Request URI:	http://localhost:33439/customer?name=invalidName
Proxy:			<none>
Request params:	<none>
Query params:	name=invalidName
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:36 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:37:37.043+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer"
}
2024-12-08 14:37:37,065 WARN  [http-nio-auto-3-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:37:37,094 WARN  [http-nio-auto-3-exec-9] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders/999', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:33439/customer/orders/999
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	orderId=999
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:36 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/orders/999",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:37:37,118 WARN  [http-nio-auto-3-exec-10] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:37:37,167 WARN  [http-nio-auto-3-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='creditCardDTO', description='uri=/customer/cart/pay', fieldErrors=[{field='ccNumber', message='Not a valid credit card number'}]}
Request method:	POST
Request URI:	http://localhost:33439/customer/cart/pay
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "ccNumber": "1234 5678 9012 3456"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:36 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/customer/cart/pay",
    "entityName": "creditCardDTO",
    "fieldErrors": [
        {
            "field": "ccNumber",
            "message": "Not a valid credit card number"
        }
    ]
}
2024-12-08 14:37:37,191 WARN  [http-nio-auto-3-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:37:37,222 WARN  [http-nio-auto-3-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:37:37,274 WARN  [http-nio-auto-3-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:33439/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:36 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:37:37,310 WARN  [http-nio-auto-3-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}, {field='email', message='The value shall be in the format of an email address'}, {field='name', message='Only letters, whitespace, hyphen and apostrophe are allowed'}, {field='password', message='Length shall be between 6 and 50 characters'}, {field='name', message='The value shall not be empty'}]}
2024-12-08 14:37:37,344 WARN  [http-nio-auto-3-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:33439/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:36 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:37:37,358 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-3"]
2024-12-08 14:37:37,358 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:37:37,359 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:37:37,361 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-3"]
2024-12-08 14:37:37,366 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-3"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m15[m, [1;31mFailures: [0;1;31m6[m, Errors: 0, Skipped: 0, Time elapsed: 2.897 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run02_RestExceptionHandlerTest[m
[[1;31mERROR[m] testGetProductsUnauthorized  Time elapsed: 0.216 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <401> but was <200>.

	at market.v2_gpt4o_run02_RestExceptionHandlerTest.testGetProductsUnauthorized(v2_gpt4o_run02_RestExceptionHandlerTest.java:169)

[[1;31mERROR[m] testGetCustomerInvalidName  Time elapsed: 0.237 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v2_gpt4o_run02_RestExceptionHandlerTest.testGetCustomerInvalidName(v2_gpt4o_run02_RestExceptionHandlerTest.java:70)

[[1;31mERROR[m] testGetOrderNotFound  Time elapsed: 0.028 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v2_gpt4o_run02_RestExceptionHandlerTest.testGetOrderNotFound(v2_gpt4o_run02_RestExceptionHandlerTest.java:160)

[[1;31mERROR[m] testPayByCardUnauthorized  Time elapsed: 0.053 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <401> but was <406>.

	at market.v2_gpt4o_run02_RestExceptionHandlerTest.testPayByCardUnauthorized(v2_gpt4o_run02_RestExceptionHandlerTest.java:120)

[[1;31mERROR[m] testGetCustomerValidData  Time elapsed: 0.054 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v2_gpt4o_run02_RestExceptionHandlerTest.testCreateCustomerValidData(v2_gpt4o_run02_RestExceptionHandlerTest.java:202)
	at market.v2_gpt4o_run02_RestExceptionHandlerTest.testGetCustomerValidData(v2_gpt4o_run02_RestExceptionHandlerTest.java:212)

[[1;31mERROR[m] testCreateCustomerValidData  Time elapsed: 0.036 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v2_gpt4o_run02_RestExceptionHandlerTest.testCreateCustomerValidData(v2_gpt4o_run02_RestExceptionHandlerTest.java:202)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run03_RestExceptionHandlerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:37,411 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:37,412 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:37,414 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:37,414 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:37,692 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:37,729 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 37 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:37,790 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:37,814 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6c5e6f13' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:37,817 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:37,883 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:37,885 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-4"]
2024-12-08 14:37:37,885 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:37,885 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:37,905 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:37,905 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 491 ms
2024-12-08 14:37:37,941 INFO  [main] c.z.h.HikariDataSource - HikariPool-4 - Starting...
2024-12-08 14:37:37,943 INFO  [main] c.z.h.HikariDataSource - HikariPool-4 - Start completed.
2024-12-08 14:37:37,964 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:37,993 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:38,013 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:38,015 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:38,155 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:38,156 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:38,427 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:38,611 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@576fcad4, org.springframework.security.web.context.SecurityContextPersistenceFilter@25248577, org.springframework.security.web.header.HeaderWriterFilter@2ed4fe68, org.springframework.security.web.authentication.logout.LogoutFilter@288bfd97, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6e2dcab8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1b21966d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@128f0cdf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4207c164, org.springframework.security.web.session.SessionManagementFilter@519d5596, org.springframework.security.web.access.ExceptionTranslationFilter@63dbac02, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@25c8dc38]
2024-12-08 14:37:38,645 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:38,759 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-4"]
2024-12-08 14:37:38,762 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 38601 (http) with context path ''
2024-12-08 14:37:38,913 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.54 seconds (JVM running for 25.36)
2024-12-08 14:37:38,982 INFO  [http-nio-auto-4-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:37:38,982 INFO  [http-nio-auto-4-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:37:38,984 INFO  [http-nio-auto-4-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:37:38,988 WARN  [http-nio-auto-4-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders/999', fieldErrors=[]}
2024-12-08 14:37:39,085 WARN  [http-nio-auto-4-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='creditCardDTO', description='uri=/customer/cart/pay', fieldErrors=[{field='ccNumber', message='The value shall not be empty'}]}
2024-12-08 14:37:39,137 WARN  [http-nio-auto-4-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:37:39,165 WARN  [http-nio-auto-4-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:37:39,201 WARN  [http-nio-auto-4-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:37:39,254 WARN  [http-nio-auto-4-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
2024-12-08 14:37:39,306 WARN  [http-nio-auto-4-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:37:39,330 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-4"]
2024-12-08 14:37:39,331 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:37:39,331 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:37:39,334 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-4"]
2024-12-08 14:37:39,338 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-4"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m7[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.945 s - in market.[1mv2_gpt4o_run03_RestExceptionHandlerTest[m
[[1;34mINFO[m] Running market.[1mv2_gpt4o_run01_CustomerRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:39,377 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:39,378 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:39,379 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:39,379 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:39,702 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:39,736 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:39,785 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:39,806 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7926aa2b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:39,808 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:39,854 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:39,856 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-5"]
2024-12-08 14:37:39,856 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:39,857 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:39,873 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:39,873 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 493 ms
2024-12-08 14:37:39,914 INFO  [main] c.z.h.HikariDataSource - HikariPool-5 - Starting...
2024-12-08 14:37:39,916 INFO  [main] c.z.h.HikariDataSource - HikariPool-5 - Start completed.
2024-12-08 14:37:39,941 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:39,963 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:39,980 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:39,983 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:40,116 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:40,117 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:40,350 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:40,557 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4dd04e0b, org.springframework.security.web.context.SecurityContextPersistenceFilter@6933aa9c, org.springframework.security.web.header.HeaderWriterFilter@dd2e32b, org.springframework.security.web.authentication.logout.LogoutFilter@29537067, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1050457a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2bcafaf3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@319b8f1a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3017c0a3, org.springframework.security.web.session.SessionManagementFilter@6171a8c8, org.springframework.security.web.access.ExceptionTranslationFilter@364e9eaf, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@55f1c1f2]
2024-12-08 14:37:40,588 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:40,710 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-5"]
2024-12-08 14:37:40,713 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 32923 (http) with context path ''
2024-12-08 14:37:40,901 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.559 seconds (JVM running for 27.348)
2024-12-08 14:37:40,975 INFO  [http-nio-auto-5-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:37:40,975 INFO  [http-nio-auto-5-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:37:40,977 INFO  [http-nio-auto-5-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 1 ms
2024-12-08 14:37:41,021 WARN  [http-nio-auto-5-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:32923/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:41 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:37:41,048 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-5"]
2024-12-08 14:37:41,048 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:37:41,049 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:37:41,051 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-5"]
2024-12-08 14:37:41,054 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-5"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m6[m, [1;31mFailures: [0;1;31m1[m, [1;31mErrors: [0;1;31m5[m, Skipped: 0, Time elapsed: 1.803 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run01_CustomerRestControllerTest[m
[[1;31mERROR[m] testSchemaValidation  Time elapsed: 0.086 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v2_gpt4o_run01_CustomerRestControllerTest.testSchemaValidation(v2_gpt4o_run01_CustomerRestControllerTest.java:166)

[[1;31mERROR[m] testInternalServerError  Time elapsed: 0.042 s  <<< ERROR!
java.net.ConnectException: Conex√£o recusada (Connection refused)
	at market.v2_gpt4o_run01_CustomerRestControllerTest.testInternalServerError(v2_gpt4o_run01_CustomerRestControllerTest.java:149)

[[1;31mERROR[m] testCreateCustomer  Time elapsed: 0.017 s  <<< ERROR!
java.net.ConnectException: Conex√£o recusada (Connection refused)
	at market.v2_gpt4o_run01_CustomerRestControllerTest.testCreateCustomer(v2_gpt4o_run01_CustomerRestControllerTest.java:70)

[[1;31mERROR[m] testCreateCustomerWithExistingEmail  Time elapsed: 0.018 s  <<< ERROR!
java.net.ConnectException: Conex√£o recusada (Connection refused)
	at market.v2_gpt4o_run01_CustomerRestControllerTest.testCreateCustomerWithExistingEmail(v2_gpt4o_run01_CustomerRestControllerTest.java:87)

[[1;31mERROR[m] testCreateCustomerWithInvalidData  Time elapsed: 0.017 s  <<< ERROR!
java.net.ConnectException: Conex√£o recusada (Connection refused)
	at market.v2_gpt4o_run01_CustomerRestControllerTest.testCreateCustomerWithInvalidData(v2_gpt4o_run01_CustomerRestControllerTest.java:133)

[[1;31mERROR[m] testGetCustomer  Time elapsed: 0.018 s  <<< ERROR!
java.net.ConnectException: Conex√£o recusada (Connection refused)
	at market.v2_gpt4o_run01_CustomerRestControllerTest.testGetCustomer(v2_gpt4o_run01_CustomerRestControllerTest.java:109)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run03_OrdersRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:41,183 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:41,184 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:41,188 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:41,188 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:41,447 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:41,479 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 31 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:41,535 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:41,555 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@598c77d1' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:41,558 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:41,604 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:41,606 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-6"]
2024-12-08 14:37:41,606 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:41,607 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:41,620 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:41,621 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 433 ms
2024-12-08 14:37:41,658 INFO  [main] c.z.h.HikariDataSource - HikariPool-6 - Starting...
2024-12-08 14:37:41,660 INFO  [main] c.z.h.HikariDataSource - HikariPool-6 - Start completed.
2024-12-08 14:37:41,686 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:41,711 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:41,727 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:41,730 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:41,863 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:41,864 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:42,080 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:42,298 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@112e10fb, org.springframework.security.web.context.SecurityContextPersistenceFilter@41a882a, org.springframework.security.web.header.HeaderWriterFilter@6f5b7e2c, org.springframework.security.web.authentication.logout.LogoutFilter@3216d147, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5cbcf541, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3fbce97f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@b224aba, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4495c70b, org.springframework.security.web.session.SessionManagementFilter@21890bfb, org.springframework.security.web.access.ExceptionTranslationFilter@5a7c3c3a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7f2db1a6]
2024-12-08 14:37:42,325 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:42,432 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-6"]
2024-12-08 14:37:42,435 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 46101 (http) with context path ''
2024-12-08 14:37:42,587 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.436 seconds (JVM running for 29.033)
2024-12-08 14:37:42,653 INFO  [http-nio-auto-6-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:37:42,653 INFO  [http-nio-auto-6-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:37:42,655 INFO  [http-nio-auto-6-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
Request method:	GET
Request URI:	http://localhost:46101/customer/orders/1
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic dW5hdXRob3JpemVkLnVzZXJAZXhhbXBsZS5jb206cGFzc3dvcmQ=
				Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:42 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:37:42.953+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer/orders/1"
}
Request method:	GET
Request URI:	http://localhost:46101/customer/orders?causeError=true
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic aXZhbi5wZXRyb3ZAeWFuZGV4LnJ1OnBldHJvdg==
				Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 200 
Set-Cookie: JSESSIONID=9598B7DB1F9F1E8BDDF18B3644C88AB8; Path=/; HttpOnly
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:42 GMT
Keep-Alive: timeout=60
Connection: keep-alive

[
    {
        "userAccount": "ivan.petrov@yandex.ru",
        "id": 1,
        "billNumber": 271320540,
        "dateCreated": "2019-12-27T03:00:00.000+00:00",
        "productsCost": 8127.0,
        "deliveryCost": 400,
        "deliveryIncluded": true,
        "totalCost": 8527.0,
        "payed": true,
        "executed": false,
        "links": [
            
        ]
    }
]
Request method:	GET
Request URI:	http://localhost:46101/customer/orders/1
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic aXZhbi5wZXRyb3ZAeWFuZGV4LnJ1OnBldHJvdg==
				Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 200 
Set-Cookie: JSESSIONID=63AA1EEEBB78DB1CFD1836FB66158509; Path=/; HttpOnly
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/hal+json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:42 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "userAccount": "ivan.petrov@yandex.ru",
    "id": 1,
    "billNumber": 271320540,
    "dateCreated": "2019-12-27T03:00:00.000+00:00",
    "productsCost": 8127.0,
    "deliveryCost": 400,
    "deliveryIncluded": true,
    "totalCost": 8527.0,
    "payed": true,
    "executed": false
}
Request method:	GET
Request URI:	http://localhost:46101/customer/orders
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic dW5hdXRob3JpemVkLnVzZXJAZXhhbXBsZS5jb206cGFzc3dvcmQ=
				Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:42 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:37:43.561+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer/orders"
}
Request method:	GET
Request URI:	http://localhost:46101/customer/orders/1?causeError=true
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic aXZhbi5wZXRyb3ZAeWFuZGV4LnJ1OnBldHJvdg==
				Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 200 
Set-Cookie: JSESSIONID=2C0DEA1AA93A690AEDC9BA700F109A44; Path=/; HttpOnly
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/hal+json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:42 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "userAccount": "ivan.petrov@yandex.ru",
    "id": 1,
    "billNumber": 271320540,
    "dateCreated": "2019-12-27T03:00:00.000+00:00",
    "productsCost": 8127.0,
    "deliveryCost": 400,
    "deliveryIncluded": true,
    "totalCost": 8527.0,
    "payed": true,
    "executed": false
}
2024-12-08 14:37:44,110 WARN  [http-nio-auto-6-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='OrderDTO', description='uri=/customer/orders/9999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:37:44,126 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-6"]
2024-12-08 14:37:44,127 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:37:44,127 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:37:44,130 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-6"]
2024-12-08 14:37:44,133 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-6"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m11[m, [1;31mFailures: [0;1;31m5[m, Errors: 0, Skipped: 0, Time elapsed: 2.976 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run03_OrdersRestControllerTest[m
[[1;31mERROR[m] testGetOrder_Forbidden  Time elapsed: 0.113 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <403> but was <401>.

	at market.v2_gpt4o_run03_OrdersRestControllerTest.testGetOrder_Forbidden(v2_gpt4o_run03_OrdersRestControllerTest.java:185)

[[1;31mERROR[m] testGetOrders_InternalServerError  Time elapsed: 0.13 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <200>.

	at market.v2_gpt4o_run03_OrdersRestControllerTest.testGetOrders_InternalServerError(v2_gpt4o_run03_OrdersRestControllerTest.java:121)

[[1;31mERROR[m] testGetOrder_SchemaValidation  Time elapsed: 0.144 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
JSON path $ doesn't match.
Expected: map containing ["_links"->ANYTHING]
  Actual: {userAccount=ivan.petrov@yandex.ru, id=1, billNumber=271320540, dateCreated=2019-12-27T03:00:00.000+00:00, productsCost=8127.0, deliveryCost=400, deliveryIncluded=true, totalCost=8527.0, payed=true, executed=false}

	at market.v2_gpt4o_run03_OrdersRestControllerTest.testGetOrder_SchemaValidation(v2_gpt4o_run03_OrdersRestControllerTest.java:158)

[[1;31mERROR[m] testGetOrders_Forbidden  Time elapsed: 0.097 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <403> but was <401>.

	at market.v2_gpt4o_run03_OrdersRestControllerTest.testGetOrders_Forbidden(v2_gpt4o_run03_OrdersRestControllerTest.java:175)

[[1;31mERROR[m] testGetOrder_InternalServerError  Time elapsed: 0.109 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <200>.

	at market.v2_gpt4o_run03_OrdersRestControllerTest.testGetOrder_InternalServerError(v2_gpt4o_run03_OrdersRestControllerTest.java:133)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run01_RestErrorResponseTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:44,168 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:44,168 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:44,170 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:44,170 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:44,479 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:44,522 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 42 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:44,584 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:44,611 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@760ecefe' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:44,613 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:44,661 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:44,662 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-7"]
2024-12-08 14:37:44,663 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:44,663 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:44,677 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:44,677 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 507 ms
2024-12-08 14:37:44,747 INFO  [main] c.z.h.HikariDataSource - HikariPool-7 - Starting...
2024-12-08 14:37:44,749 INFO  [main] c.z.h.HikariDataSource - HikariPool-7 - Start completed.
2024-12-08 14:37:44,764 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:44,786 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:44,802 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:44,804 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:44,915 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:44,916 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:45,092 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:45,251 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1ce3fbe5, org.springframework.security.web.context.SecurityContextPersistenceFilter@7110b46f, org.springframework.security.web.header.HeaderWriterFilter@54c209f0, org.springframework.security.web.authentication.logout.LogoutFilter@4a412857, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@50e106ac, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@26e9ffd2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6220ef76, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3c1b377, org.springframework.security.web.session.SessionManagementFilter@79f4b1cf, org.springframework.security.web.access.ExceptionTranslationFilter@5971cbf4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@9ca2c7e]
2024-12-08 14:37:45,286 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:45,388 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-7"]
2024-12-08 14:37:45,391 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 41733 (http) with context path ''
2024-12-08 14:37:45,543 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.405 seconds (JVM running for 31.99)
2024-12-08 14:37:45,610 INFO  [http-nio-auto-7-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:37:45,610 INFO  [http-nio-auto-7-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:37:45,613 INFO  [http-nio-auto-7-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:37:45,629 WARN  [http-nio-auto-7-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:37:45,665 WARN  [http-nio-auto-7-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:41733/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "phone": "+7 123 456 78 90",
    "address": "Updated Address"
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:45 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/contacts",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:37:45,717 WARN  [http-nio-auto-7-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='contactsDTO', description='uri=/customer/contacts', fieldErrors=[{field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}]}
2024-12-08 14:37:45,752 WARN  [http-nio-auto-7-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='email', message='The value shall be in the format of an email address'}]}
2024-12-08 14:37:45,775 WARN  [http-nio-auto-7-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:41733/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "productId": 1,
    "quantity": 2
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:45 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:37:45,793 WARN  [http-nio-auto-7-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	DELETE
Request URI:	http://localhost:41733/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:45 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:37:45,990 WARN  [http-nio-auto-7-exec-8] o.h.e.j.s.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2024-12-08 14:37:45,990 ERROR [http-nio-auto-7-exec-8] o.h.e.j.s.SqlExceptionHelper - Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.USER_ACCOUNT(ID) [1, 'admin', '$2a$10$Cmwx2Xr/PVpkibiiDz0s7eaVGZHPUvAu5ivdVC5BJgSYbp3c06FY6', 'Admin', TRUE]"; SQL statement:
insert into user_account (id, active, email, name, password) values (null, ?, ?, ?, ?) [23505-200]
Request method:	POST
Request URI:	http://localhost:41733/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "new.user@example.com",
    "phone": "+7 987 654 32 10",
    "name": "New User",
    "address": "Random Street 123",
    "password": "password"
}

2024-12-08 14:37:45,995 ERROR [http-nio-auto-7-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='could not execute statement; SQL [n/a]; constraint ["PRIMARY KEY ON PUBLIC.USER_ACCOUNT(ID) [1, 'admin', '$2a$10$Cmwx2Xr/PVpkibiiDz0s7eaVGZHPUvAu5ivdVC5BJgSYbp3c06FY6', 'Admin', TRUE]"; SQL statement:
insert into user_account (id, active, email, name, password) values (null, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement', entityName='null', description='uri=/register', fieldErrors=[]}
org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint ["PRIMARY KEY ON PUBLIC.USER_ACCOUNT(ID) [1, 'admin', '$2a$10$Cmwx2Xr/PVpkibiiDz0s7eaVGZHPUvAu5ivdVC5BJgSYbp3c06FY6', 'Admin', TRUE]"; SQL statement:
insert into user_account (id, active, email, name, password) values (null, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy150.save(Unknown Source)
	at market.service.impl.UserAccountServiceImpl.create(UserAccountServiceImpl.java:36)
	at market.service.impl.UserAccountServiceImpl$$FastClassBySpringCGLIB$$7a44f476.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at market.service.impl.UserAccountServiceImpl$$EnhancerBySpringCGLIB$$43c83216.create(<generated>)
	at market.rest.CustomerRestController.createCustomer(CustomerRestController.java:54)
	at market.rest.CustomerRestController$$FastClassBySpringCGLIB$$49b852d6.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:688)
	at market.rest.CustomerRestController$$EnhancerBySpringCGLIB$$5aed8910_7.createCustomer(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChaiHTTP/1.1 500 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:45 GMT
Connection: close

{
    "message": "could not execute statement; SQL [n/a]; constraint [\"PRIMARY KEY ON PUBLIC.USER_ACCOUNT(ID) [1, 'admin', '$2a$10$Cmwx2Xr/PVpkibiiDz0s7eaVGZHPUvAu5ivdVC5BJgSYbp3c06FY6', 'Admin', TRUE]\"; SQL statement:\ninsert into user_account (id, active, email, name, password) values (null, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement",
    "description": "uri=/register",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
nProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3200)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3806)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:93)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at com.sun.proxy.$Proxy143.persist(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at com.sun.proxy.$Proxy143.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:557)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:524)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:531)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:156)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 113 more
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.USER_ACCOUNT(ID) [1, 'admin', '$2a$10$Cmwx2Xr/PVpkibiiDz0s7eaVGZHPUvAu5ivdVC5BJgSYbp3c06FY6', 'Admin', TRUE]"; SQL statement:
insert into user_account (id, active, email, name, password) values (null, ?, ?, ?, ?) [23505-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:459)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:127)
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:531)
	at org.h2.command.dml.Insert.insertRows(Insert.java:195)
	at org.h2.command.dml.Insert.update(Insert.java:151)
	at org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:272)
	at org.h2.command.CommandContainer.update(CommandContainer.java:191)
	at org.h2.command.Command.executeUpdate(Command.java:251)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:191)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 166 more
2024-12-08 14:37:46,024 WARN  [http-nio-auto-7-exec-9] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='creditCardDTO', description='uri=/customer/cart/pay', fieldErrors=[{field='ccNumber', message='Not a valid credit card number'}]}
2024-12-08 14:37:46,046 WARN  [http-nio-auto-7-exec-10] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/delivery', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:41733/customer/cart/delivery?included=true
Proxy:			<none>
Request params:	<none>
Query params:	included=true
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:45 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart/delivery",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:37:46,066 WARN  [http-nio-auto-7-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:37:46,092 WARN  [http-nio-auto-7-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/pay', fieldErrors=[]}
Request method:	POST
Request URI:	http://localhost:41733/customer/cart/pay
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "ccNumber": "4111111111111111"
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:45 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart/pay",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:37:46,105 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-7"]
2024-12-08 14:37:46,105 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:37:46,106 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:37:46,108 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-7"]
2024-12-08 14:37:46,112 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-7"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m14[m, [1;31mFailures: [0;1;31m6[m, [1;31mErrors: [0;1;31m2[m, Skipped: 0, Time elapsed: 1.969 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run01_RestErrorResponseTest[m
[[1;31mERROR[m] testGetCustomer_NotFound  Time elapsed: 0.011 s  <<< ERROR!
java.lang.IllegalArgumentException: Illegal character in query at index 18: /customer?name=Non Existent User
	at market.v2_gpt4o_run01_RestErrorResponseTest.testGetCustomer_NotFound(v2_gpt4o_run01_RestErrorResponseTest.java:81)
Caused by: java.net.URISyntaxException: Illegal character in query at index 18: /customer?name=Non Existent User
	at market.v2_gpt4o_run01_RestErrorResponseTest.testGetCustomer_NotFound(v2_gpt4o_run01_RestErrorResponseTest.java:81)

[[1;31mERROR[m] testUpdateContacts_Success  Time elapsed: 0.037 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run01_RestErrorResponseTest.testUpdateContacts_Success(v2_gpt4o_run01_RestErrorResponseTest.java:240)

[[1;31mERROR[m] testGetCustomer_Success  Time elapsed: 0.005 s  <<< ERROR!
java.lang.IllegalArgumentException: Illegal character in query at index 19: /customer?name=Ivan Petrov
	at market.v2_gpt4o_run01_RestErrorResponseTest.testGetCustomer_Success(v2_gpt4o_run01_RestErrorResponseTest.java:66)
Caused by: java.net.URISyntaxException: Illegal character in query at index 19: /customer?name=Ivan Petrov
	at market.v2_gpt4o_run01_RestErrorResponseTest.testGetCustomer_Success(v2_gpt4o_run01_RestErrorResponseTest.java:66)

[[1;31mERROR[m] testAddItemToCart_Success  Time elapsed: 0.023 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run01_RestErrorResponseTest.testAddItemToCart_Success(v2_gpt4o_run01_RestErrorResponseTest.java:96)

[[1;31mERROR[m] testClearCart_Success  Time elapsed: 0.019 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run01_RestErrorResponseTest.testClearCart_Success(v2_gpt4o_run01_RestErrorResponseTest.java:121)

[[1;31mERROR[m] testCreateCustomer_Success  Time elapsed: 0.179 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <500>.

	at market.v2_gpt4o_run01_RestErrorResponseTest.testCreateCustomer_Success(v2_gpt4o_run01_RestErrorResponseTest.java:201)

[[1;31mERROR[m] testSetDelivery_Success  Time elapsed: 0.007 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run01_RestErrorResponseTest.testSetDelivery_Success(v2_gpt4o_run01_RestErrorResponseTest.java:133)

[[1;31mERROR[m] testPayByCard_Success  Time elapsed: 0.026 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <401>.

	at market.v2_gpt4o_run01_RestErrorResponseTest.testPayByCard_Success(v2_gpt4o_run01_RestErrorResponseTest.java:147)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run03_ContactsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:46,149 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:46,149 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:46,151 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:46,151 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:46,477 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:46,514 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 35 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:46,581 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:46,610 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5f23ff7' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:46,612 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:46,671 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:46,672 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-8"]
2024-12-08 14:37:46,672 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:46,673 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:46,692 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:46,692 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 541 ms
2024-12-08 14:37:46,731 INFO  [main] c.z.h.HikariDataSource - HikariPool-8 - Starting...
2024-12-08 14:37:46,732 INFO  [main] c.z.h.HikariDataSource - HikariPool-8 - Start completed.
2024-12-08 14:37:46,749 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:46,770 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:46,785 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:46,787 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:46,902 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:46,903 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:47,083 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:47,258 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@f056bb8, org.springframework.security.web.context.SecurityContextPersistenceFilter@64028ab, org.springframework.security.web.header.HeaderWriterFilter@43d270e, org.springframework.security.web.authentication.logout.LogoutFilter@624c9b23, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@316141e3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@37aad343, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5ac287ef, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5634abfe, org.springframework.security.web.session.SessionManagementFilter@4f9e15ab, org.springframework.security.web.access.ExceptionTranslationFilter@68db2000, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@59f3cc53]
2024-12-08 14:37:47,281 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:47,380 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-8"]
2024-12-08 14:37:47,382 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 42863 (http) with context path ''
2024-12-08 14:37:47,504 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.388 seconds (JVM running for 33.95)
2024-12-08 14:37:47,544 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-8"]
2024-12-08 14:37:47,544 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:37:47,547 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-8"]
2024-12-08 14:37:47,549 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-8"]

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:47,588 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:47,589 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:47,590 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:47,591 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:47,821 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:47,849 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:47,896 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:47,914 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7f21bee' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:47,916 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:47,959 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:47,960 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-9"]
2024-12-08 14:37:47,961 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:47,961 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:47,975 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:47,975 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 384 ms
2024-12-08 14:37:48,013 INFO  [main] c.z.h.HikariDataSource - HikariPool-9 - Starting...
2024-12-08 14:37:48,014 INFO  [main] c.z.h.HikariDataSource - HikariPool-9 - Start completed.
2024-12-08 14:37:48,031 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:48,051 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:48,088 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:48,089 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:48,195 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:48,196 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:48,372 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:48,518 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1640116e, org.springframework.security.web.context.SecurityContextPersistenceFilter@79c38a97, org.springframework.security.web.header.HeaderWriterFilter@3d4f75b9, org.springframework.security.web.authentication.logout.LogoutFilter@59058409, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6f3cf6cb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ad7a85, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43892534, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@755868a8, org.springframework.security.web.session.SessionManagementFilter@4896e2ed, org.springframework.security.web.access.ExceptionTranslationFilter@3ab8c557, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4dab8ed4]
2024-12-08 14:37:48,546 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:48,648 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-9"]
2024-12-08 14:37:48,651 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 33879 (http) with context path ''
2024-12-08 14:37:48,772 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.21 seconds (JVM running for 35.218)
2024-12-08 14:37:48,795 INFO  [http-nio-auto-9-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:37:48,796 INFO  [http-nio-auto-9-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:37:48,798 INFO  [http-nio-auto-9-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
Request method:	PUT
Request URI:	http://localhost:33879/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic aXZhbi5wZXRyb3ZAeWFuZGV4LnJ1OnBldHJvdg==
				Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "address": "New Address",
    "phone": "+7 123 456 78 91"
}

HTTP/1.1 401 
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:48 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:37:48.961+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer/contacts"
}
Request method:	GET
Request URI:	http://localhost:33879/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic aXZhbi5wZXRyb3ZAeWFuZGV4LnJ1OnBldHJvdg==
				Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:48 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:37:49.051+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer/contacts"
}
2024-12-08 14:37:49,064 WARN  [http-nio-auto-9-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:33879/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic aXZhbi5wZXRyb3ZAeWFuZGV4LnJ1OnBldHJvdg==
				Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "address": "New Address",
    "phone": "invalid_phone"
}

HTTP/1.1 401 
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:48 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:37:49.172+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer/contacts"
}
2024-12-08 14:37:49,183 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-9"]
2024-12-08 14:37:49,183 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:37:49,184 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:37:49,185 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-9"]
2024-12-08 14:37:49,188 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-9"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m5[m, [1;31mFailures: [0;1;31m3[m, Errors: 0, Skipped: 0, Time elapsed: 3.032 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run03_ContactsRestControllerTest[m
[[1;31mERROR[m] testUpdateContacts  Time elapsed: 0.185 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run03_ContactsRestControllerTest.testUpdateContacts(v2_gpt4o_run03_ContactsRestControllerTest.java:86)

[[1;31mERROR[m] testGetContacts  Time elapsed: 0.089 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run03_ContactsRestControllerTest.testGetContacts(v2_gpt4o_run03_ContactsRestControllerTest.java:69)

[[1;31mERROR[m] testUpdateContactsInvalidPhone  Time elapsed: 0.107 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <400> but was <401>.

	at market.v2_gpt4o_run03_ContactsRestControllerTest.testUpdateContactsInvalidPhone(v2_gpt4o_run03_ContactsRestControllerTest.java:103)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run02_ContactsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:49,215 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:49,216 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:49,217 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:49,217 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:49,456 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:49,481 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:49,539 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:49,559 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7c3e5691' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:49,561 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:49,604 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:49,605 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-10"]
2024-12-08 14:37:49,605 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:49,606 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:49,620 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:49,621 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 403 ms
2024-12-08 14:37:49,656 INFO  [main] c.z.h.HikariDataSource - HikariPool-10 - Starting...
2024-12-08 14:37:49,657 INFO  [main] c.z.h.HikariDataSource - HikariPool-10 - Start completed.
2024-12-08 14:37:49,675 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:49,700 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:49,721 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:49,723 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:49,864 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:49,865 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:50,040 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:50,199 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a1b3ae5, org.springframework.security.web.context.SecurityContextPersistenceFilter@1ec4c421, org.springframework.security.web.header.HeaderWriterFilter@67d3cf6d, org.springframework.security.web.authentication.logout.LogoutFilter@126851fb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@a28e944, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7cb4ff39, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5e5ef65, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7af44d08, org.springframework.security.web.session.SessionManagementFilter@d144d74, org.springframework.security.web.access.ExceptionTranslationFilter@6d41fa6a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@32a32541]
2024-12-08 14:37:50,225 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:50,311 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-10"]
2024-12-08 14:37:50,313 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 36349 (http) with context path ''
2024-12-08 14:37:50,437 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.244 seconds (JVM running for 36.884)
2024-12-08 14:37:50,476 INFO  [http-nio-auto-10-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:37:50,476 INFO  [http-nio-auto-10-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:37:50,478 INFO  [http-nio-auto-10-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:37:50,955 WARN  [http-nio-auto-10-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:37:51,077 WARN  [http-nio-auto-10-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='contactsDTO', description='uri=/customer/contacts', fieldErrors=[{field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}]}
2024-12-08 14:37:51,095 WARN  [http-nio-auto-10-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:37:51,109 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-10"]
2024-12-08 14:37:51,109 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:37:51,110 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:37:51,112 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-10"]
2024-12-08 14:37:51,114 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-10"]

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:51,144 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:51,144 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:51,146 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:51,146 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:51,367 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:51,392 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:51,455 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:51,473 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5ded7da1' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:51,475 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:51,512 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:51,513 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-11"]
2024-12-08 14:37:51,514 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:51,514 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:51,527 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:51,527 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 381 ms
2024-12-08 14:37:51,556 INFO  [main] c.z.h.HikariDataSource - HikariPool-11 - Starting...
2024-12-08 14:37:51,557 INFO  [main] c.z.h.HikariDataSource - HikariPool-11 - Start completed.
2024-12-08 14:37:51,570 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:51,588 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:51,601 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:51,603 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:51,714 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:51,714 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:51,905 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:52,062 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7359f57a, org.springframework.security.web.context.SecurityContextPersistenceFilter@115ba415, org.springframework.security.web.header.HeaderWriterFilter@47245917, org.springframework.security.web.authentication.logout.LogoutFilter@21fe2be3, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6774e9e8, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6f70afc, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@637e17d4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@64cf380a, org.springframework.security.web.session.SessionManagementFilter@3e1ab0b, org.springframework.security.web.access.ExceptionTranslationFilter@3ec52fc5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7b260d63]
2024-12-08 14:37:52,091 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:52,198 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-11"]
2024-12-08 14:37:52,200 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 41003 (http) with context path ''
2024-12-08 14:37:52,335 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.211 seconds (JVM running for 38.782)
2024-12-08 14:37:52,353 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-11"]
2024-12-08 14:37:52,353 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:37:52,355 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-11"]
2024-12-08 14:37:52,357 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-11"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m7[m, Failures: 0, [1;31mErrors: [0;1;31m1[m, Skipped: 0, Time elapsed: 3.162 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run02_ContactsRestControllerTest[m
[[1;31mERROR[m] testSchemaValidationOnGetContacts  Time elapsed: 0.221 s  <<< ERROR!
java.lang.IllegalArgumentException: Schema to use cannot be null
	at market.v2_gpt4o_run02_ContactsRestControllerTest.testSchemaValidationOnGetContacts(v2_gpt4o_run02_ContactsRestControllerTest.java:133)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run02_OrdersRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:52,388 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:52,389 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:52,390 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:52,390 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:52,586 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:52,609 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:52,653 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:52,672 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@40992bd9' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:52,673 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:52,718 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:52,719 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-12"]
2024-12-08 14:37:52,720 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:52,720 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:52,733 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:52,733 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 342 ms
2024-12-08 14:37:52,766 INFO  [main] c.z.h.HikariDataSource - HikariPool-12 - Starting...
2024-12-08 14:37:52,767 INFO  [main] c.z.h.HikariDataSource - HikariPool-12 - Start completed.
2024-12-08 14:37:52,783 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:52,800 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:52,815 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:52,817 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:52,918 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:52,919 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:53,120 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:53,264 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@2aba9807, org.springframework.security.web.context.SecurityContextPersistenceFilter@6faac1cc, org.springframework.security.web.header.HeaderWriterFilter@26ccf6c, org.springframework.security.web.authentication.logout.LogoutFilter@32623083, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2e14038b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@27e67c43, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4315d07c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17f2425c, org.springframework.security.web.session.SessionManagementFilter@6a1456c1, org.springframework.security.web.access.ExceptionTranslationFilter@5aa254de, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1a655339]
2024-12-08 14:37:53,291 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:53,387 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-12"]
2024-12-08 14:37:53,389 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 39201 (http) with context path ''
2024-12-08 14:37:53,504 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.144 seconds (JVM running for 39.951)
2024-12-08 14:37:53,545 INFO  [http-nio-auto-12-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:37:53,545 INFO  [http-nio-auto-12-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:37:53,548 INFO  [http-nio-auto-12-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 3 ms
2024-12-08 14:37:53,801 WARN  [http-nio-auto-12-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders', fieldErrors=[]}
2024-12-08 14:37:54,191 WARN  [http-nio-auto-12-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='OrderDTO', description='uri=/customer/orders/-1', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:37:54,298 ERROR [http-nio-auto-12-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: "invalid"', entityName='null', description='uri=/customer/orders/invalid', fieldErrors=[]}
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: "invalid"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.NumberFormatException: For input string: "invalid"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.base/java.lang.Long.parseLong(Long.java:692)
	at java.base/java.lang.Long.valueOf(Long.java:1144)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:214)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:696)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	... 85 more
Request method:	GET
Request URI:	http://localhost:39201/customer/orders/invalid
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic aXZhbi5wZXRyb3ZAeWFuZGV4LnJ1OnBldHJvdg==
				Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 500 
Set-Cookie: JSESSIONID=D71175F6BFE819064262C2B5CA8E0D77; Path=/; HttpOnly
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:53 GMT
Connection: close

{
    "message": "Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: \"invalid\"",
    "description": "uri=/customer/orders/invalid",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:37:54,399 ERROR [http-nio-auto-12-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: "invalidEndpoint"', entityName='null', description='uri=/customer/orders/invalidEndpoint', fieldErrors=[]}
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: "invalidEndpoint"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.NumberFormatException: For input string: "invalidEndpoint"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.base/java.lang.Long.parseLong(Long.java:692)
	at java.base/java.lang.Long.valueOf(Long.java:1144)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:214)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:696)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	... 85 more
Request method:	GET
Request URI:	http://localhost:39201/customer/orders/invalidEndpoint
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic aXZhbi5wZXRyb3ZAeWFuZGV4LnJ1OnBldHJvdg==
				Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 500 
Set-Cookie: JSESSIONID=2171F1BC07AD39ED1D7B09075DF250EB; Path=/; HttpOnly
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:53 GMT
Connection: close

{
    "message": "Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: \"invalidEndpoint\"",
    "description": "uri=/customer/orders/invalidEndpoint",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:37:54,726 WARN  [http-nio-auto-12-exec-10] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='OrderDTO', description='uri=/customer/orders/9999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:37:54,842 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-12"]
2024-12-08 14:37:54,842 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:37:54,843 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:37:54,845 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-12"]
2024-12-08 14:37:54,847 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-12"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m11[m, [1;31mFailures: [0;1;31m2[m, Errors: 0, Skipped: 0, Time elapsed: 2.482 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run02_OrdersRestControllerTest[m
[[1;31mERROR[m] testGetOrderInvalidId  Time elapsed: 0.125 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <400> but was <500>.

	at market.v2_gpt4o_run02_OrdersRestControllerTest.testGetOrderInvalidId(v2_gpt4o_run02_OrdersRestControllerTest.java:100)

[[1;31mERROR[m] testInvalidEndpoint  Time elapsed: 0.107 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <400> but was <500>.

	at market.v2_gpt4o_run02_OrdersRestControllerTest.testInvalidEndpoint(v2_gpt4o_run02_OrdersRestControllerTest.java:155)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run03_CartRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:54,871 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:54,889 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:54,890 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:54,890 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:55,095 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:55,121 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:55,163 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:55,179 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@35100375' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:55,181 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:55,216 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:55,217 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-13"]
2024-12-08 14:37:55,218 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:55,218 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:55,233 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:55,233 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 342 ms
2024-12-08 14:37:55,262 INFO  [main] c.z.h.HikariDataSource - HikariPool-13 - Starting...
2024-12-08 14:37:55,263 INFO  [main] c.z.h.HikariDataSource - HikariPool-13 - Start completed.
2024-12-08 14:37:55,275 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:55,290 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:55,302 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:55,304 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:55,401 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:55,402 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:55,629 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:55,817 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@666789fa, org.springframework.security.web.context.SecurityContextPersistenceFilter@17339de7, org.springframework.security.web.header.HeaderWriterFilter@430c1f03, org.springframework.security.web.authentication.logout.LogoutFilter@6fefc6d6, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@de80e49, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4f977acb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c40903d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@246a1dcb, org.springframework.security.web.session.SessionManagementFilter@34879ef8, org.springframework.security.web.access.ExceptionTranslationFilter@487211c3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@43baa254]
2024-12-08 14:37:55,855 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:55,946 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-13"]
2024-12-08 14:37:55,949 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 45907 (http) with context path ''
2024-12-08 14:37:56,053 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.203 seconds (JVM running for 42.5)
2024-12-08 14:37:56,094 INFO  [http-nio-auto-13-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:37:56,094 INFO  [http-nio-auto-13-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:37:56,096 INFO  [http-nio-auto-13-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:37:56,527 WARN  [http-nio-auto-13-exec-3] o.h.e.j.s.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2024-12-08 14:37:56,527 ERROR [http-nio-auto-13-exec-3] o.h.e.j.s.SqlExceptionHelper - Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]
2024-12-08 14:37:56,530 ERROR [http-nio-auto-13-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='could not execute statement; SQL [n/a]; constraint ["PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement', entityName='null', description='uri=/customer/cart/pay', fieldErrors=[]}
org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint ["PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy156.saveAndFlush(Unknown Source)
	at market.service.impl.OrderServiceImpl.createUserOrder(OrderServiceImpl.java:89)
	at market.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$2e692bca.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at market.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$f0180c92.createUserOrder(<generated>)
	at market.rest.CartRestController.payByCard(CartRestController.java:115)
	at market.rest.CartRestController$$FastClassBySpringCGLIB$$e4131698.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at market.rest.CartRestController$$EnhancerBySpringCGLIB$$c72d3d96_13.payByCard(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3200)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3806)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:194)
	at org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:179)
	at org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:75)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:93)
	at org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:636)
	at org.hibernate.internal.SessionImpl.save(SessionImpl.java:629)
	at org.hibernate.id.ForeignGenerator.generate(ForeignGenerator.java:119)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:93)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at com.sun.proxy.$Proxy143.persist(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at com.sun.proxy.$Proxy143.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:557)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAndFlush(SimpleJpaRepository.java:572)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:524)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:531)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:156)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 119 more
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:459)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:127)
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:531)
	at org.h2.command.dml.Insert.insertRows(Insert.java:195)
	at org.h2.command.dml.Insert.update(Insert.java:151)
	at org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:272)
	at org.h2.command.CommandContainer.update(CommandContainer.java:191)
	at org.h2.command.Command.executeUpdate(Command.java:251)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:191)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 183 more
2024-12-08 14:37:57,004 WARN  [http-nio-auto-13-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='Product', description='uri=/customer/cart', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:37:57,113 WARN  [http-nio-auto-13-exec-8] o.h.e.j.s.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2024-12-08 14:37:57,113 ERROR [http-nio-auto-13-exec-8] o.h.e.j.s.SqlExceptionHelper - Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]
2024-12-08 14:37:57,114 ERROR [http-nio-auto-13-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='could not execute statement; SQL [n/a]; constraint ["PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement', entityName='null', description='uri=/customer/cart/pay', fieldErrors=[]}
org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint ["PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy156.saveAndFlush(Unknown Source)
	at market.service.impl.OrderServiceImpl.createUserOrder(OrderServiceImpl.java:89)
	at market.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$2e692bca.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at market.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$f0180c92.createUserOrder(<generated>)
	at market.rest.CartRestController.payByCard(CartRestController.java:115)
	at market.rest.CartRestController$$FastClassBySpringCGLIB$$e4131698.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at market.rest.CartRestController$$EnhancerBySpringCGLIB$$c72d3d96_13.payByCard(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3200)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3806)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:194)
	at org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:179)
	at org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:75)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:93)
	at org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:636)
	at org.hibernate.internal.SessionImpl.save(SessionImpl.java:629)
	at org.hibernate.id.ForeignGenerator.generate(ForeignGenerator.java:119)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:93)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at com.sun.proxy.$Proxy143.persist(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at com.sun.proxy.$Proxy143.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:557)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAndFlush(SimpleJpaRepository.java:572)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:524)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:531)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:156)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 119 more
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:459)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:127)
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:531)
	at org.h2.command.dml.Insert.insertRows(Insert.java:195)
	at org.h2.command.dml.Insert.update(Insert.java:151)
	at org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:272)
	at org.h2.command.CommandContainer.update(CommandContainer.java:191)
	at org.h2.command.Command.executeUpdate(Command.java:251)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:191)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 183 more
2024-12-08 14:37:57,233 WARN  [http-nio-auto-13-exec-9] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='cartItemDTO', description='uri=/customer/cart', fieldErrors=[{field='quantity', message='Value shall be a positive number'}]}
2024-12-08 14:37:57,243 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-13"]
2024-12-08 14:37:57,244 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:37:57,244 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:37:57,247 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-13"]
2024-12-08 14:37:57,250 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-13"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m9[m, Failures: 0, [1;31mErrors: [0;1;31m1[m, Skipped: 0, Time elapsed: 2.397 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run03_CartRestControllerTest[m
[[1;31mERROR[m] testSchemaValidation  Time elapsed: 0.112 s  <<< ERROR!
java.lang.IllegalArgumentException: Schema to use cannot be null
	at market.v2_gpt4o_run03_CartRestControllerTest.testSchemaValidation(v2_gpt4o_run03_CartRestControllerTest.java:153)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run03_CustomerRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:57,273 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:57,274 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:57,275 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:57,275 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:57,478 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:57,499 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:57,539 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:57,556 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@18ab99d1' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:57,557 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:57,594 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:57,595 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-14"]
2024-12-08 14:37:57,596 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:57,596 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:57,610 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:57,610 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 335 ms
2024-12-08 14:37:57,639 INFO  [main] c.z.h.HikariDataSource - HikariPool-14 - Starting...
2024-12-08 14:37:57,641 INFO  [main] c.z.h.HikariDataSource - HikariPool-14 - Start completed.
2024-12-08 14:37:57,651 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:57,667 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:57,679 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:57,680 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:57,789 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:57,790 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:58,034 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:58,221 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@62c74612, org.springframework.security.web.context.SecurityContextPersistenceFilter@177bb36d, org.springframework.security.web.header.HeaderWriterFilter@35d429f6, org.springframework.security.web.authentication.logout.LogoutFilter@23bd58b2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@46000eba, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@703d59f1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64b24599, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@31cf7bf4, org.springframework.security.web.session.SessionManagementFilter@2055bfa6, org.springframework.security.web.access.ExceptionTranslationFilter@36c89aa, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5438799f]
2024-12-08 14:37:58,255 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:58,353 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-14"]
2024-12-08 14:37:58,356 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 37921 (http) with context path ''
2024-12-08 14:37:58,460 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.206 seconds (JVM running for 44.906)
2024-12-08 14:37:58,496 INFO  [http-nio-auto-14-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:37:58,496 INFO  [http-nio-auto-14-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:37:58,498 INFO  [http-nio-auto-14-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:37:58,567 WARN  [http-nio-auto-14-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:37921/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:58 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:37:58,592 WARN  [http-nio-auto-14-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:37921/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:58 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:37:58,612 WARN  [http-nio-auto-14-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:37921/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:58 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:37:58,623 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-14"]
2024-12-08 14:37:58,623 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:37:58,624 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:37:58,626 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-14"]
2024-12-08 14:37:58,630 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-14"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m5[m, [1;31mFailures: [0;1;31m3[m, Errors: 0, Skipped: 0, Time elapsed: 1.374 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run03_CustomerRestControllerTest[m
[[1;31mERROR[m] testCreateCustomerEmailExists  Time elapsed: 0.044 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v2_gpt4o_run03_CustomerRestControllerTest.testCreateCustomerEmailExists(v2_gpt4o_run03_CustomerRestControllerTest.java:88)

[[1;31mERROR[m] testCreateCustomer  Time elapsed: 0.021 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v2_gpt4o_run03_CustomerRestControllerTest.testCreateCustomer(v2_gpt4o_run03_CustomerRestControllerTest.java:70)

[[1;31mERROR[m] testGetCustomer  Time elapsed: 0.02 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v2_gpt4o_run03_CustomerRestControllerTest.testGetCustomer(v2_gpt4o_run03_CustomerRestControllerTest.java:120)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run01_OrdersRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:37:58,655 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:37:58,656 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:37:58,657 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:37:58,657 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:37:58,879 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:37:58,902 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 8 JPA repository interfaces.
2024-12-08 14:37:58,943 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:58,960 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1cbd19ad' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:58,961 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:37:58,997 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:37:58,998 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-15"]
2024-12-08 14:37:58,999 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:37:58,999 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:37:59,012 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:37:59,012 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 355 ms
2024-12-08 14:37:59,039 INFO  [main] c.z.h.HikariDataSource - HikariPool-15 - Starting...
2024-12-08 14:37:59,041 INFO  [main] c.z.h.HikariDataSource - HikariPool-15 - Start completed.
2024-12-08 14:37:59,050 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:37:59,064 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:37:59,078 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:59,079 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:37:59,170 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:37:59,171 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:37:59,388 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:37:59,619 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7f21560b, org.springframework.security.web.context.SecurityContextPersistenceFilter@4be10b59, org.springframework.security.web.header.HeaderWriterFilter@34917b5f, org.springframework.security.web.authentication.logout.LogoutFilter@743f092e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3ff8715c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@13b6830, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ecfa0cb, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@3cb19c91, org.springframework.security.web.session.SessionManagementFilter@44c9a91f, org.springframework.security.web.access.ExceptionTranslationFilter@5683927f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6d9e5583]
2024-12-08 14:37:59,648 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:37:59,745 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-15"]
2024-12-08 14:37:59,747 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 36213 (http) with context path ''
2024-12-08 14:37:59,886 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.252 seconds (JVM running for 46.333)
2024-12-08 14:37:59,936 INFO  [http-nio-auto-15-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:37:59,936 INFO  [http-nio-auto-15-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:37:59,938 INFO  [http-nio-auto-15-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:37:59,941 WARN  [http-nio-auto-15-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders/1', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:36213/customer/orders/1
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:59 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/orders/1",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:37:59,963 WARN  [http-nio-auto-15-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders', fieldErrors=[]}
2024-12-08 14:37:59,979 ERROR [http-nio-auto-15-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: "invalid"', entityName='null', description='uri=/customer/orders/invalid', fieldErrors=[]}
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: "invalid"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.NumberFormatException: For input string: "invalid"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.base/java.lang.Long.parseLong(Long.java:692)
	at java.base/java.lang.Long.valueOf(Long.java:1144)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:214)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:696)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	... 85 more
Request method:	GET
Request URI:	http://localhost:36213/customer/orders/invalid
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 500 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:59 GMT
Connection: close

{
    "message": "Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: \"invalid\"",
    "description": "uri=/customer/orders/invalid",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:37:59,996 WARN  [http-nio-auto-15-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders/1', fieldErrors=[]}
2024-12-08 14:38:00,014 WARN  [http-nio-auto-15-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders/9999', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:36213/customer/orders/9999
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:59 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/orders/9999",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:00,030 WARN  [http-nio-auto-15-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:36213/customer/orders
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:37:59 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/orders",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:00,042 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-15"]
2024-12-08 14:38:00,042 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:38:00,043 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:38:00,046 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-15"]
2024-12-08 14:38:00,049 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-15"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m6[m, [1;31mFailures: [0;1;31m4[m, Errors: 0, Skipped: 0, Time elapsed: 1.411 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run01_OrdersRestControllerTest[m
[[1;31mERROR[m] testGetOrder  Time elapsed: 0.029 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run01_OrdersRestControllerTest.testGetOrder(v2_gpt4o_run01_OrdersRestControllerTest.java:82)

[[1;31mERROR[m] testInternalServerError  Time elapsed: 0.039 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <400> but was <500>.

	at market.v2_gpt4o_run01_OrdersRestControllerTest.testInternalServerError(v2_gpt4o_run01_OrdersRestControllerTest.java:126)

[[1;31mERROR[m] testGetOrderNotFound  Time elapsed: 0.012 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v2_gpt4o_run01_OrdersRestControllerTest.testGetOrderNotFound(v2_gpt4o_run01_OrdersRestControllerTest.java:101)

[[1;31mERROR[m] testGetOrders  Time elapsed: 0.014 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run01_OrdersRestControllerTest.testGetOrders(v2_gpt4o_run01_OrdersRestControllerTest.java:65)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run02_CustomerRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:38:00,087 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:38:00,087 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:38:00,089 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:38:00,089 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:38:00,321 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:38:00,344 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 8 JPA repository interfaces.
2024-12-08 14:38:00,393 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:00,415 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@13319d92' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:00,417 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:00,477 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:38:00,480 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-16"]
2024-12-08 14:38:00,481 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:38:00,481 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:38:00,496 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:38:00,496 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 407 ms
2024-12-08 14:38:00,537 INFO  [main] c.z.h.HikariDataSource - HikariPool-16 - Starting...
2024-12-08 14:38:00,539 INFO  [main] c.z.h.HikariDataSource - HikariPool-16 - Start completed.
2024-12-08 14:38:00,556 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:38:00,578 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:38:00,594 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:00,595 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:00,724 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:38:00,726 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:00,906 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:38:01,144 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@65bfc4cb, org.springframework.security.web.context.SecurityContextPersistenceFilter@5472ea96, org.springframework.security.web.header.HeaderWriterFilter@4b7d44f9, org.springframework.security.web.authentication.logout.LogoutFilter@7a8634cc, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4c20bd73, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@34209d63, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@155b4d92, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@265a055e, org.springframework.security.web.session.SessionManagementFilter@2c701c91, org.springframework.security.web.access.ExceptionTranslationFilter@1f4fffa4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6d57d306]
2024-12-08 14:38:01,174 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:01,294 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-16"]
2024-12-08 14:38:01,296 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 35653 (http) with context path ''
2024-12-08 14:38:01,414 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.353 seconds (JVM running for 47.86)
2024-12-08 14:38:01,447 INFO  [http-nio-auto-16-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:38:01,447 INFO  [http-nio-auto-16-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:38:01,449 INFO  [http-nio-auto-16-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:38:01,695 WARN  [http-nio-auto-16-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:35653/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "phone": "+7 123 456 78 90",
    "name": "Ivan Petrov",
    "address": "Riesstrasse 18",
    "password": "petrov"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:01 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:38:01,737 WARN  [http-nio-auto-16-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:35653/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "phone": "+7 123 456 78 90",
    "name": "Ivan Petrov",
    "address": "Riesstrasse 18",
    "password": "petrov"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:01 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:38:01,761 WARN  [http-nio-auto-16-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:35653/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "phone": "+7 123 456 78 90",
    "name": "Ivan Petrov",
    "address": "Riesstrasse 18",
    "password": "petrov"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:01 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:38:01,772 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-16"]
2024-12-08 14:38:01,773 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:38:01,773 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:38:01,775 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-16"]
2024-12-08 14:38:01,778 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-16"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m5[m, [1;31mFailures: [0;1;31m3[m, Errors: 0, Skipped: 0, Time elapsed: 1.718 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run02_CustomerRestControllerTest[m
[[1;31mERROR[m] testRegisterCustomerDuplicateEmail  Time elapsed: 0.062 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v2_gpt4o_run02_CustomerRestControllerTest.testRegisterCustomerDuplicateEmail(v2_gpt4o_run02_CustomerRestControllerTest.java:127)

[[1;31mERROR[m] testSchemaValidationOnGetCustomer  Time elapsed: 0.025 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v2_gpt4o_run02_CustomerRestControllerTest.testSchemaValidationOnGetCustomer(v2_gpt4o_run02_CustomerRestControllerTest.java:175)

[[1;31mERROR[m] testRegisterCustomer  Time elapsed: 0.023 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v2_gpt4o_run02_CustomerRestControllerTest.testRegisterCustomer(v2_gpt4o_run02_CustomerRestControllerTest.java:96)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run02_ProductsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:38:01,808 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:38:01,808 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:38:01,809 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:38:01,809 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:38:02,043 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:38:02,066 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 8 JPA repository interfaces.
2024-12-08 14:38:02,110 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:02,129 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5bc69b58' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:02,130 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:02,173 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:38:02,175 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-17"]
2024-12-08 14:38:02,175 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:38:02,175 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:38:02,214 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:38:02,214 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 405 ms
2024-12-08 14:38:02,244 INFO  [main] c.z.h.HikariDataSource - HikariPool-17 - Starting...
2024-12-08 14:38:02,246 INFO  [main] c.z.h.HikariDataSource - HikariPool-17 - Start completed.
2024-12-08 14:38:02,264 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:38:02,287 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:38:02,302 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:02,304 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:02,429 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:38:02,430 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:02,684 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:38:02,829 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5c55f9ba, org.springframework.security.web.context.SecurityContextPersistenceFilter@4c60271f, org.springframework.security.web.header.HeaderWriterFilter@1991cc80, org.springframework.security.web.authentication.logout.LogoutFilter@5834564c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1ef74acf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@398eb40f, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2eec9a72, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1855aeac, org.springframework.security.web.session.SessionManagementFilter@1e7423d, org.springframework.security.web.access.ExceptionTranslationFilter@4e57798d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3ffc804e]
2024-12-08 14:38:02,872 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:02,971 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-17"]
2024-12-08 14:38:02,973 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 39267 (http) with context path ''
2024-12-08 14:38:03,068 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.286 seconds (JVM running for 49.515)
2024-12-08 14:38:03,107 INFO  [http-nio-auto-17-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:38:03,107 INFO  [http-nio-auto-17-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:38:03,109 INFO  [http-nio-auto-17-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:38:03,116 WARN  [http-nio-auto-17-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:38:03,284 WARN  [http-nio-auto-17-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/-1', fieldErrors=[{field='id', message='No instance with this id'}]}
Request method:	GET
Request URI:	http://localhost:39267/products/-1
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	productId=-1
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 404 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:03 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Requested entity doesn't exist",
    "description": "uri=/products/-1",
    "entityName": "ProductDTO",
    "fieldErrors": [
        {
            "field": "id",
            "message": "No instance with this id"
        }
    ]
}
2024-12-08 14:38:03,418 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-17"]
2024-12-08 14:38:03,418 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:38:03,419 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:38:03,421 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-17"]
2024-12-08 14:38:03,426 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-17"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m6[m, [1;31mFailures: [0;1;31m1[m, Errors: 0, Skipped: 0, Time elapsed: 1.642 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run02_ProductsRestControllerTest[m
[[1;31mERROR[m] testGetProductInternalError  Time elapsed: 0.019 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <404>.

	at market.v2_gpt4o_run02_ProductsRestControllerTest.testGetProductInternalError(v2_gpt4o_run02_ProductsRestControllerTest.java:107)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run01_ProductsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:38:03,461 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:38:03,462 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:38:03,463 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:38:03,463 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:38:03,706 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:38:03,733 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 8 JPA repository interfaces.
2024-12-08 14:38:03,788 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:03,810 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3b113118' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:03,812 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:03,862 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:38:03,863 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-18"]
2024-12-08 14:38:03,864 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:38:03,864 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:38:03,916 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:38:03,916 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 453 ms
2024-12-08 14:38:03,961 INFO  [main] c.z.h.HikariDataSource - HikariPool-18 - Starting...
2024-12-08 14:38:03,963 INFO  [main] c.z.h.HikariDataSource - HikariPool-18 - Start completed.
2024-12-08 14:38:03,977 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:38:03,999 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:38:04,014 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:04,016 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:04,123 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:38:04,124 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:04,328 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:38:04,450 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5b364fd1, org.springframework.security.web.context.SecurityContextPersistenceFilter@306b7001, org.springframework.security.web.header.HeaderWriterFilter@698fa83, org.springframework.security.web.authentication.logout.LogoutFilter@441f6487, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@31e1b70c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6d0ae0d2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2c874312, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1d52a5d5, org.springframework.security.web.session.SessionManagementFilter@16e2bf20, org.springframework.security.web.access.ExceptionTranslationFilter@56b1ae4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@77bbb75]
2024-12-08 14:38:04,474 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:04,550 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-18"]
2024-12-08 14:38:04,553 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 41977 (http) with context path ''
2024-12-08 14:38:04,646 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.214 seconds (JVM running for 51.093)
2024-12-08 14:38:04,680 INFO  [http-nio-auto-18-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:38:04,680 INFO  [http-nio-auto-18-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:38:04,682 INFO  [http-nio-auto-18-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 1 ms
2024-12-08 14:38:04,689 WARN  [http-nio-auto-18-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:38:04,773 ERROR [http-nio-auto-18-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: "invalid"', entityName='null', description='uri=/products/invalid', fieldErrors=[]}
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: "invalid"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.NumberFormatException: For input string: "invalid"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.base/java.lang.Long.parseLong(Long.java:692)
	at java.base/java.lang.Long.valueOf(Long.java:1144)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:214)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:696)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	... 85 more
2024-12-08 14:38:04,993 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-18"]
2024-12-08 14:38:04,993 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:38:04,994 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:38:04,996 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-18"]
2024-12-08 14:38:04,999 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-18"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m8[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.567 s - in market.[1mv2_gpt4o_run01_ProductsRestControllerTest[m
[[1;34mINFO[m] Running market.[1mv2_gpt4o_run03_RestErrorResponseTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:38:05,035 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:38:05,036 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:38:05,037 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:38:05,037 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:38:05,321 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:38:05,365 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 44 ms. Found 8 JPA repository interfaces.
2024-12-08 14:38:05,417 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:05,461 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3c367667' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:05,462 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:05,516 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:38:05,517 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-19"]
2024-12-08 14:38:05,518 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:38:05,518 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:38:05,531 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:38:05,531 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 494 ms
2024-12-08 14:38:05,562 INFO  [main] c.z.h.HikariDataSource - HikariPool-19 - Starting...
2024-12-08 14:38:05,563 INFO  [main] c.z.h.HikariDataSource - HikariPool-19 - Start completed.
2024-12-08 14:38:05,576 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:38:05,593 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:38:05,609 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:05,610 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:05,726 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:38:05,726 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:05,896 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:38:06,030 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@76fec003, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f9596be, org.springframework.security.web.header.HeaderWriterFilter@18b6d02a, org.springframework.security.web.authentication.logout.LogoutFilter@67c99afb, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5bf3258c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1becfd18, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@35f549cf, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@555a7284, org.springframework.security.web.session.SessionManagementFilter@10123b8e, org.springframework.security.web.access.ExceptionTranslationFilter@649001bd, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4dadf399]
2024-12-08 14:38:06,059 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:06,171 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-19"]
2024-12-08 14:38:06,173 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 32875 (http) with context path ''
2024-12-08 14:38:06,285 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.282 seconds (JVM running for 52.731)
2024-12-08 14:38:06,326 INFO  [http-nio-auto-19-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:38:06,326 INFO  [http-nio-auto-19-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:38:06,328 INFO  [http-nio-auto-19-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:38:06,353 WARN  [http-nio-auto-19-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='email', message='The value shall be in the format of an email address'}]}
Request method:	POST
Request URI:	http://localhost:32875/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "invalid-email",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:06 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "userDTO",
    "fieldErrors": [
        {
            "field": "email",
            "message": "The value shall be in the format of an email address"
        }
    ]
}
Request method:	GET
Request URI:	http://localhost:32875/customer?name=nonexistent
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:06 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:38:06.607+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer"
}
2024-12-08 14:38:06,623 WARN  [http-nio-auto-19-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/delivery', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:32875/customer/cart/delivery?included=true&name=Ivan
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:06 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart/delivery",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:06,644 WARN  [http-nio-auto-19-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:32875/customer/contacts?name=Ivan
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "address": "Riesstrasse 19",
    "phone": "+7 987 654 32 10"
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:06 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/contacts",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:06,660 WARN  [http-nio-auto-19-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	DELETE
Request URI:	http://localhost:32875/customer/cart?name=Ivan
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:06 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:06,678 WARN  [http-nio-auto-19-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/9999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:38:06,725 WARN  [http-nio-auto-19-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:32875/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:06 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:38:06,830 WARN  [http-nio-auto-19-exec-10] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='creditCardDTO', description='uri=/customer/cart/pay', fieldErrors=[{field='ccNumber', message='Card number shall consist of 13-16 digits'}, {field='ccNumber', message='Not a valid credit card number'}]}
Request method:	POST
Request URI:	http://localhost:32875/customer/cart/pay?name=Ivan
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "ccNumber": "1234"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:06 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/customer/cart/pay",
    "entityName": "creditCardDTO",
    "fieldErrors": [
        {
            "field": "ccNumber",
            "message": "Card number shall consist of 13-16 digits"
        },
        {
            "field": "ccNumber",
            "message": "Not a valid credit card number"
        }
    ]
}
2024-12-08 14:38:06,855 WARN  [http-nio-auto-19-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/delivery', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:32875/customer/cart/delivery?included=false&name=Ivan
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:06 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart/delivery",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:06,877 WARN  [http-nio-auto-19-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:32875/customer/cart?name=Ivan
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "productId": 9999,
    "quantity": 1
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:06 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:06,892 WARN  [http-nio-auto-19-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders/9999', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:32875/customer/orders/9999
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:06 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/orders/9999",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:06,911 WARN  [http-nio-auto-19-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:32875/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:06 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:06,935 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-19"]
2024-12-08 14:38:06,935 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:38:06,936 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:38:06,938 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-19"]
2024-12-08 14:38:06,942 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-19"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m13[m, [1;31mFailures: [0;1;31m11[m, Errors: 0, Skipped: 0, Time elapsed: 1.921 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run03_RestErrorResponseTest[m
[[1;31mERROR[m] testCreateCustomerInvalidEmail  Time elapsed: 0.089 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
JSON path message doesn't match.
Expected: a string containing "The value shall be in the format of an email address"
  Actual: Argument validation error

	at market.v2_gpt4o_run03_RestErrorResponseTest.testCreateCustomerInvalidEmail(v2_gpt4o_run03_RestErrorResponseTest.java:111)

[[1;31mERROR[m] testGetCustomerNotFound  Time elapsed: 0.214 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v2_gpt4o_run03_RestErrorResponseTest.testGetCustomerNotFound(v2_gpt4o_run03_RestErrorResponseTest.java:64)

[[1;31mERROR[m] testSetDeliveryIncluded  Time elapsed: 0.017 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run03_RestErrorResponseTest.testSetDeliveryIncluded(v2_gpt4o_run03_RestErrorResponseTest.java:187)

[[1;31mERROR[m] testUpdateContacts  Time elapsed: 0.021 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run03_RestErrorResponseTest.testUpdateContacts(v2_gpt4o_run03_RestErrorResponseTest.java:175)

[[1;31mERROR[m] testClearCart  Time elapsed: 0.015 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run03_RestErrorResponseTest.testClearCart(v2_gpt4o_run03_RestErrorResponseTest.java:163)

[[1;31mERROR[m] testCreateCustomer  Time elapsed: 0.034 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v2_gpt4o_run03_RestErrorResponseTest.testCreateCustomer(v2_gpt4o_run03_RestErrorResponseTest.java:96)

[[1;31mERROR[m] testPayByCardInvalidCardNumber  Time elapsed: 0.033 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
JSON path message doesn't match.
Expected: a string containing "Card number shall consist of 13-16 digits"
  Actual: Argument validation error

	at market.v2_gpt4o_run03_RestErrorResponseTest.testPayByCardInvalidCardNumber(v2_gpt4o_run03_RestErrorResponseTest.java:154)

[[1;31mERROR[m] testSetDeliveryExcluded  Time elapsed: 0.016 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run03_RestErrorResponseTest.testSetDeliveryExcluded(v2_gpt4o_run03_RestErrorResponseTest.java:198)

[[1;31mERROR[m] testAddItemToCartInvalidProduct  Time elapsed: 0.022 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v2_gpt4o_run03_RestErrorResponseTest.testAddItemToCartInvalidProduct(v2_gpt4o_run03_RestErrorResponseTest.java:76)

[[1;31mERROR[m] testGetOrderNotFound  Time elapsed: 0.014 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v2_gpt4o_run03_RestErrorResponseTest.testGetOrderNotFound(v2_gpt4o_run03_RestErrorResponseTest.java:141)

[[1;31mERROR[m] testGetCartUnauthorized  Time elapsed: 0.031 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
JSON path message doesn't match.
Expected: Unauthorized
  Actual: Acesso negado

	at market.v2_gpt4o_run03_RestErrorResponseTest.testGetCartUnauthorized(v2_gpt4o_run03_RestErrorResponseTest.java:86)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run01_RestExceptionHandlerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:38:06,971 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:38:06,972 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:38:06,973 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:38:06,973 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:38:07,190 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:38:07,215 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 8 JPA repository interfaces.
2024-12-08 14:38:07,251 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:07,271 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2382c68b' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:07,272 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:07,314 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:38:07,314 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-20"]
2024-12-08 14:38:07,315 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:38:07,315 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:38:07,326 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:38:07,326 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 353 ms
2024-12-08 14:38:07,357 INFO  [main] c.z.h.HikariDataSource - HikariPool-20 - Starting...
2024-12-08 14:38:07,358 INFO  [main] c.z.h.HikariDataSource - HikariPool-20 - Start completed.
2024-12-08 14:38:07,369 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:38:07,384 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:38:07,394 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:07,396 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:07,477 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:38:07,477 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:07,633 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:38:07,755 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71f042d2, org.springframework.security.web.context.SecurityContextPersistenceFilter@2cebb345, org.springframework.security.web.header.HeaderWriterFilter@3ce5fb2a, org.springframework.security.web.authentication.logout.LogoutFilter@7fa1fe5b, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5d41f71e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a7b717a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9d4f5b4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@37046978, org.springframework.security.web.session.SessionManagementFilter@606cf3dc, org.springframework.security.web.access.ExceptionTranslationFilter@71e8e9d3, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@66e968a7]
2024-12-08 14:38:07,774 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:07,851 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-20"]
2024-12-08 14:38:07,853 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 41639 (http) with context path ''
2024-12-08 14:38:07,952 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.005 seconds (JVM running for 54.398)
2024-12-08 14:38:07,986 INFO  [http-nio-auto-20-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:38:07,986 INFO  [http-nio-auto-20-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:38:07,988 INFO  [http-nio-auto-20-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:38:08,001 WARN  [http-nio-auto-20-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:41639/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "productId": 999999,
    "quantity": 1
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:08 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:08,039 WARN  [http-nio-auto-20-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='email', message='The value shall be in the format of an email address'}]}
Request method:	GET
Request URI:	http://localhost:41639/customer?name=NonExistentUser
Proxy:			<none>
Request params:	<none>
Query params:	name=NonExistentUser
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:08 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:38:08.239+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer"
}
2024-12-08 14:38:08,265 ERROR [http-nio-auto-20-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Required boolean parameter 'included' is not present', entityName='null', description='uri=/customer/cart/delivery', fieldErrors=[]}
org.springframework.web.bind.MissingServletRequestParameterException: Required boolean parameter 'included' is not present
	at org.springframework.web.method.annotation.RequestParamMethodArgumentResolver.handleMissingValue(RequestParamMethodArgumentResolver.java:204)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:114)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:668)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2024-12-08 14:38:08,288 WARN  [http-nio-auto-20-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='creditCardDTO', description='uri=/customer/cart/pay', fieldErrors=[{field='ccNumber', message='Card number shall consist of 13-16 digits'}, {field='ccNumber', message='Not a valid credit card number'}]}
2024-12-08 14:38:08,298 WARN  [http-nio-auto-20-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders', fieldErrors=[]}
2024-12-08 14:38:08,318 WARN  [http-nio-auto-20-exec-9] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
2024-12-08 14:38:08,328 WARN  [http-nio-auto-20-exec-10] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:38:08,341 WARN  [http-nio-auto-20-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:38:08,351 WARN  [http-nio-auto-20-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:38:08,360 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-20"]
2024-12-08 14:38:08,361 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:38:08,361 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:38:08,363 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-20"]
2024-12-08 14:38:08,366 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-20"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m11[m, [1;31mFailures: [0;1;31m2[m, Errors: 0, Skipped: 0, Time elapsed: 1.41 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run01_RestExceptionHandlerTest[m
[[1;31mERROR[m] testAddToCartInvalidProduct  Time elapsed: 0.035 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v2_gpt4o_run01_RestExceptionHandlerTest.testAddToCartInvalidProduct(v2_gpt4o_run01_RestExceptionHandlerTest.java:89)

[[1;31mERROR[m] testGetCustomerNotFound  Time elapsed: 0.198 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v2_gpt4o_run01_RestExceptionHandlerTest.testGetCustomerNotFound(v2_gpt4o_run01_RestExceptionHandlerTest.java:76)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run03_ProductsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:38:08,388 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:38:08,389 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:38:08,390 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:38:08,390 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:38:08,595 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:38:08,624 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 8 JPA repository interfaces.
2024-12-08 14:38:08,664 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:08,680 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7b6a0270' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:08,682 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:08,722 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:38:08,723 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-21"]
2024-12-08 14:38:08,723 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:38:08,724 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:38:08,735 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:38:08,735 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 345 ms
2024-12-08 14:38:08,768 INFO  [main] c.z.h.HikariDataSource - HikariPool-21 - Starting...
2024-12-08 14:38:08,769 INFO  [main] c.z.h.HikariDataSource - HikariPool-21 - Start completed.
2024-12-08 14:38:08,779 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:38:08,793 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:38:08,804 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:08,805 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:08,887 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:38:08,887 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:09,081 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:38:09,212 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@22e77b90, org.springframework.security.web.context.SecurityContextPersistenceFilter@65e82dea, org.springframework.security.web.header.HeaderWriterFilter@2aca5459, org.springframework.security.web.authentication.logout.LogoutFilter@1a7b8ff7, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6ae49a3b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@470d3b0d, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3f9dd729, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@14f36917, org.springframework.security.web.session.SessionManagementFilter@730ce87, org.springframework.security.web.access.ExceptionTranslationFilter@796b7597, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5e07ec27]
2024-12-08 14:38:09,233 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:09,306 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-21"]
2024-12-08 14:38:09,309 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 40335 (http) with context path ''
2024-12-08 14:38:09,396 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.025 seconds (JVM running for 55.843)
2024-12-08 14:38:09,433 INFO  [http-nio-auto-21-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:38:09,433 INFO  [http-nio-auto-21-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:38:09,436 INFO  [http-nio-auto-21-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 3 ms
2024-12-08 14:38:09,439 ERROR [http-nio-auto-21-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: "trigger500"', entityName='null', description='uri=/products/trigger500', fieldErrors=[]}
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: "trigger500"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.NumberFormatException: For input string: "trigger500"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.base/java.lang.Long.parseLong(Long.java:692)
	at java.base/java.lang.Long.valueOf(Long.java:1144)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:214)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:696)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	... 85 more
2024-12-08 14:38:09,464 WARN  [http-nio-auto-21-exec-2] o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
Request method:	POST
Request URI:	http://localhost:40335/products
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "volume": 750,
    "price": 19.99,
    "alcohol": 40,
    "name": "Test Product"
}

HTTP/1.1 405 
Allow: GET
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:09 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:38:09.466+00:00",
    "status": 405,
    "error": "Method Not Allowed",
    "message": "",
    "path": "/products"
}
2024-12-08 14:38:09,552 WARN  [http-nio-auto-21-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/9999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:38:09,639 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-21"]
2024-12-08 14:38:09,639 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:38:09,640 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:38:09,641 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-21"]
2024-12-08 14:38:09,644 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-21"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m5[m, [1;31mFailures: [0;1;31m1[m, Errors: 0, Skipped: 0, Time elapsed: 1.271 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run03_ProductsRestControllerTest[m
[[1;31mERROR[m] testBusinessRuleEnforcement  Time elapsed: 0.002 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <405>.

	at market.v2_gpt4o_run03_ProductsRestControllerTest.testBusinessRuleEnforcement(v2_gpt4o_run03_ProductsRestControllerTest.java:111)

[[1;34mINFO[m] Running market.[1mv2_gpt4o_run02_RestErrorResponseTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:38:09,667 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:38:09,667 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:38:09,668 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:38:09,668 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:38:09,841 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:38:09,860 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 8 JPA repository interfaces.
2024-12-08 14:38:09,887 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:09,900 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1905e8dd' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:09,901 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:09,927 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:38:09,927 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-22"]
2024-12-08 14:38:09,928 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:38:09,928 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:38:09,938 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:38:09,938 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 270 ms
2024-12-08 14:38:09,960 INFO  [main] c.z.h.HikariDataSource - HikariPool-22 - Starting...
2024-12-08 14:38:09,961 INFO  [main] c.z.h.HikariDataSource - HikariPool-22 - Start completed.
2024-12-08 14:38:09,973 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:38:09,986 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:38:09,996 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:09,998 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:10,080 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:38:10,081 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:10,269 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:38:10,399 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fda2782, org.springframework.security.web.context.SecurityContextPersistenceFilter@219929ee, org.springframework.security.web.header.HeaderWriterFilter@3733564e, org.springframework.security.web.authentication.logout.LogoutFilter@3298a39a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4fedf86d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@e8442d0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@23a8f468, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@13ad77b1, org.springframework.security.web.session.SessionManagementFilter@75f190c4, org.springframework.security.web.access.ExceptionTranslationFilter@6d584d40, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@664c5142]
2024-12-08 14:38:10,420 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:10,500 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-22"]
2024-12-08 14:38:10,502 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 34265 (http) with context path ''
2024-12-08 14:38:10,615 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.966 seconds (JVM running for 57.061)
2024-12-08 14:38:10,655 INFO  [http-nio-auto-22-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:38:10,655 INFO  [http-nio-auto-22-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:38:10,657 INFO  [http-nio-auto-22-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:38:10,660 WARN  [http-nio-auto-22-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/delivery', fieldErrors=[]}
2024-12-08 14:38:10,711 WARN  [http-nio-auto-22-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:38:10,750 WARN  [http-nio-auto-22-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:38:10,781 WARN  [http-nio-auto-22-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='creditCardDTO', description='uri=/customer/cart/pay', fieldErrors=[{field='ccNumber', message='Not a valid credit card number'}]}
2024-12-08 14:38:10,814 WARN  [http-nio-auto-22-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:38:10,863 WARN  [http-nio-auto-22-exec-10] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
2024-12-08 14:38:10,881 WARN  [http-nio-auto-22-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='cartItemDTO', description='uri=/customer/cart', fieldErrors=[{field='quantity', message='Value shall be a positive number'}, {field='productId', message='Value shall be a positive number'}]}
2024-12-08 14:38:10,900 WARN  [http-nio-auto-22-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='creditCardDTO', description='uri=/customer/cart/pay', fieldErrors=[{field='ccNumber', message='Card number shall consist of 13-16 digits'}, {field='ccNumber', message='Not a valid credit card number'}]}
2024-12-08 14:38:10,918 WARN  [http-nio-auto-22-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='contactsDTO', description='uri=/customer/contacts', fieldErrors=[{field='address', message='The value shall not be empty'}, {field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}]}
2024-12-08 14:38:10,928 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-22"]
2024-12-08 14:38:10,928 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:38:10,929 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:38:10,931 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-22"]
2024-12-08 14:38:10,937 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-22"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m13[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.286 s - in market.[1mv2_gpt4o_run02_RestErrorResponseTest[m
[[1;34mINFO[m] Running market.[1mv2_gpt4o_run02_CartRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:38:10,965 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 30388 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:38:10,965 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:38:10,966 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:38:10,966 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:38:11,178 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:38:11,203 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 8 JPA repository interfaces.
2024-12-08 14:38:11,242 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$4e787cbc] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:11,260 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6af49dcb' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:11,262 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:38:11,299 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:38:11,301 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-23"]
2024-12-08 14:38:11,301 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:38:11,301 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:38:11,314 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:38:11,314 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 347 ms
2024-12-08 14:38:11,345 INFO  [main] c.z.h.HikariDataSource - HikariPool-23 - Starting...
2024-12-08 14:38:11,347 INFO  [main] c.z.h.HikariDataSource - HikariPool-23 - Start completed.
2024-12-08 14:38:11,357 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:38:11,371 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:38:11,380 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:11,381 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:38:11,475 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:38:11,476 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:11,634 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:38:11,770 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@634de04a, org.springframework.security.web.context.SecurityContextPersistenceFilter@79585be0, org.springframework.security.web.header.HeaderWriterFilter@2d3313a8, org.springframework.security.web.authentication.logout.LogoutFilter@56cc50f2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@b200baf, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2826f42b, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1dbd1cd4, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@546343ba, org.springframework.security.web.session.SessionManagementFilter@70e00ba7, org.springframework.security.web.access.ExceptionTranslationFilter@521077ef, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6113df20]
2024-12-08 14:38:11,796 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:11,888 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-23"]
2024-12-08 14:38:11,890 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 38197 (http) with context path ''
2024-12-08 14:38:11,991 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.051 seconds (JVM running for 58.438)
2024-12-08 14:38:12,040 INFO  [http-nio-auto-23-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:38:12,040 INFO  [http-nio-auto-23-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:38:12,042 INFO  [http-nio-auto-23-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:38:12,045 WARN  [http-nio-auto-23-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/delivery', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:38197/customer/cart/delivery?included=true
Proxy:			<none>
Request params:	<none>
Query params:	included=true
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:12 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart/delivery",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:12,077 WARN  [http-nio-auto-23-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='cartItemDTO', description='uri=/customer/cart', fieldErrors=[{field='productId', message='Value shall be a positive number'}]}
2024-12-08 14:38:12,095 WARN  [http-nio-auto-23-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:38197/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "productId": 1,
    "quantity": 1
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:12 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:12,113 WARN  [http-nio-auto-23-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/pay', fieldErrors=[]}
Request method:	POST
Request URI:	http://localhost:38197/customer/cart/pay
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "ccNumber": "4111111111111111"
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:12 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart/pay",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:12,128 WARN  [http-nio-auto-23-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	DELETE
Request URI:	http://localhost:38197/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:12 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:12,141 WARN  [http-nio-auto-23-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:38197/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:38:12 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:38:12,154 WARN  [http-nio-auto-23-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/pay', fieldErrors=[]}
2024-12-08 14:38:12,164 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-23"]
2024-12-08 14:38:12,165 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:38:12,165 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:38:12,169 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-23"]
2024-12-08 14:38:12,172 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-23"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m7[m, [1;31mFailures: [0;1;31m5[m, Errors: 0, Skipped: 0, Time elapsed: 1.231 s[1;31m <<< FAILURE![m - in market.[1mv2_gpt4o_run02_CartRestControllerTest[m
[[1;31mERROR[m] testSetDelivery  Time elapsed: 0.041 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run02_CartRestControllerTest.testSetDelivery(v2_gpt4o_run02_CartRestControllerTest.java:109)

[[1;31mERROR[m] testAddItem  Time elapsed: 0.016 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run02_CartRestControllerTest.testAddItem(v2_gpt4o_run02_CartRestControllerTest.java:85)

[[1;31mERROR[m] testPayByCard  Time elapsed: 0.018 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <401>.

	at market.v2_gpt4o_run02_CartRestControllerTest.testPayByCard(v2_gpt4o_run02_CartRestControllerTest.java:122)

[[1;31mERROR[m] testClearCart  Time elapsed: 0.015 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run02_CartRestControllerTest.testClearCart(v2_gpt4o_run02_CartRestControllerTest.java:97)

[[1;31mERROR[m] testGetCart  Time elapsed: 0.012 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v2_gpt4o_run02_CartRestControllerTest.testGetCart(v2_gpt4o_run02_CartRestControllerTest.java:65)

2024-12-08 14:38:12,210 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,211 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,211 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,211 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,211 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,227 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,227 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,227 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,227 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,231 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,236 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,238 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,239 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,239 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,242 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,242 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,247 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,254 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,260 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,261 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,265 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,270 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,271 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,272 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,276 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,276 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,276 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,276 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,278 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,278 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,280 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,280 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,282 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,282 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,283 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,285 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,290 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,292 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:38:12,299 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,304 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,305 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,310 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,310 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-10 - Shutdown initiated...
2024-12-08 14:38:12,310 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,313 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-5 - Shutdown initiated...
2024-12-08 14:38:12,313 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-20 - Shutdown initiated...
2024-12-08 14:38:12,313 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-9 - Shutdown initiated...
2024-12-08 14:38:12,314 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,314 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-22 - Shutdown initiated...
2024-12-08 14:38:12,314 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-12-08 14:38:12,315 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-6 - Shutdown initiated...
2024-12-08 14:38:12,315 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,315 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-17 - Shutdown initiated...
2024-12-08 14:38:12,315 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-7 - Shutdown initiated...
2024-12-08 14:38:12,316 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-3 - Shutdown initiated...
2024-12-08 14:38:12,316 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:38:12,317 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
2024-12-08 14:38:12,317 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-19 - Shutdown initiated...
2024-12-08 14:38:12,317 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-12 - Shutdown initiated...
2024-12-08 14:38:12,319 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-13 - Shutdown initiated...
2024-12-08 14:38:12,319 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-18 - Shutdown initiated...
2024-12-08 14:38:12,321 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-11 - Shutdown initiated...
2024-12-08 14:38:12,321 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-23 - Shutdown initiated...
2024-12-08 14:38:12,321 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-4 - Shutdown initiated...
2024-12-08 14:38:12,321 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-8 - Shutdown initiated...
2024-12-08 14:38:12,321 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-16 - Shutdown initiated...
2024-12-08 14:38:12,321 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-21 - Shutdown initiated...
2024-12-08 14:38:12,323 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-15 - Shutdown initiated...
2024-12-08 14:38:12,323 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-14 - Shutdown initiated...
2024-12-08 14:38:12,338 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-20 - Shutdown completed.
2024-12-08 14:38:12,338 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-15 - Shutdown completed.
2024-12-08 14:38:12,338 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-14 - Shutdown completed.
2024-12-08 14:38:12,338 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-10 - Shutdown completed.
2024-12-08 14:38:12,338 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
2024-12-08 14:38:12,338 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-12 - Shutdown completed.
2024-12-08 14:38:12,338 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-5 - Shutdown completed.
2024-12-08 14:38:12,340 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-4 - Shutdown completed.
2024-12-08 14:38:12,340 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-9 - Shutdown completed.
2024-12-08 14:38:12,341 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-23 - Shutdown completed.
2024-12-08 14:38:12,341 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-11 - Shutdown completed.
2024-12-08 14:38:12,341 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-16 - Shutdown completed.
2024-12-08 14:38:12,341 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-13 - Shutdown completed.
2024-12-08 14:38:12,342 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-18 - Shutdown completed.
2024-12-08 14:38:12,342 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-8 - Shutdown completed.
2024-12-08 14:38:12,343 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-19 - Shutdown completed.
2024-12-08 14:38:12,343 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-3 - Shutdown completed.
2024-12-08 14:38:12,343 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-17 - Shutdown completed.
2024-12-08 14:38:12,343 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-22 - Shutdown completed.
2024-12-08 14:38:12,344 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-6 - Shutdown completed.
2024-12-08 14:38:12,344 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-7 - Shutdown completed.
2024-12-08 14:38:12,344 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-21 - Shutdown completed.
2024-12-08 14:38:12,349 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;31mERROR[m] [1;31mFailures: [m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_CartRestControllerTest.testGetCart:66 1 expectation failed.
JSON path _links.self.href doesn't match.
Expected: not null
  Actual: null
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_ContactsRestControllerTest.testGetContacts:67 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_ContactsRestControllerTest.testInternalServerError:127 1 expectation failed.
Expected status code <500> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_ContactsRestControllerTest.testUpdateContacts:92 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_ContactsRestControllerTest.testUpdateContactsInvalidPhone:110 1 expectation failed.
Expected status code <400> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_CustomerRestControllerTest.testSchemaValidation:166 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_OrdersRestControllerTest.testGetOrder:82 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_OrdersRestControllerTest.testGetOrderNotFound:101 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_OrdersRestControllerTest.testGetOrders:65 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_OrdersRestControllerTest.testInternalServerError:126 1 expectation failed.
Expected status code <400> but was <500>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_RestErrorResponseTest.testAddItemToCart_Success:96 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_RestErrorResponseTest.testClearCart_Success:121 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_RestErrorResponseTest.testCreateCustomer_Success:201 1 expectation failed.
Expected status code <201> but was <500>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_RestErrorResponseTest.testPayByCard_Success:147 1 expectation failed.
Expected status code <201> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_RestErrorResponseTest.testSetDelivery_Success:133 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_RestErrorResponseTest.testUpdateContacts_Success:240 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_RestExceptionHandlerTest.testAddToCartInvalidProduct:89 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_RestExceptionHandlerTest.testGetCustomerNotFound:76 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_CartRestControllerTest.testAddItem:85 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_CartRestControllerTest.testClearCart:97 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_CartRestControllerTest.testGetCart:65 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_CartRestControllerTest.testPayByCard:122 1 expectation failed.
Expected status code <201> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_CartRestControllerTest.testSetDelivery:109 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_CustomerRestControllerTest.testRegisterCustomer:96 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_CustomerRestControllerTest.testRegisterCustomerDuplicateEmail:127 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_CustomerRestControllerTest.testSchemaValidationOnGetCustomer:175 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_OrdersRestControllerTest.testGetOrderInvalidId:100 1 expectation failed.
Expected status code <400> but was <500>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_OrdersRestControllerTest.testInvalidEndpoint:155 1 expectation failed.
Expected status code <400> but was <500>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_ProductsRestControllerTest.testGetProductInternalError:107 1 expectation failed.
Expected status code <500> but was <404>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_RestExceptionHandlerTest.testCreateCustomerValidData:202 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_RestExceptionHandlerTest.testGetCustomerInvalidName:70 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_RestExceptionHandlerTest.testGetCustomerValidData:212->testCreateCustomerValidData:202 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_RestExceptionHandlerTest.testGetOrderNotFound:160 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_RestExceptionHandlerTest.testGetProductsUnauthorized:169 1 expectation failed.
Expected status code <401> but was <200>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_RestExceptionHandlerTest.testPayByCardUnauthorized:120 1 expectation failed.
Expected status code <401> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_ContactsRestControllerTest.testGetContacts:69 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_ContactsRestControllerTest.testUpdateContacts:86 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_ContactsRestControllerTest.testUpdateContactsInvalidPhone:103 1 expectation failed.
Expected status code <400> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_CustomerRestControllerTest.testCreateCustomer:70 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_CustomerRestControllerTest.testCreateCustomerEmailExists:88 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_CustomerRestControllerTest.testGetCustomer:120 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_OrdersRestControllerTest.testGetOrder_Forbidden:185 1 expectation failed.
Expected status code <403> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_OrdersRestControllerTest.testGetOrder_InternalServerError:133 1 expectation failed.
Expected status code <500> but was <200>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_OrdersRestControllerTest.testGetOrder_SchemaValidation:158 1 expectation failed.
JSON path $ doesn't match.
Expected: map containing ["_links"->ANYTHING]
  Actual: {userAccount=ivan.petrov@yandex.ru, id=1, billNumber=271320540, dateCreated=2019-12-27T03:00:00.000+00:00, productsCost=8127.0, deliveryCost=400, deliveryIncluded=true, totalCost=8527.0, payed=true, executed=false}
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_OrdersRestControllerTest.testGetOrders_Forbidden:175 1 expectation failed.
Expected status code <403> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_OrdersRestControllerTest.testGetOrders_InternalServerError:121 1 expectation failed.
Expected status code <500> but was <200>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_ProductsRestControllerTest.testBusinessRuleEnforcement:111 1 expectation failed.
Expected status code <201> but was <405>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_RestErrorResponseTest.testAddItemToCartInvalidProduct:76 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_RestErrorResponseTest.testClearCart:163 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_RestErrorResponseTest.testCreateCustomer:96 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_RestErrorResponseTest.testCreateCustomerInvalidEmail:111 1 expectation failed.
JSON path message doesn't match.
Expected: a string containing "The value shall be in the format of an email address"
  Actual: Argument validation error
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_RestErrorResponseTest.testGetCartUnauthorized:86 1 expectation failed.
JSON path message doesn't match.
Expected: Unauthorized
  Actual: Acesso negado
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_RestErrorResponseTest.testGetCustomerNotFound:64 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_RestErrorResponseTest.testGetOrderNotFound:141 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_RestErrorResponseTest.testPayByCardInvalidCardNumber:154 1 expectation failed.
JSON path message doesn't match.
Expected: a string containing "Card number shall consist of 13-16 digits"
  Actual: Argument validation error
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_RestErrorResponseTest.testSetDeliveryExcluded:198 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_RestErrorResponseTest.testSetDeliveryIncluded:187 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_RestErrorResponseTest.testUpdateContacts:175 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31mErrors: [m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_CustomerRestControllerTest.testCreateCustomer:70 ¬ª Connect Cone...[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_CustomerRestControllerTest.testCreateCustomerWithExistingEmail:87 ¬ª Connect[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_CustomerRestControllerTest.testCreateCustomerWithInvalidData:133 ¬ª Connect[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_CustomerRestControllerTest.testGetCustomer:109 ¬ª Connect Conex√£...[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_CustomerRestControllerTest.testInternalServerError:149 ¬ª Connect[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_RestErrorResponseTest.testGetCustomer_NotFound:81 ¬ª IllegalArgument[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run01_RestErrorResponseTest.testGetCustomer_Success:66 ¬ª IllegalArgument[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run02_ContactsRestControllerTest.testSchemaValidationOnGetContacts:133 ¬ª IllegalArgument[m
[[1;31mERROR[m] [1;31m  v2_gpt4o_run03_CartRestControllerTest.testSchemaValidation:153 ¬ª IllegalArgument[m
[[1;34mINFO[m] 
[[1;31mERROR[m] [1;31mTests run: 176, Failures: 58, Errors: 9, Skipped: 0[m
[[1;34mINFO[m] 
[[1;31mERROR[m] There are test failures.

Please refer to /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target/surefire-reports for the individual test results.
Please refer to dump files (if any exist) [date]-jvmRun[N].dump, [date].dumpstream and [date]-jvmRun[N].dumpstream.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mjacoco-maven-plugin:0.8.7:report[m [1m(report)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Loading execution data file /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target/jacoco.exec
[[1;34mINFO[m] Analyzed bundle 'market-rest' with 10 classes
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  01:04 min
[[1;34mINFO[m] Finished at: 2024-12-08T14:38:13-03:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
Copiando relat√≥rios para /home/rincon/ar_benchmark/artigo/estudos-prompts/market-test-set/gpt/v2/coverage_three_runs/gpt4o...
Execu√ß√£o conclu√≠da com sucesso para o modelo gpt4o.
