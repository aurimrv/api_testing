Limpando o diret√≥rio de destino /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/src/test/java/market para combina√ß√£o gpt35+gpt4o...
Copiando arquivos de /home/rincon/ar_benchmark/artigo/estudos-prompts/market-test-set/gpt/v3/gpt35/run01/exec para /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/src/test/java/market...
Copiando arquivos de /home/rincon/ar_benchmark/artigo/estudos-prompts/market-test-set/gpt/v3/gpt35/run02/exec para /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/src/test/java/market...
Copiando arquivos de /home/rincon/ar_benchmark/artigo/estudos-prompts/market-test-set/gpt/v3/gpt35/run03/exec para /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/src/test/java/market...
Copiando arquivos de /home/rincon/ar_benchmark/artigo/estudos-prompts/market-test-set/gpt/v3/gpt4o/run01/exec para /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/src/test/java/market...
Copiando arquivos de /home/rincon/ar_benchmark/artigo/estudos-prompts/market-test-set/gpt/v3/gpt4o/run02/exec para /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/src/test/java/market...
Copiando arquivos de /home/rincon/ar_benchmark/artigo/estudos-prompts/market-test-set/gpt/v3/gpt4o/run03/exec para /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/src/test/java/market...
Diret√≥rio de origem /run01/exec n√£o encontrado, pulando...
Diret√≥rio de origem /run02/exec n√£o encontrado, pulando...
Diret√≥rio de origem /run03/exec n√£o encontrado, pulando...
Executando Maven para a combina√ß√£o gpt35+gpt4o...
[[1;34mINFO[m] Scanning for projects...
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m---------------------< [0;36mnet.lukyanets:market-rest[0;1m >----------------------[m
[[1;34mINFO[m] [1mBuilding market-rest 0.1.2[m
[[1;34mINFO[m] [1m--------------------------------[ jar ]---------------------------------[m
[[1;33mWARNING[m] The POM for com.sun.xml.bind:jaxb-osgi:jar:2.2.10 is invalid, transitive dependencies (if any) will not be available, enable debug logging for more details
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-clean-plugin:2.5:clean[m [1m(default-clean)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Deleting /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mjacoco-maven-plugin:0.8.7:prepare-agent[m [1m(default)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] argLine set to -javaagent:/home/rincon/.m2/repository/org/jacoco/org.jacoco.agent/0.8.7/org.jacoco.agent-0.8.7-runtime.jar=destfile=/media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target/jacoco.exec
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mspring-boot-maven-plugin:2.4.3:build-info[m [1m(default)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 3 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.8.0:compile[m [1m(default-compile)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Changes detected - recompiling the module!
[[1;34mINFO[m] Compiling 11 source files to /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target/classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mjacoco-maven-plugin:0.8.7:prepare-agent[m [1m(default)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] argLine set to -javaagent:/home/rincon/.m2/repository/org/jacoco/org.jacoco.agent/0.8.7/org.jacoco.agent-0.8.7-runtime.jar=destfile=/media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target/jacoco.exec
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mspring-boot-maven-plugin:2.4.3:build-info[m [1m(default)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 3 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.8.0:compile[m [1m(default-compile)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:testResources[m [1m(default-testResources)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.8.0:testCompile[m [1m(default-testCompile)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Changes detected - recompiling the module!
[[1;34mINFO[m] Compiling 42 source files to /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target/test-classes
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mjacoco-maven-plugin:0.8.7:prepare-agent[m [1m(default)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] argLine set to -javaagent:/home/rincon/.m2/repository/org/jacoco/org.jacoco.agent/0.8.7/org.jacoco.agent-0.8.7-runtime.jar=destfile=/media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target/jacoco.exec
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mspring-boot-maven-plugin:2.4.3:build-info[m [1m(default)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:resources[m [1m(default-resources)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] Copying 3 resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.8.0:compile[m [1m(default-compile)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-resources-plugin:2.6:testResources[m [1m(default-testResources)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Using 'UTF-8' encoding to copy filtered resources.
[[1;34mINFO[m] skip non existing resourceDirectory /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/src/test/resources
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-compiler-plugin:3.8.0:testCompile[m [1m(default-testCompile)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Nothing to compile - all classes are up to date
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mmaven-surefire-plugin:2.22.0:test[m [1m(default-test)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] 
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m]  T E S T S
[[1;34mINFO[m] -------------------------------------------------------
[[1;34mINFO[m] Running market.[1mv3_gpt4o_run02_ProductsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:00,045 INFO  [background-preinit] o.h.v.i.u.Version - HV000001: Hibernate Validator 6.1.7.Final
2024-12-08 14:52:00,175 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:00,183 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:00,798 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:00,798 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:02,471 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:02,630 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 146 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:03,239 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:03,452 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@56cf6159' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:03,462 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:03,964 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:03,983 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-1"]
2024-12-08 14:52:03,985 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:03,986 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:04,161 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:04,162 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 3360 ms
2024-12-08 14:52:04,398 INFO  [main] c.z.h.HikariDataSource - HikariPool-1 - Starting...
2024-12-08 14:52:04,866 INFO  [main] c.z.h.HikariDataSource - HikariPool-1 - Start completed.
2024-12-08 14:52:05,101 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:05,209 INFO  [main] o.h.Version - HHH000412: Hibernate ORM core version 5.4.28.Final
2024-12-08 14:52:05,447 INFO  [main] o.h.a.c.Version - HCANN000001: Hibernate Commons Annotations {5.1.2.Final}
2024-12-08 14:52:05,798 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:06,129 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:06,132 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:06,975 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:06,989 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:08,193 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:09,252 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1737a35e, org.springframework.security.web.context.SecurityContextPersistenceFilter@5360f370, org.springframework.security.web.header.HeaderWriterFilter@148df1e5, org.springframework.security.web.authentication.logout.LogoutFilter@483de4d1, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@75dbfa36, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5c272049, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ab94c53, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e723fcd, org.springframework.security.web.session.SessionManagementFilter@6aec12a9, org.springframework.security.web.access.ExceptionTranslationFilter@17d2849c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7c835e19]
2024-12-08 14:52:09,434 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:09,920 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-1"]
2024-12-08 14:52:09,956 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 43709 (http) with context path ''
2024-12-08 14:52:10,569 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 11.37 seconds (JVM running for 14.001)
2024-12-08 14:52:12,515 INFO  [http-nio-auto-1-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:12,516 INFO  [http-nio-auto-1-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:12,517 INFO  [http-nio-auto-1-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 1 ms
2024-12-08 14:52:12,671 WARN  [http-nio-auto-1-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/9999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:52:14,427 WARN  [http-nio-auto-1-exec-4] o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
Request method:	POST
Request URI:	http://localhost:43709/products
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{invalidJson}

HTTP/1.1 405 
Allow: GET
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:14 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:14.442+00:00",
    "status": 405,
    "error": "Method Not Allowed",
    "message": "",
    "path": "/products"
}
2024-12-08 14:52:14,921 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-1"]
2024-12-08 14:52:14,922 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:14,924 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:14,927 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-1"]
2024-12-08 14:52:14,931 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-1"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m6[m, [1;31mFailures: [0;1;31m1[m, Errors: 0, Skipped: 0, Time elapsed: 16.998 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run02_ProductsRestControllerTest[m
[[1;31mERROR[m] testInternalServerErrorSimulation  Time elapsed: 0.169 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <405>.

	at market.v3_gpt4o_run02_ProductsRestControllerTest.testInternalServerErrorSimulation(v3_gpt4o_run02_ProductsRestControllerTest.java:109)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run03_OrdersRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:15,002 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:15,003 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:15,005 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:15,005 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:15,319 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:15,363 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 43 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:15,427 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:15,455 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7ef1b981' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:15,458 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:15,519 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:15,520 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-2"]
2024-12-08 14:52:15,521 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:15,521 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:15,542 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:15,542 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 536 ms
2024-12-08 14:52:15,585 INFO  [main] c.z.h.HikariDataSource - HikariPool-2 - Starting...
2024-12-08 14:52:15,586 INFO  [main] c.z.h.HikariDataSource - HikariPool-2 - Start completed.
2024-12-08 14:52:15,642 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:15,692 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:15,730 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:15,733 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:16,039 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:16,039 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:16,341 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:16,573 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@9a7f1fe, org.springframework.security.web.context.SecurityContextPersistenceFilter@529a27da, org.springframework.security.web.header.HeaderWriterFilter@448db73b, org.springframework.security.web.authentication.logout.LogoutFilter@63483930, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6e4deb12, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@54b39302, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7daec2c0, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@545c591f, org.springframework.security.web.session.SessionManagementFilter@1ae0f782, org.springframework.security.web.access.ExceptionTranslationFilter@3c27411a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@19fff0a8]
2024-12-08 14:52:16,611 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:16,758 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-2"]
2024-12-08 14:52:16,761 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 44619 (http) with context path ''
2024-12-08 14:52:17,010 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 2.074 seconds (JVM running for 20.443)
2024-12-08 14:52:17,143 INFO  [http-nio-auto-2-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:17,143 INFO  [http-nio-auto-2-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:17,145 INFO  [http-nio-auto-2-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:52:17,152 WARN  [http-nio-auto-2-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders/1', fieldErrors=[]}
Request method:	POST
Request URI:	http://localhost:44619/api/authenticate
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "password": "password",
    "username": "admin"
}

HTTP/1.1 404 
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:17 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:17.291+00:00",
    "status": 404,
    "error": "Not Found",
    "message": "",
    "path": "/api/authenticate"
}
Request method:	POST
Request URI:	http://localhost:44619/api/authenticate
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "password": "password",
    "username": "admin"
}

HTTP/1.1 404 
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:17 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:17.332+00:00",
    "status": 404,
    "error": "Not Found",
    "message": "",
    "path": "/api/authenticate"
}
2024-12-08 14:52:17,363 WARN  [http-nio-auto-2-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders', fieldErrors=[]}
Request method:	POST
Request URI:	http://localhost:44619/api/authenticate
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "password": "password",
    "username": "admin"
}

HTTP/1.1 404 
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:17 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:17.387+00:00",
    "status": 404,
    "error": "Not Found",
    "message": "",
    "path": "/api/authenticate"
}
2024-12-08 14:52:17,402 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-2"]
2024-12-08 14:52:17,403 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:17,403 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:17,406 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-2"]
2024-12-08 14:52:17,409 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-2"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m3[m, [1;31mFailures: [0;1;31m3[m, Errors: 0, Skipped: 0, Time elapsed: 2.43 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run03_OrdersRestControllerTest[m
[[1;31mERROR[m] testGetOrder  Time elapsed: 0.204 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <404>.

	at market.v3_gpt4o_run03_OrdersRestControllerTest.getAccessToken(v3_gpt4o_run03_OrdersRestControllerTest.java:110)
	at market.v3_gpt4o_run03_OrdersRestControllerTest.testGetOrder(v3_gpt4o_run03_OrdersRestControllerTest.java:84)

[[1;31mERROR[m] testInternalServerError  Time elapsed: 0.041 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <404>.

	at market.v3_gpt4o_run03_OrdersRestControllerTest.getAccessToken(v3_gpt4o_run03_OrdersRestControllerTest.java:110)
	at market.v3_gpt4o_run03_OrdersRestControllerTest.testInternalServerError(v3_gpt4o_run03_OrdersRestControllerTest.java:99)

[[1;31mERROR[m] testGetOrders  Time elapsed: 0.053 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <404>.

	at market.v3_gpt4o_run03_OrdersRestControllerTest.getAccessToken(v3_gpt4o_run03_OrdersRestControllerTest.java:110)
	at market.v3_gpt4o_run03_OrdersRestControllerTest.testGetOrders(v3_gpt4o_run03_OrdersRestControllerTest.java:69)

[[1;34mINFO[m] Running market.[1mv3_gpt35_run03_ProductsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:17,452 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:17,453 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:17,455 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:17,455 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:17,777 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:17,816 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 38 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:17,877 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:17,903 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7c38b312' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:17,905 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:17,962 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:17,963 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-3"]
2024-12-08 14:52:17,964 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:17,964 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:17,982 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:17,982 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 526 ms
2024-12-08 14:52:18,022 INFO  [main] c.z.h.HikariDataSource - HikariPool-3 - Starting...
2024-12-08 14:52:18,023 INFO  [main] c.z.h.HikariDataSource - HikariPool-3 - Start completed.
2024-12-08 14:52:18,061 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:18,091 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:18,113 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:18,115 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:18,277 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:18,277 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:18,548 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:18,746 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7fd01be9, org.springframework.security.web.context.SecurityContextPersistenceFilter@54694eb9, org.springframework.security.web.header.HeaderWriterFilter@762fbc49, org.springframework.security.web.authentication.logout.LogoutFilter@6bf23fb8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@42acb152, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5e286959, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@556e4b21, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7c4cf09c, org.springframework.security.web.session.SessionManagementFilter@4add5c71, org.springframework.security.web.access.ExceptionTranslationFilter@573bae1b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5bb1bf0b]
2024-12-08 14:52:18,783 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:18,902 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-3"]
2024-12-08 14:52:18,905 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 39543 (http) with context path ''
2024-12-08 14:52:19,067 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.654 seconds (JVM running for 22.5)
2024-12-08 14:52:19,139 INFO  [http-nio-auto-3-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:19,139 INFO  [http-nio-auto-3-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:19,142 INFO  [http-nio-auto-3-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 3 ms
2024-12-08 14:52:19,151 WARN  [http-nio-auto-3-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:52:19,295 ERROR [http-nio-auto-3-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: "error"', entityName='null', description='uri=/products/error', fieldErrors=[]}
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: "error"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.NumberFormatException: For input string: "error"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.base/java.lang.Long.parseLong(Long.java:692)
	at java.base/java.lang.Long.valueOf(Long.java:1144)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:214)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:696)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	... 85 more
2024-12-08 14:52:19,311 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-3"]
2024-12-08 14:52:19,312 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:19,313 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:19,316 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-3"]
2024-12-08 14:52:19,325 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-3"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m4[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.902 s - in market.[1mv3_gpt35_run03_ProductsRestControllerTest[m
[[1;34mINFO[m] Running market.[1mv3_gpt35_run01_RestErrorResponseTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:19,370 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:19,371 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:19,372 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:19,373 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:19,708 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:19,770 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 61 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:19,827 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:19,854 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@532cbe2a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:19,858 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:19,915 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:19,916 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-4"]
2024-12-08 14:52:19,917 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:19,917 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:19,939 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:19,939 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 566 ms
2024-12-08 14:52:19,983 INFO  [main] c.z.h.HikariDataSource - HikariPool-4 - Starting...
2024-12-08 14:52:19,984 INFO  [main] c.z.h.HikariDataSource - HikariPool-4 - Start completed.
2024-12-08 14:52:20,027 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:20,065 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:20,092 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:20,094 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:20,252 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:20,252 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:20,483 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:20,683 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@428c6885, org.springframework.security.web.context.SecurityContextPersistenceFilter@7ec88a26, org.springframework.security.web.header.HeaderWriterFilter@4b89ee03, org.springframework.security.web.authentication.logout.LogoutFilter@1034ed0d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@96d14f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@4c7bba83, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4806acf9, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7164e912, org.springframework.security.web.session.SessionManagementFilter@37dab537, org.springframework.security.web.access.ExceptionTranslationFilter@2b732e42, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5fa0b685]
2024-12-08 14:52:20,720 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:20,839 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-4"]
2024-12-08 14:52:20,841 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 46101 (http) with context path ''
2024-12-08 14:52:20,995 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.665 seconds (JVM running for 24.428)
2024-12-08 14:52:21,073 INFO  [http-nio-auto-4-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:21,073 INFO  [http-nio-auto-4-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:21,075 INFO  [http-nio-auto-4-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:52:21,234 WARN  [http-nio-auto-4-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='address', message='The value shall not be empty'}, {field='password', message='Length shall be between 6 and 50 characters'}, {field='phone', message='The value shall not be empty'}]}
Request method:	POST
Request URI:	http://localhost:46101/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "test@example.com",
    "password": "test",
    "name": "Test User"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:21 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "userDTO",
    "fieldErrors": [
        {
            "field": "address",
            "message": "The value shall not be empty"
        },
        {
            "field": "password",
            "message": "Length shall be between 6 and 50 characters"
        },
        {
            "field": "phone",
            "message": "The value shall not be empty"
        }
    ]
}
2024-12-08 14:52:21,283 WARN  [http-nio-auto-4-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='phone', message='The value shall not be empty'}, {field='email', message='The value shall not be empty'}, {field='address', message='The value shall not be empty'}, {field='name', message='The value shall not be empty'}]}
Request method:	POST
Request URI:	http://localhost:46101/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "invalid_field": "value"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:21 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "userDTO",
    "fieldErrors": [
        {
            "field": "phone",
            "message": "The value shall not be empty"
        },
        {
            "field": "email",
            "message": "The value shall not be empty"
        },
        {
            "field": "address",
            "message": "The value shall not be empty"
        },
        {
            "field": "name",
            "message": "The value shall not be empty"
        }
    ]
}
2024-12-08 14:52:21,294 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-4"]
2024-12-08 14:52:21,294 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:21,295 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:21,298 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-4"]
2024-12-08 14:52:21,303 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-4"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m2[m, [1;31mFailures: [0;1;31m2[m, Errors: 0, Skipped: 0, Time elapsed: 1.969 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt35_run01_RestErrorResponseTest[m
[[1;31mERROR[m] testServerErrorReturns5xx  Time elapsed: 0.217 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <406>.

	at market.v3_gpt35_run01_RestErrorResponseTest.testServerErrorReturns5xx(v3_gpt35_run01_RestErrorResponseTest.java:82)

[[1;31mERROR[m] testInvalidInputReturns5xx  Time elapsed: 0.037 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <406>.

	at market.v3_gpt35_run01_RestErrorResponseTest.testInvalidInputReturns5xx(v3_gpt35_run01_RestErrorResponseTest.java:71)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run03_CartRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:21,342 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:21,343 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:21,344 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:21,345 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:21,625 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:21,655 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 30 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:21,708 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:21,731 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@77e2f408' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:21,734 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:21,778 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:21,779 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-5"]
2024-12-08 14:52:21,779 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:21,780 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:21,793 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:21,793 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 448 ms
2024-12-08 14:52:21,830 INFO  [main] c.z.h.HikariDataSource - HikariPool-5 - Starting...
2024-12-08 14:52:21,832 INFO  [main] c.z.h.HikariDataSource - HikariPool-5 - Start completed.
2024-12-08 14:52:21,866 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:21,898 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:21,926 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:21,928 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:22,078 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:22,078 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:22,317 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:22,532 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1848184c, org.springframework.security.web.context.SecurityContextPersistenceFilter@5633241d, org.springframework.security.web.header.HeaderWriterFilter@77bbd060, org.springframework.security.web.authentication.logout.LogoutFilter@5343e915, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@331fee49, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2ab384f4, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3226912, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@571c72b4, org.springframework.security.web.session.SessionManagementFilter@1f10064f, org.springframework.security.web.access.ExceptionTranslationFilter@200b8ee9, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5c0cb24e]
2024-12-08 14:52:22,573 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:22,694 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-5"]
2024-12-08 14:52:22,697 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 44307 (http) with context path ''
2024-12-08 14:52:22,843 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.536 seconds (JVM running for 26.275)
2024-12-08 14:52:22,930 INFO  [http-nio-auto-5-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:22,930 INFO  [http-nio-auto-5-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:22,932 INFO  [http-nio-auto-5-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:52:22,938 WARN  [http-nio-auto-5-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/delivery', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:44307/customer/cart/delivery?included=true
Proxy:			<none>
Request params:	<none>
Query params:	included=true
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:22 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart/delivery",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:52:22,975 WARN  [http-nio-auto-5-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/delivery', fieldErrors=[]}
2024-12-08 14:52:23,042 WARN  [http-nio-auto-5-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:52:23,078 WARN  [http-nio-auto-5-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='cartItemDTO', description='uri=/customer/cart', fieldErrors=[{field='quantity', message='Value shall be a positive number'}]}
Request method:	PUT
Request URI:	http://localhost:44307/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "quantity": -1,
    "productId": 1
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:22 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/customer/cart",
    "entityName": "cartItemDTO",
    "fieldErrors": [
        {
            "field": "quantity",
            "message": "Value shall be a positive number"
        }
    ]
}
2024-12-08 14:52:23,134 WARN  [http-nio-auto-5-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/pay', fieldErrors=[]}
Request method:	POST
Request URI:	http://localhost:44307/customer/cart/pay
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "ccNumber": "4111111111111111"
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:22 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart/pay",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:52:23,161 WARN  [http-nio-auto-5-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	DELETE
Request URI:	http://localhost:44307/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:22 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:52:23,186 WARN  [http-nio-auto-5-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:44307/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:22 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:52:23,217 WARN  [http-nio-auto-5-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/pay', fieldErrors=[]}
Request method:	POST
Request URI:	http://localhost:44307/customer/cart/pay
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "ccNumber": "4111111111111111"
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:22 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart/pay",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:52:23,248 WARN  [http-nio-auto-5-exec-9] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:44307/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "quantity": 2,
    "productId": 1
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:22 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:52:23,272 WARN  [http-nio-auto-5-exec-10] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:52:23,297 WARN  [http-nio-auto-5-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:44307/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "quantity": 2,
    "productId": 999
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:22 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:52:23,325 WARN  [http-nio-auto-5-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/pay', fieldErrors=[]}
2024-12-08 14:52:23,345 WARN  [http-nio-auto-5-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:52:23,357 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-5"]
2024-12-08 14:52:23,357 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:23,358 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:23,361 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-5"]
2024-12-08 14:52:23,365 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-5"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m13[m, [1;31mFailures: [0;1;31m8[m, Errors: 0, Skipped: 0, Time elapsed: 2.052 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run03_CartRestControllerTest[m
[[1;31mERROR[m] testSetDelivery  Time elapsed: 0.06 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v3_gpt4o_run03_CartRestControllerTest.testSetDelivery(v3_gpt4o_run03_CartRestControllerTest.java:106)

[[1;31mERROR[m] testAddItemToCartInvalidQuantity  Time elapsed: 0.038 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <400> but was <406>.

	at market.v3_gpt4o_run03_CartRestControllerTest.testAddItemToCartInvalidQuantity(v3_gpt4o_run03_CartRestControllerTest.java:233)

[[1;31mERROR[m] testPayByCard  Time elapsed: 0.054 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <401>.

	at market.v3_gpt4o_run03_CartRestControllerTest.testPayByCard(v3_gpt4o_run03_CartRestControllerTest.java:123)

[[1;31mERROR[m] testClearCart  Time elapsed: 0.029 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v3_gpt4o_run03_CartRestControllerTest.testClearCart(v3_gpt4o_run03_CartRestControllerTest.java:94)

[[1;31mERROR[m] testGetCart  Time elapsed: 0.024 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v3_gpt4o_run03_CartRestControllerTest.testGetCart(v3_gpt4o_run03_CartRestControllerTest.java:65)

[[1;31mERROR[m] testPayByCardEmptyCart  Time elapsed: 0.03 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <401>.

	at market.v3_gpt4o_run03_CartRestControllerTest.testPayByCardEmptyCart(v3_gpt4o_run03_CartRestControllerTest.java:216)

[[1;31mERROR[m] testAddItemToCart  Time elapsed: 0.032 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v3_gpt4o_run03_CartRestControllerTest.testAddItemToCart(v3_gpt4o_run03_CartRestControllerTest.java:83)

[[1;31mERROR[m] testAddItemToCartInvalidProduct  Time elapsed: 0.028 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v3_gpt4o_run03_CartRestControllerTest.testAddItemToCartInvalidProduct(v3_gpt4o_run03_CartRestControllerTest.java:200)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run02_RestExceptionHandlerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:23,404 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:23,405 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:23,407 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:23,407 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:23,660 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:23,693 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:23,751 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:23,774 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@47b11b21' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:23,776 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:23,827 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:23,828 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-6"]
2024-12-08 14:52:23,829 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:23,829 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:23,850 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:23,850 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 443 ms
2024-12-08 14:52:23,888 INFO  [main] c.z.h.HikariDataSource - HikariPool-6 - Starting...
2024-12-08 14:52:23,889 INFO  [main] c.z.h.HikariDataSource - HikariPool-6 - Start completed.
2024-12-08 14:52:23,910 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:23,931 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:23,947 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:23,949 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:24,103 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:24,103 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:24,313 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:24,483 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@719536b1, org.springframework.security.web.context.SecurityContextPersistenceFilter@6487ea93, org.springframework.security.web.header.HeaderWriterFilter@25b8d052, org.springframework.security.web.authentication.logout.LogoutFilter@8031c47, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3ad57eeb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f8cef72, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6c559491, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@694b7c98, org.springframework.security.web.session.SessionManagementFilter@7159d703, org.springframework.security.web.access.ExceptionTranslationFilter@2e28a918, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3e670ab8]
2024-12-08 14:52:24,514 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:24,639 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-6"]
2024-12-08 14:52:24,642 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 45805 (http) with context path ''
2024-12-08 14:52:24,810 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.441 seconds (JVM running for 28.243)
2024-12-08 14:52:24,865 INFO  [http-nio-auto-6-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:24,865 INFO  [http-nio-auto-6-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:24,867 INFO  [http-nio-auto-6-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
Request method:	GET
Request URI:	http://localhost:45805/customer
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:24 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:25.140+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer"
}
2024-12-08 14:52:25,206 WARN  [http-nio-auto-6-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:45805/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:24 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/contacts",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
Request method:	GET
Request URI:	http://localhost:45805/trigger-internal-server-error
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 404 
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:24 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:25.242+00:00",
    "status": 404,
    "error": "Not Found",
    "message": "",
    "path": "/trigger-internal-server-error"
}
Request method:	GET
Request URI:	http://localhost:45805/products
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:24 GMT
Keep-Alive: timeout=60
Connection: keep-alive

[
    {
        "productId": 1,
        "distillery": "Ardbeg",
        "name": "Ten",
        "price": 4420.0,
        "age": 10,
        "volume": 700,
        "alcohol": 46.0,
        "description": "Ten Years Old is the basis of the Ardbeg range. After 10 years of maturation in ex-bourbon casks, the whiskey bottled at 46% ABV without cold filtering. The characteristic peat, although clearly present but in perfect balance with the natural sweetness and not predominant in the taste.",
        "available": false,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:45805/products/1"
            }
        ]
    },
    {
        "productId": 2,
        "distillery": "Ardbeg",
        "name": "Uigeadail",
        "price": 7020.0,
        "age": 0,
        "volume": 700,
        "alcohol": 54.2,
        "description": "Ardbeg Uigedael is named after Loch Uigedael, the lake in the grounds of the distillery Ardbeg which are the water is an important factor in the distilling process. The Uigedael a vatted malt, bottled at 54.2% ABV without cold filtering. Ardbeg Uigedael has no age indication for the expression consists of various malts of different ages. Malts are used partly matured in ex-bourbon and partly on ex-sherry casks.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:45805/products/2"
            }
        ]
    },
    {
        "productId": 3,
        "distillery": "Balvenie",
        "name": "12 y.o. Doublewood",
        "price": 5403.0,
        "age": 12,
        "volume": 700,
        "alcohol": 40.0,
        "description": "Has clear influences from both bourbon and sherry wood. This malt has only 12 years aged in bourbon casks and then 3 months in young Oloroso casks. The peppery character from the bourbon barrels, penetrates, as it were by the rich and full aroma of Oloroso casks it. The Balvenie Double Wood is therefore a very complex malt.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:45805/products/3"
            }
        ]
    },
    {
        "productId": 4,
        "distillery": "Caol Ila",
        "name": "12 y.o.",
        "price": 4913.0,
        "age": 12,
        "volume": 700,
        "alcohol": 43.0,
        "description": "Smoked ham comes across delicately with citrus and cigar leaves. Fresh and smoky, probably the best part of this whisky. With an almost full body, oil and tar meet subtle smoke. Hints of sweet tastes like honey. Some spices like pepper combined with little sweetness.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:45805/products/4"
            }
        ]
    },
    {
        "productId": 5,
        "distillery": "Dalwhinnie",
        "name": "15 y.o.",
        "price": 6517.0,
        "age": 15,
        "volume": 750,
        "alcohol": 43.0,
        "description": "A good introduction to the delights of single malt whisky ‚Äì elegant, smooth and medium-bodied, with a light, fruity palate and a whiff of heather on the finish. Part of Diageo's Classic Malt range. ",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:45805/products/5"
            }
        ]
    },
    {
        "productId": 6,
        "distillery": "Lagavulin",
        "name": "16 y.o.",
        "price": 6620.0,
        "age": 16,
        "volume": 750,
        "alcohol": 43.0,
        "description": "The Islay representative in the 'Classic Malts' series is a deep, dry and exceptionally peaty bruiser. Probably the most pungent of all Islay malts, Lagavulin is not for the faint-hearted but inspires fanatical devotion in its many followers.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:45805/products/6"
            }
        ]
    },
    {
        "productId": 7,
        "distillery": "Laphroaig",
        "name": "Quarter Cask",
        "price": 5100.0,
        "age": 0,
        "volume": 700,
        "alcohol": 48.0,
        "description": "A vibrant young Laphroaig whose maturation has been accelerated by ageing in quarter casks. This shows soft sweetness and a velvety feel when first tasted, then the intense peatiness so unique to Laphroaig comes bursting through. A terrific whisky and great value.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:45805/products/7"
            }
        ]
    },
    {
        "productId": 8,
        "distillery": "Springbank",
        "name": "12 y.o. Cask Strength Batch 6",
        "price": 8127.0,
        "age": 12,
        "volume": 700,
        "alcohol": 53.1,
        "description": "Like a storm gathering of the Kintyre coast, dark and ominous, yet tastes so good. The richness comes from the high percentage of sherry casks used in maturation. This is a truly classic Springbank, best enjoyed after dinner, or with your favourite cigar.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:45805/products/8"
            }
        ]
    },
    {
        "productId": 9,
        "distillery": "Springbank",
        "name": "18 y.o.",
        "price": 14490.0,
        "age": 18,
        "volume": 700,
        "alcohol": 46.0,
        "description": "This heavily sherried 18-year-old Springbank has been bottled by Mark Reynier as part of his Renegade series. Distilled in 1995, this sherry hogshead was aged for 10 years in Campbeltown and then moved to Bruichladdich for a further eight years.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:45805/products/9"
            }
        ]
    },
    {
        "productId": 10,
        "distillery": "Talisker",
        "name": "10 y.o.",
        "price": 4683.0,
        "age": 10,
        "volume": 750,
        "alcohol": 45.8,
        "description": "Powerful peat smoke with the salinity of sea water and the moisture of fresh oysters. Full sweetness of dried fruit with smoke and strong aromas of malted barley, warm and intense. Peppery in the mouth. Big, long, warming and peppery on the finish with an attractive sweetness.",
        "available": true,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:45805/products/10"
            }
        ]
    },
    {
        "productId": 11,
        "distillery": "Glenkinchie",
        "name": "12 y.o.",
        "price": 4547.0,
        "age": 12,
        "volume": 700,
        "alcohol": 43.0,
        "description": "A light, delicate whiskey; sweet and creamy with a subtle floral aroma. This subtle, refined Lowland is ideal as an aperitif; try it straight from the fridge or freezer.",
        "available": false,
        "links": [
            {
                "rel": "self",
                "href": "http://localhost:45805/products/11"
            }
        ]
    }
]
2024-12-08 14:52:25,325 WARN  [http-nio-auto-6-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/9999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:52:25,347 WARN  [http-nio-auto-6-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders', fieldErrors=[]}
2024-12-08 14:52:25,366 WARN  [http-nio-auto-6-exec-9] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:52:25,387 WARN  [http-nio-auto-6-exec-10] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders/9999', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:45805/customer/orders/9999
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	orderId=9999
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:24 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/orders/9999",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:52:25,431 WARN  [http-nio-auto-6-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:52:25,454 WARN  [http-nio-auto-6-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/delivery', fieldErrors=[]}
2024-12-08 14:52:25,503 WARN  [http-nio-auto-6-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='password', message='Length shall be between 6 and 50 characters'}, {field='name', message='Only letters, whitespace, hyphen and apostrophe are allowed'}, {field='address', message='Special characters are not allowed'}, {field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}, {field='email', message='The value shall be in the format of an email address'}]}
2024-12-08 14:52:25,544 WARN  [http-nio-auto-6-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='contactsDTO', description='uri=/customer/contacts', fieldErrors=[{field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}, {field='address', message='Pattern.contactsDTO.address'}]}
2024-12-08 14:52:25,578 WARN  [http-nio-auto-6-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='creditCardDTO', description='uri=/customer/cart/pay', fieldErrors=[{field='ccNumber', message='Not a valid credit card number'}]}
Request method:	POST
Request URI:	http://localhost:45805/customer/cart/pay
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "ccNumber": "1234-5678-9876-5432"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:24 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/customer/cart/pay",
    "entityName": "creditCardDTO",
    "fieldErrors": [
        {
            "field": "ccNumber",
            "message": "Not a valid credit card number"
        }
    ]
}
2024-12-08 14:52:25,593 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-6"]
2024-12-08 14:52:25,593 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:25,594 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:25,597 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-6"]
2024-12-08 14:52:25,601 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-6"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m14[m, [1;31mFailures: [0;1;31m6[m, Errors: 0, Skipped: 0, Time elapsed: 2.226 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run02_RestExceptionHandlerTest[m
[[1;31mERROR[m] testGetCustomerNotFound  Time elapsed: 0.301 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v3_gpt4o_run02_RestExceptionHandlerTest.testGetCustomerNotFound(v3_gpt4o_run02_RestExceptionHandlerTest.java:65)

[[1;31mERROR[m] testGetContactsNotFound  Time elapsed: 0.025 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v3_gpt4o_run02_RestExceptionHandlerTest.testGetContactsNotFound(v3_gpt4o_run02_RestExceptionHandlerTest.java:125)

[[1;31mERROR[m] testInternalServerError  Time elapsed: 0.032 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <404>.

	at market.v3_gpt4o_run02_RestExceptionHandlerTest.testInternalServerError(v3_gpt4o_run02_RestExceptionHandlerTest.java:195)

[[1;31mERROR[m] testGetProductsUnauthorized  Time elapsed: 0.078 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <401> but was <200>.

	at market.v3_gpt4o_run02_RestExceptionHandlerTest.testGetProductsUnauthorized(v3_gpt4o_run02_RestExceptionHandlerTest.java:165)

[[1;31mERROR[m] testGetOrderNotFound  Time elapsed: 0.024 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v3_gpt4o_run02_RestExceptionHandlerTest.testGetOrderNotFound(v3_gpt4o_run02_RestExceptionHandlerTest.java:156)

[[1;31mERROR[m] testPayByCardWithoutAuth  Time elapsed: 0.036 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <401> but was <406>.

	at market.v3_gpt4o_run02_RestExceptionHandlerTest.testPayByCardWithoutAuth(v3_gpt4o_run02_RestExceptionHandlerTest.java:115)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run02_CustomerRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:25,642 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:25,643 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:25,644 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:25,644 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:25,891 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:25,924 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 32 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:25,976 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:25,999 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@15540fcc' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:26,000 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:26,047 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:26,048 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-7"]
2024-12-08 14:52:26,049 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:26,049 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:26,063 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:26,063 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 419 ms
2024-12-08 14:52:26,098 INFO  [main] c.z.h.HikariDataSource - HikariPool-7 - Starting...
2024-12-08 14:52:26,099 INFO  [main] c.z.h.HikariDataSource - HikariPool-7 - Start completed.
2024-12-08 14:52:26,120 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:26,138 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:26,156 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:26,158 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:26,272 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:26,272 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:26,458 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:26,684 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@51db36e8, org.springframework.security.web.context.SecurityContextPersistenceFilter@9cb6fb2, org.springframework.security.web.header.HeaderWriterFilter@6a060c6c, org.springframework.security.web.authentication.logout.LogoutFilter@7ba2800e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@1757598e, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@445d69b6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1e62683d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5971cbf4, org.springframework.security.web.session.SessionManagementFilter@21b2d42e, org.springframework.security.web.access.ExceptionTranslationFilter@b78c471, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@29449f5d]
2024-12-08 14:52:26,714 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:26,821 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-7"]
2024-12-08 14:52:26,824 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 45277 (http) with context path ''
2024-12-08 14:52:26,949 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.343 seconds (JVM running for 30.381)
2024-12-08 14:52:26,996 INFO  [http-nio-auto-7-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:26,996 INFO  [http-nio-auto-7-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:26,997 INFO  [http-nio-auto-7-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 1 ms
2024-12-08 14:52:27,055 WARN  [http-nio-auto-7-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='password', message='Password shall consist of Latin letters and numbers'}]}
Request method:	POST
Request URI:	http://localhost:45277/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "Petrov123!",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:27 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "userDTO",
    "fieldErrors": [
        {
            "field": "password",
            "message": "Password shall consist of Latin letters and numbers"
        }
    ]
}
2024-12-08 14:52:27,086 WARN  [http-nio-auto-7-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='password', message='Password shall consist of Latin letters and numbers'}, {field='email', message='The value shall be in the format of an email address'}]}
2024-12-08 14:52:27,109 WARN  [http-nio-auto-7-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='password', message='Password shall consist of Latin letters and numbers'}]}
Request method:	POST
Request URI:	http://localhost:45277/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "Petrov123!",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:27 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "userDTO",
    "fieldErrors": [
        {
            "field": "password",
            "message": "Password shall consist of Latin letters and numbers"
        }
    ]
}
2024-12-08 14:52:27,138 WARN  [http-nio-auto-7-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='password', message='Password shall consist of Latin letters and numbers'}]}
Request method:	POST
Request URI:	http://localhost:45277/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "Petrov123!",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:27 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "userDTO",
    "fieldErrors": [
        {
            "field": "password",
            "message": "Password shall consist of Latin letters and numbers"
        }
    ]
}
2024-12-08 14:52:27,163 WARN  [http-nio-auto-7-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='password', message='Password shall consist of Latin letters and numbers'}]}
Request method:	POST
Request URI:	http://localhost:45277/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "Petrov123!",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:27 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "userDTO",
    "fieldErrors": [
        {
            "field": "password",
            "message": "Password shall consist of Latin letters and numbers"
        }
    ]
}
2024-12-08 14:52:27,177 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-7"]
2024-12-08 14:52:27,177 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:27,178 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:27,181 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-7"]
2024-12-08 14:52:27,184 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-7"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m6[m, [1;31mFailures: [0;1;31m4[m, Errors: 0, Skipped: 0, Time elapsed: 1.558 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run02_CustomerRestControllerTest[m
[[1;31mERROR[m] testSchemaValidation  Time elapsed: 0.057 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v3_gpt4o_run02_CustomerRestControllerTest.testSchemaValidation(v3_gpt4o_run02_CustomerRestControllerTest.java:158)

[[1;31mERROR[m] testCreateCustomerEmailExists  Time elapsed: 0.027 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v3_gpt4o_run02_CustomerRestControllerTest.testCreateCustomerEmailExists(v3_gpt4o_run02_CustomerRestControllerTest.java:85)

[[1;31mERROR[m] testCreateCustomer  Time elapsed: 0.029 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v3_gpt4o_run02_CustomerRestControllerTest.testCreateCustomer(v3_gpt4o_run02_CustomerRestControllerTest.java:69)

[[1;31mERROR[m] testGetCustomer  Time elapsed: 0.024 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v3_gpt4o_run02_CustomerRestControllerTest.testGetCustomer(v3_gpt4o_run02_CustomerRestControllerTest.java:107)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run03_CustomerRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:27,212 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:27,213 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:27,214 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:27,214 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:27,424 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:27,452 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:27,504 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:27,522 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@72a32646' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:27,524 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:27,572 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:27,573 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-8"]
2024-12-08 14:52:27,574 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:27,574 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:27,595 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:27,595 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 381 ms
2024-12-08 14:52:27,629 INFO  [main] c.z.h.HikariDataSource - HikariPool-8 - Starting...
2024-12-08 14:52:27,630 INFO  [main] c.z.h.HikariDataSource - HikariPool-8 - Start completed.
2024-12-08 14:52:27,654 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:27,696 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:27,713 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:27,715 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:27,829 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:27,829 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:28,056 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:28,227 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@337154c4, org.springframework.security.web.context.SecurityContextPersistenceFilter@68764f53, org.springframework.security.web.header.HeaderWriterFilter@3c482768, org.springframework.security.web.authentication.logout.LogoutFilter@6a8b3b80, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2357d989, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@66f01b30, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1b7e03e1, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6fd2bdda, org.springframework.security.web.session.SessionManagementFilter@77bb966f, org.springframework.security.web.access.ExceptionTranslationFilter@270531bc, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@b98fbd4]
2024-12-08 14:52:28,258 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:28,365 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-8"]
2024-12-08 14:52:28,367 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 40733 (http) with context path ''
2024-12-08 14:52:28,491 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.303 seconds (JVM running for 31.924)
2024-12-08 14:52:28,560 INFO  [http-nio-auto-8-exec-2] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:28,560 INFO  [http-nio-auto-8-exec-2] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:28,562 INFO  [http-nio-auto-8-exec-2] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:52:28,590 WARN  [http-nio-auto-8-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='email', message='The value shall be in the format of an email address'}]}
2024-12-08 14:52:28,989 ERROR [http-nio-auto-8-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='JSON parse error: Unexpected character ('i' (code 105)): was expecting double-quote to start field name; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character ('i' (code 105)): was expecting double-quote to start field name
 at [Source: (PushbackInputStream); line: 1, column: 3]', entityName='null', description='uri=/register', fieldErrors=[]}
org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: Unexpected character ('i' (code 105)): was expecting double-quote to start field name; nested exception is com.fasterxml.jackson.core.JsonParseException: Unexpected character ('i' (code 105)): was expecting double-quote to start field name
 at [Source: (PushbackInputStream); line: 1, column: 3]
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:387)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:342)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:186)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:158)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:131)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: com.fasterxml.jackson.core.JsonParseException: Unexpected character ('i' (code 105)): was expecting double-quote to start field name
 at [Source: (PushbackInputStream); line: 1, column: 3]
	at com.fasterxml.jackson.core.JsonParser._constructError(JsonParser.java:1851)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportError(ParserMinimalBase.java:707)
	at com.fasterxml.jackson.core.base.ParserMinimalBase._reportUnexpectedChar(ParserMinimalBase.java:632)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._handleOddName(UTF8StreamJsonParser.java:2049)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser._parseName(UTF8StreamJsonParser.java:1700)
	at com.fasterxml.jackson.core.json.UTF8StreamJsonParser.nextToken(UTF8StreamJsonParser.java:761)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:160)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4526)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3521)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:376)
	... 89 more
2024-12-08 14:52:29,032 WARN  [http-nio-auto-8-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:40733/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "address": "Riesstrasse 18",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:28 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:52:29,092 WARN  [http-nio-auto-8-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:40733/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "address": "Riesstrasse 18",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:28 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:52:29,126 WARN  [http-nio-auto-8-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:40733/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "address": "Riesstrasse 18",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:28 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:52:29,142 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-8"]
2024-12-08 14:52:29,143 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:29,143 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:29,146 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-8"]
2024-12-08 14:52:29,148 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-8"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m7[m, [1;31mFailures: [0;1;31m3[m, Errors: 0, Skipped: 0, Time elapsed: 1.954 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run03_CustomerRestControllerTest[m
[[1;31mERROR[m] testCreateCustomerEmailExists  Time elapsed: 0.022 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v3_gpt4o_run03_CustomerRestControllerTest.testCreateCustomerEmailExists(v3_gpt4o_run03_CustomerRestControllerTest.java:111)

[[1;31mERROR[m] testCreateCustomer  Time elapsed: 0.057 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v3_gpt4o_run03_CustomerRestControllerTest.testCreateCustomer(v3_gpt4o_run03_CustomerRestControllerTest.java:87)

[[1;31mERROR[m] testGetCustomerAfterRegistration  Time elapsed: 0.038 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v3_gpt4o_run03_CustomerRestControllerTest.testGetCustomerAfterRegistration(v3_gpt4o_run03_CustomerRestControllerTest.java:159)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run01_ProductsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:29,184 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:29,185 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:29,188 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:29,188 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:29,439 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:29,467 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 28 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:29,513 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:29,534 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@5d7fecc8' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:29,537 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:29,581 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:29,582 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-9"]
2024-12-08 14:52:29,582 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:29,582 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:29,601 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:29,601 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 413 ms
2024-12-08 14:52:29,635 INFO  [main] c.z.h.HikariDataSource - HikariPool-9 - Starting...
2024-12-08 14:52:29,636 INFO  [main] c.z.h.HikariDataSource - HikariPool-9 - Start completed.
2024-12-08 14:52:29,652 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:29,675 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:29,696 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:29,698 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:29,817 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:29,818 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:30,018 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:30,173 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b328f39, org.springframework.security.web.context.SecurityContextPersistenceFilter@2db6b048, org.springframework.security.web.header.HeaderWriterFilter@204ba293, org.springframework.security.web.authentication.logout.LogoutFilter@17e5666d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@12566ea9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3ee4e969, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@43c69b1c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4470c701, org.springframework.security.web.session.SessionManagementFilter@399eabab, org.springframework.security.web.access.ExceptionTranslationFilter@5da9cd0a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7c25daa]
2024-12-08 14:52:30,202 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:30,300 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-9"]
2024-12-08 14:52:30,303 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 43363 (http) with context path ''
2024-12-08 14:52:30,435 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.282 seconds (JVM running for 33.867)
2024-12-08 14:52:30,477 INFO  [http-nio-auto-9-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:30,477 INFO  [http-nio-auto-9-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:30,479 INFO  [http-nio-auto-9-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:52:30,600 WARN  [http-nio-auto-9-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/9999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:52:30,896 WARN  [http-nio-auto-9-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/-1', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:52:30,908 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-9"]
2024-12-08 14:52:30,909 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:30,910 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:30,912 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-9"]
2024-12-08 14:52:30,917 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-9"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m7[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.761 s - in market.[1mv3_gpt4o_run01_ProductsRestControllerTest[m
[[1;34mINFO[m] Running market.[1mv3_gpt4o_run03_ProductsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:30,944 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:30,945 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:30,946 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:30,946 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:31,190 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:31,231 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 40 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:31,293 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:31,319 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2b025d74' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:31,321 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:31,364 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:31,366 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-10"]
2024-12-08 14:52:31,366 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:31,366 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:31,381 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:31,381 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 435 ms
2024-12-08 14:52:31,414 INFO  [main] c.z.h.HikariDataSource - HikariPool-10 - Starting...
2024-12-08 14:52:31,416 INFO  [main] c.z.h.HikariDataSource - HikariPool-10 - Start completed.
2024-12-08 14:52:31,432 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:31,448 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:31,464 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:31,465 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:31,608 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:31,608 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:31,797 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:31,971 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@43152b62, org.springframework.security.web.context.SecurityContextPersistenceFilter@13a1144c, org.springframework.security.web.header.HeaderWriterFilter@192cffdf, org.springframework.security.web.authentication.logout.LogoutFilter@51efdef9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2bc66a9f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@31df19b1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4f73ca52, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7d833e30, org.springframework.security.web.session.SessionManagementFilter@1ad3fa51, org.springframework.security.web.access.ExceptionTranslationFilter@364283da, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@11770432]
2024-12-08 14:52:31,997 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:32,090 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-10"]
2024-12-08 14:52:32,092 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 39909 (http) with context path ''
2024-12-08 14:52:32,208 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.286 seconds (JVM running for 35.641)
2024-12-08 14:52:32,247 INFO  [http-nio-auto-10-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:32,247 INFO  [http-nio-auto-10-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:32,249 INFO  [http-nio-auto-10-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:52:32,293 WARN  [http-nio-auto-10-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/99999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:52:32,345 WARN  [http-nio-auto-10-exec-3] o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
Request method:	POST
Request URI:	http://localhost:39909/products
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "description": "A new product",
    "name": "New Product",
    "volume": 750,
    "alcohol": 40,
    "price": 19.99,
    "available": true
}

HTTP/1.1 405 
Allow: GET
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:32 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:32.347+00:00",
    "status": 405,
    "error": "Method Not Allowed",
    "message": "",
    "path": "/products"
}
2024-12-08 14:52:32,436 WARN  [http-nio-auto-10-exec-5] o.s.w.s.m.s.DefaultHandlerExceptionResolver - Resolved [org.springframework.web.HttpRequestMethodNotSupportedException: Request method 'POST' not supported]
Request method:	POST
Request URI:	http://localhost:39909/products
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "price": -1,
    "alcohol": 0,
    "available": true,
    "name": "",
    "volume": 0
}

HTTP/1.1 405 
Allow: GET
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:32 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:32.438+00:00",
    "status": 405,
    "error": "Method Not Allowed",
    "message": "",
    "path": "/products"
}
2024-12-08 14:52:32,572 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-10"]
2024-12-08 14:52:32,573 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:32,573 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:32,576 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-10"]
2024-12-08 14:52:32,579 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-10"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m8[m, [1;31mFailures: [0;1;31m2[m, [1;31mErrors: [0;1;31m2[m, Skipped: 0, Time elapsed: 1.655 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run03_ProductsRestControllerTest[m
[[1;31mERROR[m] testSchemaValidationGetSingleProduct  Time elapsed: 0.045 s  <<< ERROR!
java.lang.IllegalArgumentException: Schema to use cannot be null
	at market.v3_gpt4o_run03_ProductsRestControllerTest.testSchemaValidationGetSingleProduct(v3_gpt4o_run03_ProductsRestControllerTest.java:172)

[[1;31mERROR[m] testCreateProduct  Time elapsed: 0.024 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <405>.

	at market.v3_gpt4o_run03_ProductsRestControllerTest.testCreateProduct(v3_gpt4o_run03_ProductsRestControllerTest.java:120)

[[1;31mERROR[m] testCreateProductWithInvalidData  Time elapsed: 0.029 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <400> but was <405>.

	at market.v3_gpt4o_run03_ProductsRestControllerTest.testCreateProductWithInvalidData(v3_gpt4o_run03_ProductsRestControllerTest.java:142)

[[1;31mERROR[m] testSchemaValidationGetProducts  Time elapsed: 0.034 s  <<< ERROR!
java.lang.IllegalArgumentException: Schema to use cannot be null
	at market.v3_gpt4o_run03_ProductsRestControllerTest.testSchemaValidationGetProducts(v3_gpt4o_run03_ProductsRestControllerTest.java:159)

[[1;34mINFO[m] Running market.[1mv3_gpt35_run03_OrdersRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:32,614 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:32,615 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:32,616 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:32,616 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:32,852 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:32,900 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 47 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:32,960 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:32,985 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@72d003f6' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:32,987 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:33,046 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:33,047 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-11"]
2024-12-08 14:52:33,048 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:33,048 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:33,065 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:33,065 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 448 ms
2024-12-08 14:52:33,111 INFO  [main] c.z.h.HikariDataSource - HikariPool-11 - Starting...
2024-12-08 14:52:33,112 INFO  [main] c.z.h.HikariDataSource - HikariPool-11 - Start completed.
2024-12-08 14:52:33,133 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:33,154 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:33,172 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:33,174 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:33,295 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:33,295 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:33,471 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:33,619 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4fea205c, org.springframework.security.web.context.SecurityContextPersistenceFilter@718c8590, org.springframework.security.web.header.HeaderWriterFilter@41b73df8, org.springframework.security.web.authentication.logout.LogoutFilter@14bf5ec0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@13e1ad47, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1ce790cd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@64473654, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@79b022ec, org.springframework.security.web.session.SessionManagementFilter@72a2f141, org.springframework.security.web.access.ExceptionTranslationFilter@21a985e1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@51f637de]
2024-12-08 14:52:33,649 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:33,745 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-11"]
2024-12-08 14:52:33,747 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 35489 (http) with context path ''
2024-12-08 14:52:33,875 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.291 seconds (JVM running for 37.308)
2024-12-08 14:52:33,947 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-11"]
2024-12-08 14:52:33,947 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:33,949 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-11"]
2024-12-08 14:52:33,952 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-11"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m11[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.361 s - in market.[1mv3_gpt35_run03_OrdersRestControllerTest[m
[[1;34mINFO[m] Running market.[1mv3_gpt4o_run01_ContactsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:33,985 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:33,986 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:33,987 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:33,987 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:34,204 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:34,230 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:34,274 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:34,291 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2d1ccb1e' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:34,293 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:34,338 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:34,339 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-12"]
2024-12-08 14:52:34,340 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:34,340 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:34,353 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:34,353 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 366 ms
2024-12-08 14:52:34,385 INFO  [main] c.z.h.HikariDataSource - HikariPool-12 - Starting...
2024-12-08 14:52:34,386 INFO  [main] c.z.h.HikariDataSource - HikariPool-12 - Start completed.
2024-12-08 14:52:34,402 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:34,419 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:34,434 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:34,436 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:34,554 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:34,555 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:34,711 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:34,856 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@782ff9d7, org.springframework.security.web.context.SecurityContextPersistenceFilter@63ac4f0d, org.springframework.security.web.header.HeaderWriterFilter@4da7cfd1, org.springframework.security.web.authentication.logout.LogoutFilter@7079eb79, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7efe7efa, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ad6aabb, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@197c3977, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1e0db6d6, org.springframework.security.web.session.SessionManagementFilter@69dc4aa, org.springframework.security.web.access.ExceptionTranslationFilter@3e15259, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@79f90d96]
2024-12-08 14:52:34,883 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:34,977 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-12"]
2024-12-08 14:52:34,979 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 44695 (http) with context path ''
2024-12-08 14:52:35,090 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.134 seconds (JVM running for 38.523)
2024-12-08 14:52:35,136 INFO  [http-nio-auto-12-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:35,136 INFO  [http-nio-auto-12-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:35,138 INFO  [http-nio-auto-12-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:52:35,151 WARN  [http-nio-auto-12-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:44695/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "address": "New Address",
    "phone": "+7 987 654 32 10"
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:35 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/contacts",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:52:35,171 WARN  [http-nio-auto-12-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:44695/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:35 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/contacts",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:52:35,187 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-12"]
2024-12-08 14:52:35,187 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:35,188 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:35,190 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-12"]
2024-12-08 14:52:35,193 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-12"]

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:35,222 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:35,223 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:35,224 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:35,224 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:35,456 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:35,481 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:35,522 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:35,540 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6c8ae79c' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:35,541 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:35,583 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:35,586 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-13"]
2024-12-08 14:52:35,586 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:35,586 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:35,600 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:35,601 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 377 ms
2024-12-08 14:52:35,636 INFO  [main] c.z.h.HikariDataSource - HikariPool-13 - Starting...
2024-12-08 14:52:35,638 INFO  [main] c.z.h.HikariDataSource - HikariPool-13 - Start completed.
2024-12-08 14:52:35,651 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:35,671 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:35,684 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:35,686 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:35,802 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:35,802 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:35,990 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:36,166 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3e75ff3a, org.springframework.security.web.context.SecurityContextPersistenceFilter@61d90bdc, org.springframework.security.web.header.HeaderWriterFilter@43c9e057, org.springframework.security.web.authentication.logout.LogoutFilter@44009332, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@ccbc29d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@670858ae, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6bcfd740, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@18409456, org.springframework.security.web.session.SessionManagementFilter@6d1d7f56, org.springframework.security.web.access.ExceptionTranslationFilter@2e550041, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2ef090a9]
2024-12-08 14:52:36,195 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:36,295 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-13"]
2024-12-08 14:52:36,298 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 37385 (http) with context path ''
2024-12-08 14:52:36,408 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.206 seconds (JVM running for 39.841)
2024-12-08 14:52:36,432 INFO  [http-nio-auto-13-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:36,432 INFO  [http-nio-auto-13-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:36,435 INFO  [http-nio-auto-13-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 3 ms
2024-12-08 14:52:36,439 WARN  [http-nio-auto-13-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:37385/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:36 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/contacts",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:52:36,476 WARN  [http-nio-auto-13-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:37385/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "address": "New Address",
    "phone": "+7 987 654 32 10"
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:36 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/contacts",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:52:36,492 WARN  [http-nio-auto-13-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:52:36,522 WARN  [http-nio-auto-13-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='contactsDTO', description='uri=/customer/contacts', fieldErrors=[{field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}, {field='address', message='Pattern.contactsDTO.address'}]}
Request method:	PUT
Request URI:	http://localhost:37385/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "address": "Invalid Address #$%^",
    "phone": "Invalid Phone"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:36 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/customer/contacts",
    "entityName": "contactsDTO",
    "fieldErrors": [
        {
            "field": "phone",
            "message": "Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)"
        },
        {
            "field": "address",
            "message": "Pattern.contactsDTO.address"
        }
    ]
}
2024-12-08 14:52:36,544 WARN  [http-nio-auto-13-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:52:36,556 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-13"]
2024-12-08 14:52:36,557 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:36,557 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:36,559 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-13"]
2024-12-08 14:52:36,563 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-13"]

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:36,605 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:36,605 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:36,607 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:36,607 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:36,859 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:36,888 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:36,945 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:36,971 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3fe76c2f' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:36,973 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:37,027 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:37,028 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-14"]
2024-12-08 14:52:37,029 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:37,029 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:37,042 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:37,043 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 436 ms
2024-12-08 14:52:37,075 INFO  [main] c.z.h.HikariDataSource - HikariPool-14 - Starting...
2024-12-08 14:52:37,077 INFO  [main] c.z.h.HikariDataSource - HikariPool-14 - Start completed.
2024-12-08 14:52:37,088 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:37,105 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:37,120 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:37,122 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:37,218 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:37,218 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:37,394 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:37,560 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3bad40ca, org.springframework.security.web.context.SecurityContextPersistenceFilter@212ec5b4, org.springframework.security.web.header.HeaderWriterFilter@2dc6ee82, org.springframework.security.web.authentication.logout.LogoutFilter@77b401c9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7c88bcbb, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@a7d9d39, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1055c00a, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@658a0c3, org.springframework.security.web.session.SessionManagementFilter@11243420, org.springframework.security.web.access.ExceptionTranslationFilter@4ddcd49c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5b9bc5cd]
2024-12-08 14:52:37,585 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:37,670 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-14"]
2024-12-08 14:52:37,674 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 42685 (http) with context path ''
2024-12-08 14:52:37,787 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.208 seconds (JVM running for 41.22)
2024-12-08 14:52:37,804 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-14"]
2024-12-08 14:52:37,805 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:37,807 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-14"]
2024-12-08 14:52:37,810 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-14"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m9[m, [1;31mFailures: [0;1;31m5[m, Errors: 0, Skipped: 0, Time elapsed: 3.852 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run01_ContactsRestControllerTest[m
[[1;31mERROR[m] testUpdateContactsSuccess  Time elapsed: 0.04 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v3_gpt4o_run01_ContactsRestControllerTest.testUpdateContactsSuccess(v3_gpt4o_run01_ContactsRestControllerTest.java:90)

[[1;31mERROR[m] testGetContactsSuccess  Time elapsed: 0.017 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v3_gpt4o_run01_ContactsRestControllerTest.testGetContactsSuccess(v3_gpt4o_run01_ContactsRestControllerTest.java:65)

[[1;31mERROR[m] testSchemaValidation  Time elapsed: 0.028 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v3_gpt4o_run01_ContactsRestControllerTest.testSchemaValidation(v3_gpt4o_run01_ContactsRestControllerTest.java:168)

[[1;31mERROR[m] testUpdateContactsSchemaValidation  Time elapsed: 0.035 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v3_gpt4o_run01_ContactsRestControllerTest.testUpdateContactsSchemaValidation(v3_gpt4o_run01_ContactsRestControllerTest.java:185)

[[1;31mERROR[m] testUpdateContactsInvalidInput  Time elapsed: 0.033 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <400> but was <406>.

	at market.v3_gpt4o_run01_ContactsRestControllerTest.testUpdateContactsInvalidInput(v3_gpt4o_run01_ContactsRestControllerTest.java:122)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run01_RestExceptionHandlerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:37,848 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:37,849 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:37,850 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:37,850 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:38,123 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:38,145 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:38,180 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:38,195 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@52ddb08' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:38,197 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:38,236 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:38,237 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-15"]
2024-12-08 14:52:38,238 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:38,238 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:38,255 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:38,255 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 405 ms
2024-12-08 14:52:38,287 INFO  [main] c.z.h.HikariDataSource - HikariPool-15 - Starting...
2024-12-08 14:52:38,288 INFO  [main] c.z.h.HikariDataSource - HikariPool-15 - Start completed.
2024-12-08 14:52:38,301 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:38,318 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:38,333 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:38,335 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:38,431 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:38,432 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:38,638 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:38,885 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5186c558, org.springframework.security.web.context.SecurityContextPersistenceFilter@9e31043, org.springframework.security.web.header.HeaderWriterFilter@75c66df5, org.springframework.security.web.authentication.logout.LogoutFilter@28d4c825, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@25056143, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2bbe234a, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6d514a0d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6ed4bf9c, org.springframework.security.web.session.SessionManagementFilter@5160a82d, org.springframework.security.web.access.ExceptionTranslationFilter@26109de8, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7ddb184]
2024-12-08 14:52:38,920 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:39,045 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-15"]
2024-12-08 14:52:39,047 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 40871 (http) with context path ''
2024-12-08 14:52:39,187 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.373 seconds (JVM running for 42.62)
2024-12-08 14:52:39,244 INFO  [http-nio-auto-15-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:39,244 INFO  [http-nio-auto-15-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:39,246 INFO  [http-nio-auto-15-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
Request method:	GET
Request URI:	http://localhost:40871/customer?name=NonExistentUser
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:39 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:39.423+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer"
}
2024-12-08 14:52:39,451 WARN  [http-nio-auto-15-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:40871/customer/cart?name=ivan.petrov@yandex.ru
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "productId": 9999,
    "quantity": 1
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:39 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:52:39,474 WARN  [http-nio-auto-15-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders', fieldErrors=[]}
2024-12-08 14:52:39,494 ERROR [http-nio-auto-15-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Failed to convert value of type 'java.lang.String' to required type 'boolean'; nested exception is java.lang.IllegalArgumentException: Invalid boolean value [invalidBoolean]', entityName='null', description='uri=/customer/cart/delivery', fieldErrors=[]}
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'boolean'; nested exception is java.lang.IllegalArgumentException: Invalid boolean value [invalidBoolean]
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:668)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.IllegalArgumentException: Invalid boolean value [invalidBoolean]
	at org.springframework.beans.propertyeditors.CustomBooleanEditor.setAsText(CustomBooleanEditor.java:154)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:696)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	... 85 more
2024-12-08 14:52:39,547 WARN  [http-nio-auto-15-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='contactsDTO', description='uri=/customer/contacts', fieldErrors=[{field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}]}
2024-12-08 14:52:39,604 WARN  [http-nio-auto-15-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:40871/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:39 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
Request method:	GET
Request URI:	http://localhost:40871/products/1
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/hal+json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:39 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "productId": 1,
    "distillery": "Ardbeg",
    "name": "Ten",
    "price": 4420.0,
    "age": 10,
    "volume": 700,
    "alcohol": 46.0,
    "description": "Ten Years Old is the basis of the Ardbeg range. After 10 years of maturation in ex-bourbon casks, the whiskey bottled at 46% ABV without cold filtering. The characteristic peat, although clearly present but in perfect balance with the natural sweetness and not predominant in the taste.",
    "available": false,
    "_links": {
        "All products": {
            "href": "http://localhost:40871/products"
        }
    }
}
2024-12-08 14:52:39,654 WARN  [http-nio-auto-15-exec-10] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/9999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:52:39,682 WARN  [http-nio-auto-15-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='creditCardDTO', description='uri=/customer/cart/pay', fieldErrors=[{field='ccNumber', message='Card number shall consist of 13-16 digits'}, {field='ccNumber', message='Not a valid credit card number'}]}
2024-12-08 14:52:39,693 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-15"]
2024-12-08 14:52:39,693 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:39,694 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:39,696 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-15"]
2024-12-08 14:52:39,702 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-15"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m10[m, [1;31mFailures: [0;1;31m4[m, Errors: 0, Skipped: 0, Time elapsed: 1.858 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run01_RestExceptionHandlerTest[m
[[1;31mERROR[m] testGetCustomer_NotFound  Time elapsed: 0.206 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v3_gpt4o_run01_RestExceptionHandlerTest.testGetCustomer_NotFound(v3_gpt4o_run01_RestExceptionHandlerTest.java:70)

[[1;31mERROR[m] testAddItemToCart_InvalidProduct  Time elapsed: 0.032 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v3_gpt4o_run01_RestExceptionHandlerTest.testAddItemToCart_InvalidProduct(v3_gpt4o_run01_RestExceptionHandlerTest.java:94)

[[1;31mERROR[m] testCreateCustomer_Duplicate  Time elapsed: 0.037 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v3_gpt4o_run01_RestExceptionHandlerTest.testCreateCustomer_Duplicate(v3_gpt4o_run01_RestExceptionHandlerTest.java:148)

[[1;31mERROR[m] testGetProduct_Unauthorized  Time elapsed: 0.03 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <401> but was <200>.

	at market.v3_gpt4o_run01_RestExceptionHandlerTest.testGetProduct_Unauthorized(v3_gpt4o_run01_RestExceptionHandlerTest.java:189)

[[1;34mINFO[m] Running market.[1mv3_gpt35_run03_ContactsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:39,744 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:39,745 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:39,746 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:39,746 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:39,993 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:40,020 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:40,072 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:40,096 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2fe120e0' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:40,097 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:40,153 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:40,156 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-16"]
2024-12-08 14:52:40,156 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:40,156 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:40,174 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:40,174 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 428 ms
2024-12-08 14:52:40,211 INFO  [main] c.z.h.HikariDataSource - HikariPool-16 - Starting...
2024-12-08 14:52:40,212 INFO  [main] c.z.h.HikariDataSource - HikariPool-16 - Start completed.
2024-12-08 14:52:40,228 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:40,243 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:40,257 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:40,259 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:40,370 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:40,372 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:40,630 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:40,868 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@5e071d4d, org.springframework.security.web.context.SecurityContextPersistenceFilter@5bf65656, org.springframework.security.web.header.HeaderWriterFilter@5004fdba, org.springframework.security.web.authentication.logout.LogoutFilter@6b05a202, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@4ae69e3b, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@715afe99, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@6443425, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@60f51f1b, org.springframework.security.web.session.SessionManagementFilter@778e6cd6, org.springframework.security.web.access.ExceptionTranslationFilter@7eaa8594, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6ef16f77]
2024-12-08 14:52:40,910 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:41,065 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-16"]
2024-12-08 14:52:41,067 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 38883 (http) with context path ''
2024-12-08 14:52:41,167 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.456 seconds (JVM running for 44.6)
2024-12-08 14:52:41,225 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-16"]
2024-12-08 14:52:41,226 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:41,228 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-16"]
2024-12-08 14:52:41,230 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-16"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m7[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.519 s - in market.[1mv3_gpt35_run03_ContactsRestControllerTest[m
[[1;34mINFO[m] Running market.[1mv3_gpt4o_run03_ContactsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:41,267 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:41,268 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:41,269 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:41,269 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:41,478 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:41,502 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:41,550 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:41,568 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@25e0722a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:41,571 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:41,611 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:41,613 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-17"]
2024-12-08 14:52:41,614 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:41,614 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:41,628 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:41,628 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 359 ms
2024-12-08 14:52:41,660 INFO  [main] c.z.h.HikariDataSource - HikariPool-17 - Starting...
2024-12-08 14:52:41,661 INFO  [main] c.z.h.HikariDataSource - HikariPool-17 - Start completed.
2024-12-08 14:52:41,674 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:41,706 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:41,720 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:41,721 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:41,833 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:41,833 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:41,999 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:42,120 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@34d222ae, org.springframework.security.web.context.SecurityContextPersistenceFilter@73d02658, org.springframework.security.web.header.HeaderWriterFilter@355d2684, org.springframework.security.web.authentication.logout.LogoutFilter@6b8ce9e9, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2ef242ff, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@72f2b612, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@2ec7c7ce, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5d01e32b, org.springframework.security.web.session.SessionManagementFilter@59edd032, org.springframework.security.web.access.ExceptionTranslationFilter@5b0b550d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6e1e1370]
2024-12-08 14:52:42,146 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:42,237 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-17"]
2024-12-08 14:52:42,241 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 44399 (http) with context path ''
2024-12-08 14:52:42,342 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.107 seconds (JVM running for 45.775)
2024-12-08 14:52:42,387 INFO  [http-nio-auto-17-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:42,387 INFO  [http-nio-auto-17-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:42,389 INFO  [http-nio-auto-17-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:52:42,416 WARN  [http-nio-auto-17-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='contactsDTO', description='uri=/customer/contacts', fieldErrors=[{field='address', message='Pattern.contactsDTO.address'}, {field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}]}
2024-12-08 14:52:42,434 WARN  [http-nio-auto-17-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:52:42,458 WARN  [http-nio-auto-17-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:52:42,476 WARN  [http-nio-auto-17-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:52:42,491 WARN  [http-nio-auto-17-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:52:42,515 WARN  [http-nio-auto-17-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:52:42,531 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-17"]
2024-12-08 14:52:42,531 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:42,532 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:42,535 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-17"]
2024-12-08 14:52:42,538 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-17"]

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:42,575 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:42,576 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:42,577 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:42,577 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:42,796 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:42,821 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:42,859 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:42,876 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@7d82758d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:42,878 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:42,918 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:42,919 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-18"]
2024-12-08 14:52:42,919 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:42,919 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:42,932 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:42,932 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 355 ms
2024-12-08 14:52:42,961 INFO  [main] c.z.h.HikariDataSource - HikariPool-18 - Starting...
2024-12-08 14:52:42,963 INFO  [main] c.z.h.HikariDataSource - HikariPool-18 - Start completed.
2024-12-08 14:52:42,977 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:42,995 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:43,012 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:43,014 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:43,125 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:43,125 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:43,299 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:43,436 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@71a7c3bf, org.springframework.security.web.context.SecurityContextPersistenceFilter@2986a2bb, org.springframework.security.web.header.HeaderWriterFilter@7a9add7f, org.springframework.security.web.authentication.logout.LogoutFilter@21e1e0a0, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@25d424e7, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@5ea9e978, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7274a6f7, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@47355751, org.springframework.security.web.session.SessionManagementFilter@1c9d386, org.springframework.security.web.access.ExceptionTranslationFilter@a2faef5, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4199fee]
2024-12-08 14:52:43,465 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:43,553 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-18"]
2024-12-08 14:52:43,555 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 44637 (http) with context path ''
2024-12-08 14:52:43,648 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.096 seconds (JVM running for 47.081)
2024-12-08 14:52:43,672 INFO  [http-nio-auto-18-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:43,672 INFO  [http-nio-auto-18-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:43,674 INFO  [http-nio-auto-18-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:52:43,686 WARN  [http-nio-auto-18-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:52:43,698 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-18"]
2024-12-08 14:52:43,698 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:43,699 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:43,701 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-18"]
2024-12-08 14:52:43,704 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-18"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m8[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 2.469 s - in market.[1mv3_gpt4o_run03_ContactsRestControllerTest[m
[[1;34mINFO[m] Running market.[1mv3_gpt35_run02_RestErrorResponseTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:43,730 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:43,730 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:43,731 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:43,731 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:43,939 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:43,964 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 25 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:44,008 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:44,024 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@47838b41' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:44,025 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:44,086 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:44,088 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-19"]
2024-12-08 14:52:44,088 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:44,089 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:44,105 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:44,106 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 374 ms
2024-12-08 14:52:44,149 INFO  [main] c.z.h.HikariDataSource - HikariPool-19 - Starting...
2024-12-08 14:52:44,150 INFO  [main] c.z.h.HikariDataSource - HikariPool-19 - Start completed.
2024-12-08 14:52:44,168 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:44,188 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:44,205 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:44,207 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:44,328 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:44,328 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:44,542 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:44,705 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@32260568, org.springframework.security.web.context.SecurityContextPersistenceFilter@6049ea29, org.springframework.security.web.header.HeaderWriterFilter@1ebdf65d, org.springframework.security.web.authentication.logout.LogoutFilter@21c21e71, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2171e5ae, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@71620162, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@9c1e0d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@78bae0e8, org.springframework.security.web.session.SessionManagementFilter@2904fc76, org.springframework.security.web.access.ExceptionTranslationFilter@2016259f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@32b99a71]
2024-12-08 14:52:44,732 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:44,827 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-19"]
2024-12-08 14:52:44,829 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 39595 (http) with context path ''
2024-12-08 14:52:44,947 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.238 seconds (JVM running for 48.38)
2024-12-08 14:52:44,989 INFO  [http-nio-auto-19-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:44,989 INFO  [http-nio-auto-19-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:44,991 INFO  [http-nio-auto-19-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:52:45,017 WARN  [http-nio-auto-19-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='phone', message='The value shall not be empty'}, {field='email', message='The value shall not be empty'}, {field='name', message='The value shall not be empty'}, {field='address', message='The value shall not be empty'}]}
Request method:	POST
Request URI:	http://localhost:39595/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "invalidField": "invalidValue"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:45 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "userDTO",
    "fieldErrors": [
        {
            "field": "phone",
            "message": "The value shall not be empty"
        },
        {
            "field": "email",
            "message": "The value shall not be empty"
        },
        {
            "field": "name",
            "message": "The value shall not be empty"
        },
        {
            "field": "address",
            "message": "The value shall not be empty"
        }
    ]
}
2024-12-08 14:52:45,058 WARN  [http-nio-auto-19-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:39595/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:45 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:52:45,089 WARN  [http-nio-auto-19-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:39595/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:45 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:52:45,101 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-19"]
2024-12-08 14:52:45,101 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:45,102 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:45,106 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-19"]
2024-12-08 14:52:45,109 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-19"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m5[m, [1;31mFailures: [0;1;31m3[m, Errors: 0, Skipped: 0, Time elapsed: 1.398 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt35_run02_RestErrorResponseTest[m
[[1;31mERROR[m] testInvalidInput_Returns5xxStatusCode  Time elapsed: 0.054 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code a value equal to or greater than <500> but <406> was less than <500>.

	at market.v3_gpt35_run02_RestErrorResponseTest.testInvalidInput_Returns5xxStatusCode(v3_gpt35_run02_RestErrorResponseTest.java:70)

[[1;31mERROR[m] testSchemaValidation_CustomerRegistration  Time elapsed: 0.035 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v3_gpt35_run02_RestErrorResponseTest.testSchemaValidation_CustomerRegistration(v3_gpt35_run02_RestErrorResponseTest.java:92)

[[1;31mERROR[m] testServerError_Returns5xxStatusCode  Time elapsed: 0.027 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code a value equal to or greater than <500> but <406> was less than <500>.

	at market.v3_gpt35_run02_RestErrorResponseTest.testServerError_Returns5xxStatusCode(v3_gpt35_run02_RestErrorResponseTest.java:81)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run01_CustomerRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:45,138 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:45,138 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:45,139 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:45,139 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:45,339 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:45,376 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 36 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:45,409 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:45,423 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@71be5763' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:45,425 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:45,458 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:45,459 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-20"]
2024-12-08 14:52:45,459 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:45,460 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:45,474 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:45,474 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 334 ms
2024-12-08 14:52:45,507 INFO  [main] c.z.h.HikariDataSource - HikariPool-20 - Starting...
2024-12-08 14:52:45,508 INFO  [main] c.z.h.HikariDataSource - HikariPool-20 - Start completed.
2024-12-08 14:52:45,523 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:45,538 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:45,551 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:45,553 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:45,663 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:45,663 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:45,824 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:45,970 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@4d201c18, org.springframework.security.web.context.SecurityContextPersistenceFilter@5de0e69e, org.springframework.security.web.header.HeaderWriterFilter@6809ec8e, org.springframework.security.web.authentication.logout.LogoutFilter@5c6c808a, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6c6da670, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@6ff7a0b2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@48bd5c5e, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e044a20, org.springframework.security.web.session.SessionManagementFilter@62e59e91, org.springframework.security.web.access.ExceptionTranslationFilter@766b868, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@81d784]
2024-12-08 14:52:45,999 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:46,110 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-20"]
2024-12-08 14:52:46,113 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 35907 (http) with context path ''
2024-12-08 14:52:46,221 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.109 seconds (JVM running for 49.654)
2024-12-08 14:52:46,268 INFO  [http-nio-auto-20-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:46,268 INFO  [http-nio-auto-20-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:46,269 INFO  [http-nio-auto-20-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 1 ms
2024-12-08 14:52:46,292 WARN  [http-nio-auto-20-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='email', message='The value shall be in the format of an email address'}]}
2024-12-08 14:52:46,313 WARN  [http-nio-auto-20-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}]}
2024-12-08 14:52:46,358 WARN  [http-nio-auto-20-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='address', message='Special characters are not allowed'}]}
2024-12-08 14:52:46,392 WARN  [http-nio-auto-20-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:35907/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:46 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:52:46,421 WARN  [http-nio-auto-20-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:35907/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:46 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:52:46,447 WARN  [http-nio-auto-20-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:35907/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:46 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:52:46,460 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-20"]
2024-12-08 14:52:46,461 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:46,461 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:46,463 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-20"]
2024-12-08 14:52:46,467 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-20"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m7[m, [1;31mFailures: [0;1;31m3[m, Errors: 0, Skipped: 0, Time elapsed: 1.35 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run01_CustomerRestControllerTest[m
[[1;31mERROR[m] testCreateCustomer  Time elapsed: 0.036 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v3_gpt4o_run01_CustomerRestControllerTest.testCreateCustomer(v3_gpt4o_run01_CustomerRestControllerTest.java:66)

[[1;31mERROR[m] testCreateCustomerWithExistingEmail  Time elapsed: 0.029 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v3_gpt4o_run01_CustomerRestControllerTest.testCreateCustomerWithExistingEmail(v3_gpt4o_run01_CustomerRestControllerTest.java:81)

[[1;31mERROR[m] testGetCustomerWithValidSession  Time elapsed: 0.027 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v3_gpt4o_run01_CustomerRestControllerTest.testGetCustomerWithValidSession(v3_gpt4o_run01_CustomerRestControllerTest.java:104)

[[1;34mINFO[m] Running market.[1mv3_gpt35_run03_RestErrorResponseTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:46,495 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:46,495 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:46,496 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:46,496 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:46,691 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:46,715 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:46,756 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:46,775 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2c1afa6a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:46,776 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:46,841 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:46,842 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-21"]
2024-12-08 14:52:46,843 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:46,843 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:46,858 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:46,858 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 361 ms
2024-12-08 14:52:46,901 INFO  [main] c.z.h.HikariDataSource - HikariPool-21 - Starting...
2024-12-08 14:52:46,903 INFO  [main] c.z.h.HikariDataSource - HikariPool-21 - Start completed.
2024-12-08 14:52:46,918 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:46,936 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:46,951 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:46,952 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:47,061 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:47,061 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:47,219 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:47,342 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3b0fb0ad, org.springframework.security.web.context.SecurityContextPersistenceFilter@3e5862ab, org.springframework.security.web.header.HeaderWriterFilter@470d3b0d, org.springframework.security.web.authentication.logout.LogoutFilter@18c5dcff, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@7574c97a, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@1a7b8ff7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@34000ae6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@22ad77a7, org.springframework.security.web.session.SessionManagementFilter@3f9dd729, org.springframework.security.web.access.ExceptionTranslationFilter@65e82dea, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@14f36917]
2024-12-08 14:52:47,367 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:47,450 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-21"]
2024-12-08 14:52:47,452 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 38081 (http) with context path ''
2024-12-08 14:52:47,577 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.106 seconds (JVM running for 51.009)
2024-12-08 14:52:47,615 INFO  [http-nio-auto-21-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:47,615 INFO  [http-nio-auto-21-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:47,618 INFO  [http-nio-auto-21-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 3 ms
Request method:	POST
Request URI:	http://localhost:38081/customer
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "key": "value"
}

HTTP/1.1 401 
Set-Cookie: JSESSIONID=E19AC51839ED6998AD79C7D8FFC9933F; Path=/; HttpOnly
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:47 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:47.621+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer"
}
Request method:	POST
Request URI:	http://localhost:38081/invalidEndpoint
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "message": "Invalid input",
    "description": "Description",
    "entityName": "EntityName",
    "fieldErrors": [
        {
            "field": "path",
            "message": "message"
        }
    ]

HTTP/1.1 404 
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:47 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:47.644+00:00",
    "status": 404,
    "error": "Not Found",
    "message": "",
    "path": "/invalidEndpoint"
}
2024-12-08 14:52:47,658 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-21"]
2024-12-08 14:52:47,658 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:47,658 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:47,661 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-21"]
2024-12-08 14:52:47,664 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-21"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m2[m, [1;31mFailures: [0;1;31m2[m, Errors: 0, Skipped: 0, Time elapsed: 1.189 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt35_run03_RestErrorResponseTest[m
[[1;31mERROR[m] testServerErrorReturns5xxError  Time elapsed: 0.025 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <401>.

	at market.v3_gpt35_run03_RestErrorResponseTest.testServerErrorReturns5xxError(v3_gpt35_run03_RestErrorResponseTest.java:61)

[[1;31mERROR[m] testInvalidInputReturns5xxError  Time elapsed: 0.023 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <404>.

	at market.v3_gpt35_run03_RestErrorResponseTest.testInvalidInputReturns5xxError(v3_gpt35_run03_RestErrorResponseTest.java:50)

[[1;34mINFO[m] Running market.[1mv3_gpt35_run02_RestExceptionHandlerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:47,691 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:47,691 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:47,693 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:47,693 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:47,877 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:47,902 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 24 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:47,941 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:47,957 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@437837c0' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:47,958 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:47,999 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:48,001 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-22"]
2024-12-08 14:52:48,001 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:48,001 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:48,014 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:48,014 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 321 ms
2024-12-08 14:52:48,059 INFO  [main] c.z.h.HikariDataSource - HikariPool-22 - Starting...
2024-12-08 14:52:48,060 INFO  [main] c.z.h.HikariDataSource - HikariPool-22 - Start completed.
2024-12-08 14:52:48,069 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:48,084 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:48,095 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:48,096 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:48,190 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:48,191 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:48,368 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:48,497 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@10d2ce77, org.springframework.security.web.context.SecurityContextPersistenceFilter@3f9ee4aa, org.springframework.security.web.header.HeaderWriterFilter@4c565fd8, org.springframework.security.web.authentication.logout.LogoutFilter@10f2b1e2, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@46b7b73f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7000f605, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@ed6df42, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4cc45ca6, org.springframework.security.web.session.SessionManagementFilter@5a518a1e, org.springframework.security.web.access.ExceptionTranslationFilter@63759488, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@fa20f09]
2024-12-08 14:52:48,522 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:48,604 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-22"]
2024-12-08 14:52:48,606 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 44985 (http) with context path ''
2024-12-08 14:52:48,743 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.075 seconds (JVM running for 52.176)
2024-12-08 14:52:48,787 INFO  [http-nio-auto-22-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:48,787 INFO  [http-nio-auto-22-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:48,788 INFO  [http-nio-auto-22-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 1 ms
2024-12-08 14:52:48,874 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-22"]
2024-12-08 14:52:48,874 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:48,874 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:48,876 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-22"]
2024-12-08 14:52:48,879 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-22"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m5[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.207 s - in market.[1mv3_gpt35_run02_RestExceptionHandlerTest[m
[[1;34mINFO[m] Running market.[1mv3_gpt35_run01_RestExceptionHandlerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:48,907 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:48,907 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:48,908 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:48,908 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:49,106 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:49,129 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 22 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:49,169 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:49,185 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@33708ef0' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:49,188 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:49,224 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:49,234 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-23"]
2024-12-08 14:52:49,235 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:49,235 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:49,247 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:49,247 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 339 ms
2024-12-08 14:52:49,277 INFO  [main] c.z.h.HikariDataSource - HikariPool-23 - Starting...
2024-12-08 14:52:49,278 INFO  [main] c.z.h.HikariDataSource - HikariPool-23 - Start completed.
2024-12-08 14:52:49,289 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:49,305 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:49,316 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:49,317 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:49,402 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:49,402 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:49,563 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:49,687 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@68b4812c, org.springframework.security.web.context.SecurityContextPersistenceFilter@3c328ecd, org.springframework.security.web.header.HeaderWriterFilter@773c5153, org.springframework.security.web.authentication.logout.LogoutFilter@306a9361, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@79eef85, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@61218464, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7402e7da, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@456e39fa, org.springframework.security.web.session.SessionManagementFilter@6131bb33, org.springframework.security.web.access.ExceptionTranslationFilter@70d5b37c, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@73723a04]
2024-12-08 14:52:49,709 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:49,786 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-23"]
2024-12-08 14:52:49,788 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 38621 (http) with context path ''
2024-12-08 14:52:49,873 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.991 seconds (JVM running for 53.305)
2024-12-08 14:52:49,908 INFO  [http-nio-auto-23-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:49,908 INFO  [http-nio-auto-23-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:49,910 INFO  [http-nio-auto-23-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
Request method:	GET
Request URI:	http://localhost:38621/customer
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
Set-Cookie: JSESSIONID=5E4DC43129F485BDC315E256C56BAD9F; Path=/; HttpOnly
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:49 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:49.914+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer"
}
Request method:	GET
Request URI:	http://localhost:38621/customer
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
Set-Cookie: JSESSIONID=5310E8BA22DFD8DCC1B51EDAC9DD5102; Path=/; HttpOnly
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:49 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:49.934+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer"
}
2024-12-08 14:52:49,963 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-23"]
2024-12-08 14:52:49,963 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:49,964 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:49,968 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-23"]
2024-12-08 14:52:49,971 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-23"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m3[m, [1;31mFailures: [0;1;31m2[m, Errors: 0, Skipped: 0, Time elapsed: 1.089 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt35_run01_RestExceptionHandlerTest[m
[[1;31mERROR[m] testNotFound  Time elapsed: 0.026 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v3_gpt35_run01_RestExceptionHandlerTest.testNotFound(v3_gpt35_run01_RestExceptionHandlerTest.java:85)

[[1;31mERROR[m] testInternalServerError  Time elapsed: 0.02 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <401>.

	at market.v3_gpt35_run01_RestExceptionHandlerTest.testInternalServerError(v3_gpt35_run01_RestExceptionHandlerTest.java:67)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run02_ContactsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:49,996 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:49,997 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:49,998 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:49,998 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:50,182 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:50,228 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 46 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:50,262 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:50,278 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@15335664' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:50,280 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:50,316 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:50,318 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-24"]
2024-12-08 14:52:50,318 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:50,318 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:50,330 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:50,330 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 332 ms
2024-12-08 14:52:50,358 INFO  [main] c.z.h.HikariDataSource - HikariPool-24 - Starting...
2024-12-08 14:52:50,359 INFO  [main] c.z.h.HikariDataSource - HikariPool-24 - Start completed.
2024-12-08 14:52:50,371 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:50,385 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:50,394 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:50,396 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:50,478 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:50,479 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:50,635 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:50,775 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52d68c31, org.springframework.security.web.context.SecurityContextPersistenceFilter@51a7f12f, org.springframework.security.web.header.HeaderWriterFilter@5ed61b84, org.springframework.security.web.authentication.logout.LogoutFilter@2ab8a83c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@465c5835, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@507235e6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3e161e57, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@65a3fd4c, org.springframework.security.web.session.SessionManagementFilter@58c44a1a, org.springframework.security.web.access.ExceptionTranslationFilter@1c43b2f7, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@e9c744b]
2024-12-08 14:52:50,796 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:50,874 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-24"]
2024-12-08 14:52:50,876 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 34703 (http) with context path ''
2024-12-08 14:52:50,970 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.995 seconds (JVM running for 54.403)
2024-12-08 14:52:51,008 INFO  [http-nio-auto-24-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:51,008 INFO  [http-nio-auto-24-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:51,010 INFO  [http-nio-auto-24-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
Request method:	POST
Request URI:	http://localhost:34703/api/authenticate
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "password": "petrov",
    "email": "ivan.petrov@yandex.ru"
}

HTTP/1.1 404 
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:51 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:51.016+00:00",
    "status": 404,
    "error": "Not Found",
    "message": "",
    "path": "/api/authenticate"
}
Request method:	POST
Request URI:	http://localhost:34703/api/authenticate
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "password": "petrov",
    "email": "ivan.petrov@yandex.ru"
}

HTTP/1.1 404 
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:51 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:51.039+00:00",
    "status": 404,
    "error": "Not Found",
    "message": "",
    "path": "/api/authenticate"
}
2024-12-08 14:52:51,061 WARN  [http-nio-auto-24-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
Request method:	POST
Request URI:	http://localhost:34703/api/authenticate
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "password": "petrov",
    "email": "ivan.petrov@yandex.ru"
}

HTTP/1.1 404 
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:51 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:51.085+00:00",
    "status": 404,
    "error": "Not Found",
    "message": "",
    "path": "/api/authenticate"
}
2024-12-08 14:52:51,114 WARN  [http-nio-auto-24-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:52:51,143 WARN  [http-nio-auto-24-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:52:51,154 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-24"]
2024-12-08 14:52:51,154 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:51,155 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:51,157 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-24"]
2024-12-08 14:52:51,159 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-24"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m6[m, [1;31mFailures: [0;1;31m3[m, Errors: 0, Skipped: 0, Time elapsed: 1.18 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run02_ContactsRestControllerTest[m
[[1;31mERROR[m] testUpdateContacts  Time elapsed: 0.03 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <404>.

	at market.v3_gpt4o_run02_ContactsRestControllerTest.getAuthToken(v3_gpt4o_run02_ContactsRestControllerTest.java:160)
	at market.v3_gpt4o_run02_ContactsRestControllerTest.testUpdateContacts(v3_gpt4o_run02_ContactsRestControllerTest.java:104)

[[1;31mERROR[m] testGetContacts  Time elapsed: 0.025 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <404>.

	at market.v3_gpt4o_run02_ContactsRestControllerTest.getAuthToken(v3_gpt4o_run02_ContactsRestControllerTest.java:160)
	at market.v3_gpt4o_run02_ContactsRestControllerTest.testGetContacts(v3_gpt4o_run02_ContactsRestControllerTest.java:90)

[[1;31mERROR[m] testUpdateContactsInvalidPhone  Time elapsed: 0.022 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <404>.

	at market.v3_gpt4o_run02_ContactsRestControllerTest.getAuthToken(v3_gpt4o_run02_ContactsRestControllerTest.java:160)
	at market.v3_gpt4o_run02_ContactsRestControllerTest.testUpdateContactsInvalidPhone(v3_gpt4o_run02_ContactsRestControllerTest.java:125)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run03_RestErrorResponseTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:51,189 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:51,190 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:51,191 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:51,191 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:51,352 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:51,372 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:51,399 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:51,421 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6b62d31a' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:51,422 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:51,456 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:51,456 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-25"]
2024-12-08 14:52:51,457 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:51,457 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:51,467 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:51,467 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 276 ms
2024-12-08 14:52:51,489 INFO  [main] c.z.h.HikariDataSource - HikariPool-25 - Starting...
2024-12-08 14:52:51,490 INFO  [main] c.z.h.HikariDataSource - HikariPool-25 - Start completed.
2024-12-08 14:52:51,499 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:51,511 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:51,527 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:51,528 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:51,622 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:51,622 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:51,749 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:51,855 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1e67e122, org.springframework.security.web.context.SecurityContextPersistenceFilter@51aeaf8d, org.springframework.security.web.header.HeaderWriterFilter@4c027efe, org.springframework.security.web.authentication.logout.LogoutFilter@72d314dd, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3fd93b9c, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@65995088, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3ab3274b, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ab11999, org.springframework.security.web.session.SessionManagementFilter@7d32290f, org.springframework.security.web.access.ExceptionTranslationFilter@3a31d656, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@6ad51036]
2024-12-08 14:52:51,877 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:51,960 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-25"]
2024-12-08 14:52:51,962 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 39685 (http) with context path ''
2024-12-08 14:52:52,048 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.884 seconds (JVM running for 55.48)
2024-12-08 14:52:52,104 INFO  [http-nio-auto-25-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:52,104 INFO  [http-nio-auto-25-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:52,106 INFO  [http-nio-auto-25-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:52:52,125 WARN  [http-nio-auto-25-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='email', message='The value shall be in the format of an email address'}]}
Request method:	GET
Request URI:	http://localhost:39685/customer?name=Unknown
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:52 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:52.342+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer"
}
2024-12-08 14:52:52,357 WARN  [http-nio-auto-25-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:52:52,379 WARN  [http-nio-auto-25-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:52:52,395 WARN  [http-nio-auto-25-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:52:52,411 WARN  [http-nio-auto-25-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/pay', fieldErrors=[]}
2024-12-08 14:52:52,429 WARN  [http-nio-auto-25-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:52:52,440 WARN  [http-nio-auto-25-exec-9] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:52:52,458 WARN  [http-nio-auto-25-exec-10] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/999999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:52:52,475 WARN  [http-nio-auto-25-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:52:52,506 WARN  [http-nio-auto-25-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
2024-12-08 14:52:52,522 WARN  [http-nio-auto-25-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	GET
Request URI:	http://localhost:39685/customer?name=Ivan
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:52 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:52:52.631+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer"
}
2024-12-08 14:52:52,692 WARN  [http-nio-auto-25-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:52:52,707 WARN  [http-nio-auto-25-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='creditCardDTO', description='uri=/customer/cart/pay', fieldErrors=[{field='ccNumber', message='Not a valid credit card number'}, {field='ccNumber', message='Card number shall consist of 13-16 digits'}]}
2024-12-08 14:52:52,726 WARN  [http-nio-auto-25-exec-9] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='contactsDTO', description='uri=/customer/contacts', fieldErrors=[{field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}]}
2024-12-08 14:52:52,741 WARN  [http-nio-auto-25-exec-10] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:52:52,764 WARN  [http-nio-auto-25-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
2024-12-08 14:52:52,775 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-25"]
2024-12-08 14:52:52,775 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:52,775 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:52,778 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-25"]
2024-12-08 14:52:52,781 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-25"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m17[m, [1;31mFailures: [0;1;31m2[m, Errors: 0, Skipped: 0, Time elapsed: 1.613 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run03_RestErrorResponseTest[m
[[1;31mERROR[m] testGetCustomerNotFound  Time elapsed: 0.216 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v3_gpt4o_run03_RestErrorResponseTest.testGetCustomerNotFound(v3_gpt4o_run03_RestErrorResponseTest.java:80)

[[1;31mERROR[m] testGetCustomerValid  Time elapsed: 0.11 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v3_gpt4o_run03_RestErrorResponseTest.testGetCustomerValid(v3_gpt4o_run03_RestErrorResponseTest.java:67)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run02_OrdersRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:52,806 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:52,807 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:52,808 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:52,808 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:52,984 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:53,005 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:53,035 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:53,052 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1e59b69d' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:53,053 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:53,080 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:53,081 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-26"]
2024-12-08 14:52:53,082 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:53,082 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:53,093 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:53,094 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 285 ms
2024-12-08 14:52:53,119 INFO  [main] c.z.h.HikariDataSource - HikariPool-26 - Starting...
2024-12-08 14:52:53,120 INFO  [main] c.z.h.HikariDataSource - HikariPool-26 - Start completed.
2024-12-08 14:52:53,129 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:53,142 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:53,153 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:53,154 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:53,248 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:53,248 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:53,391 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:53,508 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3a7c2559, org.springframework.security.web.context.SecurityContextPersistenceFilter@569e5634, org.springframework.security.web.header.HeaderWriterFilter@26636ab7, org.springframework.security.web.authentication.logout.LogoutFilter@5dd5e742, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@5d299d5f, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@24ae7fd2, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19a58f22, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@84e2615, org.springframework.security.web.session.SessionManagementFilter@3f6bee0b, org.springframework.security.web.access.ExceptionTranslationFilter@10cc41d4, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@45fdb24e]
2024-12-08 14:52:53,531 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:53,611 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-26"]
2024-12-08 14:52:53,614 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 37711 (http) with context path ''
2024-12-08 14:52:53,725 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.939 seconds (JVM running for 57.158)
2024-12-08 14:52:53,767 INFO  [http-nio-auto-26-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:53,768 INFO  [http-nio-auto-26-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:53,770 INFO  [http-nio-auto-26-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:52:54,115 WARN  [http-nio-auto-26-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='OrderDTO', description='uri=/customer/orders/-1', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:52:54,226 WARN  [http-nio-auto-26-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='OrderDTO', description='uri=/customer/orders/9999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:52:54,348 WARN  [http-nio-auto-26-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders', fieldErrors=[]}
2024-12-08 14:52:54,357 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-26"]
2024-12-08 14:52:54,357 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:54,358 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:54,360 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-26"]
2024-12-08 14:52:54,362 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-26"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m5[m, Failures: 0, [1;31mErrors: [0;1;31m2[m, Skipped: 0, Time elapsed: 1.572 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run02_OrdersRestControllerTest[m
[[1;31mERROR[m] testGetOrder  Time elapsed: 0.262 s  <<< ERROR!
java.lang.IllegalArgumentException: Schema to use cannot be null
	at market.v3_gpt4o_run02_OrdersRestControllerTest.testGetOrder(v3_gpt4o_run02_OrdersRestControllerTest.java:82)

[[1;31mERROR[m] testGetOrders  Time elapsed: 0.108 s  <<< ERROR!
java.lang.IllegalArgumentException: Schema to use cannot be null
	at market.v3_gpt4o_run02_OrdersRestControllerTest.testGetOrders(v3_gpt4o_run02_OrdersRestControllerTest.java:68)

[[1;34mINFO[m] Running market.[1mv3_gpt35_run01_CustomerRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:54,387 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:54,388 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:54,389 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:54,389 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:54,563 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:54,582 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 18 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:54,611 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:54,625 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@2232eca8' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:54,626 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:54,662 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:54,662 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-27"]
2024-12-08 14:52:54,663 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:54,663 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:54,675 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:54,675 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 286 ms
2024-12-08 14:52:54,702 INFO  [main] c.z.h.HikariDataSource - HikariPool-27 - Starting...
2024-12-08 14:52:54,703 INFO  [main] c.z.h.HikariDataSource - HikariPool-27 - Start completed.
2024-12-08 14:52:54,713 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:54,726 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:54,738 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:54,739 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:54,820 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:54,820 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:54,987 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:55,111 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@722d4d40, org.springframework.security.web.context.SecurityContextPersistenceFilter@421224bd, org.springframework.security.web.header.HeaderWriterFilter@79029d03, org.springframework.security.web.authentication.logout.LogoutFilter@7d2f37f4, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@20939593, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@2d0e5aa1, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@40093086, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5973bb79, org.springframework.security.web.session.SessionManagementFilter@6dc06d86, org.springframework.security.web.access.ExceptionTranslationFilter@2199dd5b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@5fca1969]
2024-12-08 14:52:55,134 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:55,213 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-27"]
2024-12-08 14:52:55,214 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 38487 (http) with context path ''
2024-12-08 14:52:55,287 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.922 seconds (JVM running for 58.72)
2024-12-08 14:52:55,343 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-27"]
2024-12-08 14:52:55,343 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:55,345 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-27"]
2024-12-08 14:52:55,347 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-27"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m8[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.98 s - in market.[1mv3_gpt35_run01_CustomerRestControllerTest[m
[[1;34mINFO[m] Running market.[1mv3_gpt35_run02_CartRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:55,369 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:55,369 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:55,370 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:55,370 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:55,602 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:55,630 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:55,668 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:55,684 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@76b2d310' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:55,685 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:55,720 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:55,720 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-28"]
2024-12-08 14:52:55,721 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:55,721 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:55,734 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:55,734 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 364 ms
2024-12-08 14:52:55,763 INFO  [main] c.z.h.HikariDataSource - HikariPool-28 - Starting...
2024-12-08 14:52:55,764 INFO  [main] c.z.h.HikariDataSource - HikariPool-28 - Start completed.
2024-12-08 14:52:55,774 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:55,786 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:55,796 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:55,799 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:55,879 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:55,880 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:56,046 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:56,194 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@1f48760d, org.springframework.security.web.context.SecurityContextPersistenceFilter@7f71996a, org.springframework.security.web.header.HeaderWriterFilter@1db829c0, org.springframework.security.web.authentication.logout.LogoutFilter@5063e96, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@715cdea4, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@459da3cd, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@19377497, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1afa1cd8, org.springframework.security.web.session.SessionManagementFilter@2d0853fe, org.springframework.security.web.access.ExceptionTranslationFilter@474fa33a, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@3706b282]
2024-12-08 14:52:56,211 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:56,281 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-28"]
2024-12-08 14:52:56,283 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 39549 (http) with context path ''
2024-12-08 14:52:56,354 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 1.001 seconds (JVM running for 59.786)
2024-12-08 14:52:56,412 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-28"]
2024-12-08 14:52:56,412 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:56,414 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-28"]
2024-12-08 14:52:56,416 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-28"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m10[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.063 s - in market.[1mv3_gpt35_run02_CartRestControllerTest[m
[[1;34mINFO[m] Running market.[1mv3_gpt4o_run01_OrdersRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:56,436 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:56,437 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:56,438 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:56,438 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:56,634 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:56,662 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 27 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:56,691 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:56,707 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@96c2adb' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:56,708 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:56,739 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:56,740 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-29"]
2024-12-08 14:52:56,741 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:56,741 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:56,751 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:56,751 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 313 ms
2024-12-08 14:52:56,775 INFO  [main] c.z.h.HikariDataSource - HikariPool-29 - Starting...
2024-12-08 14:52:56,776 INFO  [main] c.z.h.HikariDataSource - HikariPool-29 - Start completed.
2024-12-08 14:52:56,783 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:56,795 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:56,808 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:56,809 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:56,888 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:56,888 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:57,032 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:57,148 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7e5fd9af, org.springframework.security.web.context.SecurityContextPersistenceFilter@3d5ea21b, org.springframework.security.web.header.HeaderWriterFilter@2fe511fa, org.springframework.security.web.authentication.logout.LogoutFilter@8728d2e, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@54878079, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@155647f7, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@123bfe66, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6f7e74ae, org.springframework.security.web.session.SessionManagementFilter@1418d0a0, org.springframework.security.web.access.ExceptionTranslationFilter@2bf06a05, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1ba5247f]
2024-12-08 14:52:57,167 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:57,238 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-29"]
2024-12-08 14:52:57,240 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 40507 (http) with context path ''
2024-12-08 14:52:57,316 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.897 seconds (JVM running for 60.749)
2024-12-08 14:52:57,348 INFO  [http-nio-auto-29-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:57,348 INFO  [http-nio-auto-29-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:57,351 INFO  [http-nio-auto-29-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 3 ms
2024-12-08 14:52:57,567 WARN  [http-nio-auto-29-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders', fieldErrors=[]}
2024-12-08 14:52:57,580 WARN  [http-nio-auto-29-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders/1', fieldErrors=[]}
2024-12-08 14:52:57,822 WARN  [http-nio-auto-29-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='OrderDTO', description='uri=/customer/orders/9999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:52:57,940 ERROR [http-nio-auto-29-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: "invalid"', entityName='null', description='uri=/customer/orders/invalid', fieldErrors=[]}
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'long'; nested exception is java.lang.NumberFormatException: For input string: "invalid"
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:898)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:645)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.NumberFormatException: For input string: "invalid"
	at java.base/java.lang.NumberFormatException.forInputString(NumberFormatException.java:65)
	at java.base/java.lang.Long.parseLong(Long.java:692)
	at java.base/java.lang.Long.valueOf(Long.java:1144)
	at org.springframework.util.NumberUtils.parseNumber(NumberUtils.java:214)
	at org.springframework.beans.propertyeditors.CustomNumberEditor.setAsText(CustomNumberEditor.java:115)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:696)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	... 85 more
2024-12-08 14:52:57,952 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-29"]
2024-12-08 14:52:57,952 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:57,952 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:57,955 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-29"]
2024-12-08 14:52:57,962 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-29"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m6[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.542 s - in market.[1mv3_gpt4o_run01_OrdersRestControllerTest[m
[[1;34mINFO[m] Running market.[1mv3_gpt35_run02_ProductsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:57,987 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:57,988 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:57,989 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:57,989 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:58,201 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:58,225 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 23 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:58,261 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:58,276 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@46e474eb' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:58,277 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:58,312 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:58,313 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-30"]
2024-12-08 14:52:58,313 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:58,314 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:58,324 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:58,324 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 335 ms
2024-12-08 14:52:58,349 INFO  [main] c.z.h.HikariDataSource - HikariPool-30 - Starting...
2024-12-08 14:52:58,351 INFO  [main] c.z.h.HikariDataSource - HikariPool-30 - Start completed.
2024-12-08 14:52:58,360 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:58,376 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:58,388 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:58,390 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:58,479 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:58,479 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:58,647 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:58,762 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@269b4325, org.springframework.security.web.context.SecurityContextPersistenceFilter@185f631c, org.springframework.security.web.header.HeaderWriterFilter@55ee03cc, org.springframework.security.web.authentication.logout.LogoutFilter@53b474ea, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@6ea2e9c5, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@3726ead6, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@12f36f9d, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@6e81ed4d, org.springframework.security.web.session.SessionManagementFilter@1147aae, org.springframework.security.web.access.ExceptionTranslationFilter@1a76a40d, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1fb7caf7]
2024-12-08 14:52:58,783 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:58,858 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-30"]
2024-12-08 14:52:58,860 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 38539 (http) with context path ''
2024-12-08 14:52:58,947 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.982 seconds (JVM running for 62.38)
2024-12-08 14:52:58,976 INFO  [http-nio-auto-30-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:58,976 INFO  [http-nio-auto-30-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:58,978 INFO  [http-nio-auto-30-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:52:58,986 WARN  [http-nio-auto-30-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/9999', fieldErrors=[{field='id', message='No instance with this id'}]}
Request method:	GET
Request URI:	http://localhost:38539/products/1
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	productId=1
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 200 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/hal+json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:52:58 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "productId": 1,
    "distillery": "Ardbeg",
    "name": "Ten",
    "price": 4420.0,
    "age": 10,
    "volume": 700,
    "alcohol": 46.0,
    "description": "Ten Years Old is the basis of the Ardbeg range. After 10 years of maturation in ex-bourbon casks, the whiskey bottled at 46% ABV without cold filtering. The characteristic peat, although clearly present but in perfect balance with the natural sweetness and not predominant in the taste.",
    "available": false,
    "_links": {
        "All products": {
            "href": "http://localhost:38539/products"
        }
    }
}
2024-12-08 14:52:59,052 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-30"]
2024-12-08 14:52:59,052 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:52:59,053 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:52:59,055 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-30"]
2024-12-08 14:52:59,058 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-30"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m3[m, [1;31mFailures: [0;1;31m1[m, Errors: 0, Skipped: 0, Time elapsed: 1.09 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt35_run02_ProductsRestControllerTest[m
[[1;31mERROR[m] testGetProduct_InternalServerError  Time elapsed: 0.02 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <200>.

	at market.v3_gpt35_run02_ProductsRestControllerTest.testGetProduct_InternalServerError(v3_gpt35_run02_ProductsRestControllerTest.java:88)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run02_CartRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:52:59,084 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:52:59,085 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:52:59,086 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:52:59,086 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:52:59,279 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:52:59,309 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 8 JPA repository interfaces.
2024-12-08 14:52:59,338 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:59,352 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@30652df4' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:59,353 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:52:59,379 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:52:59,380 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-31"]
2024-12-08 14:52:59,380 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:52:59,380 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:52:59,391 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:52:59,391 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 305 ms
2024-12-08 14:52:59,413 INFO  [main] c.z.h.HikariDataSource - HikariPool-31 - Starting...
2024-12-08 14:52:59,414 INFO  [main] c.z.h.HikariDataSource - HikariPool-31 - Start completed.
2024-12-08 14:52:59,421 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:52:59,431 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:52:59,443 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:59,444 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:52:59,517 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:52:59,517 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:52:59,663 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:52:59,764 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@50b01789, org.springframework.security.web.context.SecurityContextPersistenceFilter@1a259f5f, org.springframework.security.web.header.HeaderWriterFilter@591ad130, org.springframework.security.web.authentication.logout.LogoutFilter@1e690e1c, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@18dc2ce3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@8af6d53, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@733ae27, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@15c70f05, org.springframework.security.web.session.SessionManagementFilter@361321e4, org.springframework.security.web.access.ExceptionTranslationFilter@399571b1, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@c7c1c8e]
2024-12-08 14:52:59,784 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:52:59,853 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-31"]
2024-12-08 14:52:59,856 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 36373 (http) with context path ''
2024-12-08 14:52:59,927 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.865 seconds (JVM running for 63.36)
2024-12-08 14:52:59,952 INFO  [http-nio-auto-31-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:52:59,952 INFO  [http-nio-auto-31-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:52:59,954 INFO  [http-nio-auto-31-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
Request method:	PUT
Request URI:	http://localhost:36373/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic aXZhbi5wZXRyb3ZAeWFuZGV4LnJ1OnBldHJvdg==
				Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "productId": 1,
    "quantity": 2
}

HTTP/1.1 200 
Set-Cookie: JSESSIONID=955B130FA1148F799669B0B14D41B7C1; Path=/; HttpOnly
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/hal+json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:00 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "user": "ivan.petrov@yandex.ru",
    "totalItems": 1,
    "productsCost": 6517.0,
    "deliveryCost": 400,
    "deliveryIncluded": true,
    "totalCost": 6917.0,
    "cartItems": [
        {
            "productId": 5,
            "quantity": 1,
            "_links": {
                "View product": {
                    "href": "http://localhost:36373/products/5"
                }
            }
        }
    ],
    "empty": false,
    "_links": {
        "Customer contacts": {
            "href": "http://localhost:36373/customer/contacts"
        },
        "Proceed to payment": {
            "href": "http://localhost:36373/customer/cart/pay"
        }
    }
}
2024-12-08 14:53:00,300 WARN  [http-nio-auto-31-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:53:00,432 WARN  [http-nio-auto-31-exec-4] o.h.e.j.s.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2024-12-08 14:53:00,432 ERROR [http-nio-auto-31-exec-4] o.h.e.j.s.SqlExceptionHelper - Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]
2024-12-08 14:53:00,438 ERROR [http-nio-auto-31-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='could not execute statement; SQL [n/a]; constraint ["PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement', entityName='null', description='uri=/customer/cart/pay', fieldErrors=[]}
org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint ["PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy156.saveAndFlush(Unknown Source)
	at market.service.impl.OrderServiceImpl.createUserOrder(OrderServiceImpl.java:89)
	at market.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$2e692bca.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at market.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$b1872168.createUserOrder(<generated>)
	at market.rest.CartRestController.payByCard(CartRestController.java:115)
	at market.rest.CartRestController$$FastClassBySpringCGLIB$$e4131698.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at market.rest.CartRestController$$EnhancerBySpringCGLIB$$762278a2_31.payByCard(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3200)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3806)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:194)
	at org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:179)
	at org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:75)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:93)
	at org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:636)
	at org.hibernate.internal.SessionImpl.save(SessionImpl.java:629)
	at org.hibernate.id.ForeignGenerator.generate(ForeignGenerator.java:119)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:93)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at com.sun.proxy.$Proxy143.persist(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at com.sun.proxy.$Proxy143.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:557)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAndFlush(SimpleJpaRepository.java:572)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:524)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:531)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:156)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 119 more
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:459)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:127)
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:531)
	at org.h2.command.dml.Insert.insertRows(Insert.java:195)
	at org.h2.command.dml.Insert.update(Insert.java:151)
	at org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:272)
	at org.h2.command.CommandContainer.update(CommandContainer.java:191)
	at org.h2.command.Command.executeUpdate(Command.java:251)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:191)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 183 more
Request method:	POST
Request URI:	http://localhost:36373/customer/cart/pay
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic aXZhbi5wZXRyb3ZAeWFuZGV4LnJ1OnBldHJvdg==
				Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "ccNumber": "4111111111111111"
}

HTTP/1.1 500 
Set-Cookie: JSESSIONID=60868AAFFE24C04E2DE649DCEC75EFD6; Path=/; HttpOnly
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:00 GMT
Connection: close

{
    "message": "could not execute statement; SQL [n/a]; constraint [\"PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']\"; SQL statement:\ninsert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement",
    "description": "uri=/customer/cart/pay",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
Request method:	GET
Request URI:	http://localhost:36373/customer/cart/internal-error
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic aXZhbi5wZXRyb3ZAeWFuZGV4LnJ1OnBldHJvdg==
				Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 404 
Set-Cookie: JSESSIONID=1484C8845319658B647C275BF954A1F3; Path=/; HttpOnly
Vary: Origin
Vary: Access-Control-Request-Method
Vary: Access-Control-Request-Headers
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:00 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:53:00.560+00:00",
    "status": 404,
    "error": "Not Found",
    "message": "",
    "path": "/customer/cart/internal-error"
}
2024-12-08 14:53:01,017 WARN  [http-nio-auto-31-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='Product', description='uri=/customer/cart', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:53:01,132 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-31"]
2024-12-08 14:53:01,132 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:53:01,132 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:53:01,134 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-31"]
2024-12-08 14:53:01,136 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-31"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m10[m, [1;31mFailures: [0;1;31m3[m, [1;31mErrors: [0;1;31m2[m, Skipped: 0, Time elapsed: 2.067 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run02_CartRestControllerTest[m
[[1;31mERROR[m] testAddItem  Time elapsed: 0.129 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
JSON path cartItems[0].productId doesn't match.
Expected: <1>
  Actual: 5

	at market.v3_gpt4o_run02_CartRestControllerTest.testAddItem(v3_gpt4o_run02_CartRestControllerTest.java:81)

[[1;31mERROR[m] testPayByCard  Time elapsed: 0.183 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <500>.

	at market.v3_gpt4o_run02_CartRestControllerTest.testPayByCard(v3_gpt4o_run02_CartRestControllerTest.java:112)

[[1;31mERROR[m] testInternalServerError  Time elapsed: 0.078 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <404>.

	at market.v3_gpt4o_run02_CartRestControllerTest.testInternalServerError(v3_gpt4o_run02_CartRestControllerTest.java:139)

[[1;31mERROR[m] testSchemaValidationForAddItem  Time elapsed: 0.108 s  <<< ERROR!
java.lang.IllegalArgumentException: Schema to use cannot be null
	at market.v3_gpt4o_run02_CartRestControllerTest.testSchemaValidationForAddItem(v3_gpt4o_run02_CartRestControllerTest.java:160)

[[1;31mERROR[m] testSchemaValidationForGetCart  Time elapsed: 0.104 s  <<< ERROR!
java.lang.IllegalArgumentException: Schema to use cannot be null
	at market.v3_gpt4o_run02_CartRestControllerTest.testSchemaValidationForGetCart(v3_gpt4o_run02_CartRestControllerTest.java:148)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run03_RestExceptionHandlerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:53:01,159 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:53:01,159 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:53:01,160 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:53:01,160 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:53:01,306 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:53:01,323 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 8 JPA repository interfaces.
2024-12-08 14:53:01,354 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:01,369 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6fabbaf7' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:01,370 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:01,414 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:53:01,415 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-32"]
2024-12-08 14:53:01,415 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:53:01,416 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:53:01,428 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:53:01,428 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 268 ms
2024-12-08 14:53:01,453 INFO  [main] c.z.h.HikariDataSource - HikariPool-32 - Starting...
2024-12-08 14:53:01,454 INFO  [main] c.z.h.HikariDataSource - HikariPool-32 - Start completed.
2024-12-08 14:53:01,466 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:53:01,478 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:53:01,487 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:01,488 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:01,568 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:53:01,569 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:01,708 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:53:01,834 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@a7b6e57, org.springframework.security.web.context.SecurityContextPersistenceFilter@5ed7af8f, org.springframework.security.web.header.HeaderWriterFilter@5be15ae, org.springframework.security.web.authentication.logout.LogoutFilter@49b78a04, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2831bc4d, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@742765f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@1c11db6, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@69ae6b9b, org.springframework.security.web.session.SessionManagementFilter@59ce5b76, org.springframework.security.web.access.ExceptionTranslationFilter@37c3b327, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2f757cd3]
2024-12-08 14:53:01,854 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:01,923 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-32"]
2024-12-08 14:53:01,926 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 43439 (http) with context path ''
2024-12-08 14:53:01,998 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.859 seconds (JVM running for 65.431)
2024-12-08 14:53:02,031 INFO  [http-nio-auto-32-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:53:02,031 INFO  [http-nio-auto-32-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:53:02,034 INFO  [http-nio-auto-32-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 3 ms
Request method:	GET
Request URI:	http://localhost:43439/customer?name=non.existent@yandex.ru
Proxy:			<none>
Request params:	<none>
Query params:	name=non.existent@yandex.ru
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
Set-Cookie: JSESSIONID=2C2D5403EDDA6890CD2DED45CAFBB9E2; Path=/; HttpOnly
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:02 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:53:02.037+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer"
}
2024-12-08 14:53:02,081 WARN  [http-nio-auto-32-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:53:02,094 WARN  [http-nio-auto-32-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders', fieldErrors=[]}
2024-12-08 14:53:02,111 WARN  [http-nio-auto-32-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:53:02,126 WARN  [http-nio-auto-32-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders/1', fieldErrors=[]}
2024-12-08 14:53:02,164 WARN  [http-nio-auto-32-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:43439/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "address": "Riesstrasse 18",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:02 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:53:02,177 WARN  [http-nio-auto-32-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:43439/customer/cart?name=non.existent@yandex.ru
Proxy:			<none>
Request params:	<none>
Query params:	name=non.existent@yandex.ru
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:02 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:53:02,191 WARN  [http-nio-auto-32-exec-9] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:53:02,202 WARN  [http-nio-auto-32-exec-10] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:53:02,220 WARN  [http-nio-auto-32-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/pay', fieldErrors=[]}
2024-12-08 14:53:02,238 WARN  [http-nio-auto-32-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:53:02,267 WARN  [http-nio-auto-32-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='name', message='The value shall not be empty'}, {field='password', message='Length shall be between 6 and 50 characters'}, {field='address', message='The value shall not be empty'}, {field='name', message='Only letters, whitespace, hyphen and apostrophe are allowed'}, {field='email', message='The value shall be in the format of an email address'}, {field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}]}
2024-12-08 14:53:02,277 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-32"]
2024-12-08 14:53:02,277 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:53:02,278 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:53:02,280 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-32"]
2024-12-08 14:53:02,284 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-32"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m13[m, [1;31mFailures: [0;1;31m3[m, Errors: 0, Skipped: 0, Time elapsed: 1.139 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run03_RestExceptionHandlerTest[m
[[1;31mERROR[m] testGetCustomerNotFound  Time elapsed: 0.021 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v3_gpt4o_run03_RestExceptionHandlerTest.testGetCustomerNotFound(v3_gpt4o_run03_RestExceptionHandlerTest.java:77)

[[1;31mERROR[m] testCreateCustomer  Time elapsed: 0.039 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <406>.

	at market.v3_gpt4o_run03_RestExceptionHandlerTest.testCreateCustomer(v3_gpt4o_run03_RestExceptionHandlerTest.java:193)

[[1;31mERROR[m] testGetCartNotFound  Time elapsed: 0.012 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <404> but was <401>.

	at market.v3_gpt4o_run03_RestExceptionHandlerTest.testGetCartNotFound(v3_gpt4o_run03_RestExceptionHandlerTest.java:87)

[[1;34mINFO[m] Running market.[1mv3_gpt35_run02_ContactsRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:53:02,305 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:53:02,305 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:53:02,306 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:53:02,306 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:53:02,458 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:53:02,476 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 8 JPA repository interfaces.
2024-12-08 14:53:02,499 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:02,512 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@6db738' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:02,513 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:02,538 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:53:02,538 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-33"]
2024-12-08 14:53:02,539 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:53:02,539 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:53:02,548 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:53:02,548 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 242 ms
2024-12-08 14:53:02,571 INFO  [main] c.z.h.HikariDataSource - HikariPool-33 - Starting...
2024-12-08 14:53:02,572 INFO  [main] c.z.h.HikariDataSource - HikariPool-33 - Start completed.
2024-12-08 14:53:02,580 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:53:02,590 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:53:02,598 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:02,599 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:02,671 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:53:02,671 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:02,816 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:53:02,918 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@3084d104, org.springframework.security.web.context.SecurityContextPersistenceFilter@8b6ed8c, org.springframework.security.web.header.HeaderWriterFilter@adcb648, org.springframework.security.web.authentication.logout.LogoutFilter@f886c2f, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3b16d5c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@23014792, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4c00db4c, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@f1f7da2, org.springframework.security.web.session.SessionManagementFilter@57257681, org.springframework.security.web.access.ExceptionTranslationFilter@5e5cf3f, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@7974b539]
2024-12-08 14:53:02,938 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:03,006 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-33"]
2024-12-08 14:53:03,008 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 41045 (http) with context path ''
2024-12-08 14:53:03,087 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.8 seconds (JVM running for 66.52)
2024-12-08 14:53:03,121 INFO  [http-nio-auto-33-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:53:03,122 INFO  [http-nio-auto-33-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:53:03,123 INFO  [http-nio-auto-33-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 1 ms
2024-12-08 14:53:03,135 WARN  [http-nio-auto-33-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:41045/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "address": "Updated Address",
    "phone": "+7 123 456 78 90"
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:03 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/contacts",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:53:03,148 WARN  [http-nio-auto-33-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
Request method:	GET
Request URI:	http://localhost:41045/customer/contacts
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:03 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/contacts",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:53:03,160 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-33"]
2024-12-08 14:53:03,160 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:53:03,161 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:53:03,163 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-33"]
2024-12-08 14:53:03,165 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-33"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m2[m, [1;31mFailures: [0;1;31m2[m, Errors: 0, Skipped: 0, Time elapsed: 0.872 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt35_run02_ContactsRestControllerTest[m
[[1;31mERROR[m] testUpdateContactsEndpoint  Time elapsed: 0.031 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v3_gpt35_run02_ContactsRestControllerTest.testUpdateContactsEndpoint(v3_gpt35_run02_ContactsRestControllerTest.java:81)

[[1;31mERROR[m] testGetContactsEndpoint  Time elapsed: 0.014 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <200> but was <401>.

	at market.v3_gpt35_run02_ContactsRestControllerTest.testGetContactsEndpoint(v3_gpt35_run02_ContactsRestControllerTest.java:69)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run01_RestErrorResponseTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:53:03,189 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:53:03,189 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:53:03,191 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:53:03,191 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:53:03,349 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:53:03,379 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 29 ms. Found 8 JPA repository interfaces.
2024-12-08 14:53:03,410 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:03,427 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@46cc9018' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:03,428 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:03,459 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:53:03,460 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-34"]
2024-12-08 14:53:03,460 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:53:03,461 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:53:03,472 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:53:03,472 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 281 ms
2024-12-08 14:53:03,498 INFO  [main] c.z.h.HikariDataSource - HikariPool-34 - Starting...
2024-12-08 14:53:03,499 INFO  [main] c.z.h.HikariDataSource - HikariPool-34 - Start completed.
2024-12-08 14:53:03,508 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:53:03,521 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:53:03,529 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:03,530 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:03,605 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:53:03,605 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:03,752 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:53:03,852 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@212cf69d, org.springframework.security.web.context.SecurityContextPersistenceFilter@398f77eb, org.springframework.security.web.header.HeaderWriterFilter@341f877e, org.springframework.security.web.authentication.logout.LogoutFilter@65a7ae2d, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@35c6fc75, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12a12cf3, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5a4d7dae, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@1cb96fa, org.springframework.security.web.session.SessionManagementFilter@6053b6d2, org.springframework.security.web.access.ExceptionTranslationFilter@5dced970, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@1d92a329]
2024-12-08 14:53:03,872 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:03,951 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-34"]
2024-12-08 14:53:03,953 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 36763 (http) with context path ''
2024-12-08 14:53:04,030 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.86 seconds (JVM running for 67.463)
2024-12-08 14:53:04,057 INFO  [http-nio-auto-34-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:53:04,058 INFO  [http-nio-auto-34-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:53:04,059 INFO  [http-nio-auto-34-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 1 ms
2024-12-08 14:53:04,063 WARN  [http-nio-auto-34-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart/delivery', fieldErrors=[]}
2024-12-08 14:53:04,079 WARN  [http-nio-auto-34-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders/999', fieldErrors=[]}
2024-12-08 14:53:04,102 WARN  [http-nio-auto-34-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:36763/customer/contacts?name=invalid_user
Proxy:			<none>
Request params:	<none>
Query params:	name=invalid_user
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "address": "New Address",
    "phone": "+7 123 456 78 90"
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:03 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/contacts",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:53:04,126 WARN  [http-nio-auto-34-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='creditCardDTO', description='uri=/customer/cart/pay', fieldErrors=[{field='ccNumber', message='Not a valid credit card number'}]}
Request method:	POST
Request URI:	http://localhost:36763/customer/cart/pay?name=invalid_user
Proxy:			<none>
Request params:	<none>
Query params:	name=invalid_user
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "ccNumber": "1234-5678-9876-5432"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:03 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/customer/cart/pay",
    "entityName": "creditCardDTO",
    "fieldErrors": [
        {
            "field": "ccNumber",
            "message": "Not a valid credit card number"
        }
    ]
}
2024-12-08 14:53:04,140 WARN  [http-nio-auto-34-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:53:04,154 WARN  [http-nio-auto-34-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:53:04,174 WARN  [http-nio-auto-34-exec-7] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
Request method:	PUT
Request URI:	http://localhost:36763/customer/cart?name=invalid_user
Proxy:			<none>
Request params:	<none>
Query params:	name=invalid_user
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "productId": 999,
    "quantity": 1
}

HTTP/1.1 401 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:04 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Acesso negado",
    "description": "uri=/customer/cart",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:53:04,209 WARN  [http-nio-auto-34-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:53:04,249 WARN  [http-nio-auto-34-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='UserAccount', description='uri=/register', fieldErrors=[{field='email', message='Account with this email already exists'}]}
Request method:	POST
Request URI:	http://localhost:36763/register
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "email": "ivan.petrov@yandex.ru",
    "password": "petrov",
    "name": "Ivan Petrov",
    "phone": "+7 123 456 78 90",
    "address": "Riesstrasse 18"
}

HTTP/1.1 406 
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:04 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "message": "Argument validation error",
    "description": "uri=/register",
    "entityName": "UserAccount",
    "fieldErrors": [
        {
            "field": "email",
            "message": "Account with this email already exists"
        }
    ]
}
2024-12-08 14:53:04,302 WARN  [http-nio-auto-34-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/contacts', fieldErrors=[]}
2024-12-08 14:53:04,313 WARN  [http-nio-auto-34-exec-2] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/orders', fieldErrors=[]}
2024-12-08 14:53:04,337 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-34"]
2024-12-08 14:53:04,338 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:53:04,338 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:53:04,340 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-34"]
2024-12-08 14:53:04,343 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-34"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m13[m, [1;31mFailures: [0;1;31m4[m, Errors: 0, Skipped: 0, Time elapsed: 1.17 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run01_RestErrorResponseTest[m
[[1;31mERROR[m] testUpdateContacts  Time elapsed: 0.025 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <401>.

	at market.v3_gpt4o_run01_RestErrorResponseTest.testUpdateContacts(v3_gpt4o_run01_RestErrorResponseTest.java:137)

[[1;31mERROR[m] testPayByCard  Time elapsed: 0.023 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <406>.

	at market.v3_gpt4o_run01_RestErrorResponseTest.testPayByCard(v3_gpt4o_run01_RestErrorResponseTest.java:116)

[[1;31mERROR[m] testAddItemToCart  Time elapsed: 0.021 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <401>.

	at market.v3_gpt4o_run01_RestErrorResponseTest.testAddItemToCart(v3_gpt4o_run01_RestErrorResponseTest.java:85)

[[1;31mERROR[m] testCreateCustomer  Time elapsed: 0.03 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <500> but was <406>.

	at market.v3_gpt4o_run01_RestErrorResponseTest.testCreateCustomer(v3_gpt4o_run01_RestErrorResponseTest.java:186)

[[1;34mINFO[m] Running market.[1mv3_gpt35_run03_CartRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:53:04,369 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:53:04,370 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:53:04,371 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:53:04,371 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:53:04,545 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:53:04,562 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 17 ms. Found 8 JPA repository interfaces.
2024-12-08 14:53:04,589 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:04,601 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@1cedc483' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:04,602 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:04,631 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:53:04,632 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-35"]
2024-12-08 14:53:04,632 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:53:04,632 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:53:04,647 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:53:04,647 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 276 ms
2024-12-08 14:53:04,685 INFO  [main] c.z.h.HikariDataSource - HikariPool-35 - Starting...
2024-12-08 14:53:04,686 INFO  [main] c.z.h.HikariDataSource - HikariPool-35 - Start completed.
2024-12-08 14:53:04,695 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:53:04,708 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:53:04,716 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:04,717 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:04,794 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:53:04,795 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:04,962 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:53:05,068 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@77005703, org.springframework.security.web.context.SecurityContextPersistenceFilter@a60ac94, org.springframework.security.web.header.HeaderWriterFilter@4fb8478b, org.springframework.security.web.authentication.logout.LogoutFilter@67f191fe, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@3aedba2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@f2665d8, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@22fffa8, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@17507e1e, org.springframework.security.web.session.SessionManagementFilter@2419c4d0, org.springframework.security.web.access.ExceptionTranslationFilter@7bdfd38b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@719a5b34]
2024-12-08 14:53:05,089 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:05,158 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-35"]
2024-12-08 14:53:05,159 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 37957 (http) with context path ''
2024-12-08 14:53:05,242 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.896 seconds (JVM running for 68.675)
2024-12-08 14:53:05,280 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-35"]
2024-12-08 14:53:05,280 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:53:05,284 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-35"]
2024-12-08 14:53:05,286 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-35"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m5[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.934 s - in market.[1mv3_gpt35_run03_CartRestControllerTest[m
[[1;34mINFO[m] Running market.[1mv3_gpt35_run03_CustomerRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:53:05,306 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:53:05,306 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:53:05,307 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:53:05,307 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:53:05,484 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:53:05,504 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 20 ms. Found 8 JPA repository interfaces.
2024-12-08 14:53:05,532 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:05,545 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3dc87f18' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:05,547 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:05,573 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:53:05,573 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-36"]
2024-12-08 14:53:05,574 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:53:05,574 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:53:05,585 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:53:05,585 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 278 ms
2024-12-08 14:53:05,606 INFO  [main] c.z.h.HikariDataSource - HikariPool-36 - Starting...
2024-12-08 14:53:05,607 INFO  [main] c.z.h.HikariDataSource - HikariPool-36 - Start completed.
2024-12-08 14:53:05,614 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:53:05,628 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:53:05,635 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:05,636 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:05,699 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:53:05,699 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:05,833 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:53:05,942 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@7a00a3f2, org.springframework.security.web.context.SecurityContextPersistenceFilter@73a08c13, org.springframework.security.web.header.HeaderWriterFilter@10649a6e, org.springframework.security.web.authentication.logout.LogoutFilter@53fd4c73, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@79fbc2a2, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@33334038, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@7301bda, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@630d28f3, org.springframework.security.web.session.SessionManagementFilter@6a69261f, org.springframework.security.web.access.ExceptionTranslationFilter@bd9614e, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@34f5d3cc]
2024-12-08 14:53:05,965 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:06,026 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-36"]
2024-12-08 14:53:06,027 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 36415 (http) with context path ''
2024-12-08 14:53:06,103 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.813 seconds (JVM running for 69.535)
2024-12-08 14:53:06,132 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-36"]
2024-12-08 14:53:06,132 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:53:06,137 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-36"]
2024-12-08 14:53:06,139 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-36"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m2[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 0.847 s - in market.[1mv3_gpt35_run03_CustomerRestControllerTest[m
[[1;34mINFO[m] Running market.[1mv3_gpt4o_run01_CartRestControllerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:53:06,158 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:53:06,158 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:53:06,159 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:53:06,159 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:53:06,365 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:53:06,385 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 8 JPA repository interfaces.
2024-12-08 14:53:06,412 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:06,424 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@3d368603' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:06,425 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:06,459 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:53:06,460 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-37"]
2024-12-08 14:53:06,460 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:53:06,461 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:53:06,470 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:53:06,470 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 311 ms
2024-12-08 14:53:06,491 INFO  [main] c.z.h.HikariDataSource - HikariPool-37 - Starting...
2024-12-08 14:53:06,492 INFO  [main] c.z.h.HikariDataSource - HikariPool-37 - Start completed.
2024-12-08 14:53:06,500 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:53:06,510 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:53:06,517 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:06,518 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:06,587 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:53:06,588 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:06,737 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:53:06,832 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@64b92e63, org.springframework.security.web.context.SecurityContextPersistenceFilter@3ab4a26a, org.springframework.security.web.header.HeaderWriterFilter@605a5977, org.springframework.security.web.authentication.logout.LogoutFilter@5959af19, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@51bc17c3, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@7f1c4ff0, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@4d3f3085, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@4ba6e646, org.springframework.security.web.session.SessionManagementFilter@1b6206f1, org.springframework.security.web.access.ExceptionTranslationFilter@7f174f5b, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@2da7951a]
2024-12-08 14:53:06,850 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:06,920 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-37"]
2024-12-08 14:53:06,922 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 33267 (http) with context path ''
2024-12-08 14:53:06,982 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.839 seconds (JVM running for 70.414)
2024-12-08 14:53:07,011 INFO  [http-nio-auto-37-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:53:07,011 INFO  [http-nio-auto-37-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:53:07,012 INFO  [http-nio-auto-37-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 1 ms
2024-12-08 14:53:07,418 WARN  [http-nio-auto-37-exec-3] o.h.e.j.s.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2024-12-08 14:53:07,418 ERROR [http-nio-auto-37-exec-3] o.h.e.j.s.SqlExceptionHelper - Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]
2024-12-08 14:53:07,420 ERROR [http-nio-auto-37-exec-3] m.r.e.RestExceptionHandler - RestErrorResponse{message='could not execute statement; SQL [n/a]; constraint ["PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement', entityName='null', description='uri=/customer/cart/pay', fieldErrors=[]}
org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint ["PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy156.saveAndFlush(Unknown Source)
	at market.service.impl.OrderServiceImpl.createUserOrder(OrderServiceImpl.java:89)
	at market.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$2e692bca.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at market.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$b1872168.createUserOrder(<generated>)
	at market.rest.CartRestController.payByCard(CartRestController.java:115)
	at market.rest.CartRestController$$FastClassBySpringCGLIB$$e4131698.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at market.rest.CartRestController$$EnhancerBySpringCGLIB$$762278a2_37.payByCard(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3200)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3806)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:194)
	at org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:179)
	at org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:75)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:93)
	at org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:636)
	at org.hibernate.internal.SessionImpl.save(SessionImpl.java:629)
	at org.hibernate.id.ForeignGenerator.generate(ForeignGenerator.java:119)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:93)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at com.sun.proxy.$Proxy143.persist(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at com.sun.proxy.$Proxy143.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:557)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAndFlush(SimpleJpaRepository.java:572)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:524)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:531)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:156)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 119 more
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:459)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:127)
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:531)
	at org.h2.command.dml.Insert.insertRows(Insert.java:195)
	at org.h2.command.dml.Insert.update(Insert.java:151)
	at org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:272)
	at org.h2.command.CommandContainer.update(CommandContainer.java:191)
	at org.h2.command.Command.executeUpdate(Command.java:251)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:191)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 183 more
Request method:	POST
Request URI:	http://localhost:33267/customer/cart/pay
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic aXZhbi5wZXRyb3ZAeWFuZGV4LnJ1OnBldHJvdg==
				Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "ccNumber": "4111111111111111"
}

HTTP/1.1 500 
Set-Cookie: JSESSIONID=9643DD3B9FFD6E72752684E22A0AF1CF; Path=/; HttpOnly
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:07 GMT
Connection: close

{
    "message": "could not execute statement; SQL [n/a]; constraint [\"PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']\"; SQL statement:\ninsert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement",
    "description": "uri=/customer/cart/pay",
    "entityName": null,
    "fieldErrors": [
        
    ]
}
2024-12-08 14:53:07,722 WARN  [http-nio-auto-37-exec-6] o.h.e.j.s.SqlExceptionHelper - SQL Error: 23505, SQLState: 23505
2024-12-08 14:53:07,722 ERROR [http-nio-auto-37-exec-6] o.h.e.j.s.SqlExceptionHelper - Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]
2024-12-08 14:53:07,723 ERROR [http-nio-auto-37-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='could not execute statement; SQL [n/a]; constraint ["PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement', entityName='null', description='uri=/customer/cart/pay', fieldErrors=[]}
org.springframework.dao.DataIntegrityViolationException: could not execute statement; SQL [n/a]; constraint ["PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]]; nested exception is org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.convertHibernateAccessException(HibernateJpaDialect.java:276)
	at org.springframework.orm.jpa.vendor.HibernateJpaDialect.translateExceptionIfPossible(HibernateJpaDialect.java:233)
	at org.springframework.orm.jpa.AbstractEntityManagerFactoryBean.translateExceptionIfPossible(AbstractEntityManagerFactoryBean.java:551)
	at org.springframework.dao.support.ChainedPersistenceExceptionTranslator.translateExceptionIfPossible(ChainedPersistenceExceptionTranslator.java:61)
	at org.springframework.dao.support.DataAccessUtils.translateIfNecessary(DataAccessUtils.java:242)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:152)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.jpa.repository.support.CrudMethodMetadataPostProcessor$CrudMethodMetadataPopulatingMethodInterceptor.invoke(CrudMethodMetadataPostProcessor.java:174)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:97)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:215)
	at com.sun.proxy.$Proxy156.saveAndFlush(Unknown Source)
	at market.service.impl.OrderServiceImpl.createUserOrder(OrderServiceImpl.java:89)
	at market.service.impl.OrderServiceImpl$$FastClassBySpringCGLIB$$2e692bca.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at market.service.impl.OrderServiceImpl$$EnhancerBySpringCGLIB$$b1872168.createUserOrder(<generated>)
	at market.rest.CartRestController.payByCard(CartRestController.java:115)
	at market.rest.CartRestController$$FastClassBySpringCGLIB$$e4131698.invoke(<generated>)
	at org.springframework.cglib.proxy.MethodProxy.invoke(MethodProxy.java:218)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.invokeJoinpoint(CglibAopProxy.java:779)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:163)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.security.access.intercept.aopalliance.MethodSecurityInterceptor.invoke(MethodSecurityInterceptor.java:61)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.aop.framework.CglibAopProxy$CglibMethodInvocation.proceed(CglibAopProxy.java:750)
	at org.springframework.aop.framework.CglibAopProxy$DynamicAdvisedInterceptor.intercept(CglibAopProxy.java:692)
	at market.rest.CartRestController$$EnhancerBySpringCGLIB$$762278a2_37.payByCard(<generated>)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:197)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:141)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:178)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: org.hibernate.exception.ConstraintViolationException: could not execute statement
	at org.hibernate.exception.internal.SQLExceptionTypeDelegate.convert(SQLExceptionTypeDelegate.java:59)
	at org.hibernate.exception.internal.StandardSQLExceptionConverter.convert(StandardSQLExceptionConverter.java:42)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:113)
	at org.hibernate.engine.jdbc.spi.SqlExceptionHelper.convert(SqlExceptionHelper.java:99)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:200)
	at org.hibernate.dialect.identity.GetGeneratedKeysDelegate.executeAndExtract(GetGeneratedKeysDelegate.java:57)
	at org.hibernate.id.insert.AbstractReturningDelegate.performInsert(AbstractReturningDelegate.java:43)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3200)
	at org.hibernate.persister.entity.AbstractEntityPersister.insert(AbstractEntityPersister.java:3806)
	at org.hibernate.action.internal.EntityIdentityInsertAction.execute(EntityIdentityInsertAction.java:84)
	at org.hibernate.engine.spi.ActionQueue.execute(ActionQueue.java:645)
	at org.hibernate.engine.spi.ActionQueue.addResolvedEntityInsertAction(ActionQueue.java:282)
	at org.hibernate.engine.spi.ActionQueue.addInsertAction(ActionQueue.java:263)
	at org.hibernate.engine.spi.ActionQueue.addAction(ActionQueue.java:317)
	at org.hibernate.event.internal.AbstractSaveEventListener.addInsertAction(AbstractSaveEventListener.java:330)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSaveOrReplicate(AbstractSaveEventListener.java:287)
	at org.hibernate.event.internal.AbstractSaveEventListener.performSave(AbstractSaveEventListener.java:193)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:123)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.saveWithGeneratedOrRequestedId(DefaultSaveOrUpdateEventListener.java:194)
	at org.hibernate.event.internal.DefaultSaveEventListener.saveWithGeneratedOrRequestedId(DefaultSaveEventListener.java:38)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.entityIsTransient(DefaultSaveOrUpdateEventListener.java:179)
	at org.hibernate.event.internal.DefaultSaveEventListener.performSaveOrUpdate(DefaultSaveEventListener.java:32)
	at org.hibernate.event.internal.DefaultSaveOrUpdateEventListener.onSaveOrUpdate(DefaultSaveOrUpdateEventListener.java:75)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:93)
	at org.hibernate.internal.SessionImpl.fireSave(SessionImpl.java:636)
	at org.hibernate.internal.SessionImpl.save(SessionImpl.java:629)
	at org.hibernate.id.ForeignGenerator.generate(ForeignGenerator.java:119)
	at org.hibernate.event.internal.AbstractSaveEventListener.saveWithGeneratedId(AbstractSaveEventListener.java:115)
	at org.hibernate.event.internal.DefaultPersistEventListener.entityIsTransient(DefaultPersistEventListener.java:185)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:128)
	at org.hibernate.event.internal.DefaultPersistEventListener.onPersist(DefaultPersistEventListener.java:55)
	at org.hibernate.event.service.internal.EventListenerGroupImpl.fireEventOnEachListener(EventListenerGroupImpl.java:93)
	at org.hibernate.internal.SessionImpl.firePersist(SessionImpl.java:720)
	at org.hibernate.internal.SessionImpl.persist(SessionImpl.java:706)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.ExtendedEntityManagerCreator$ExtendedEntityManagerInvocationHandler.invoke(ExtendedEntityManagerCreator.java:362)
	at com.sun.proxy.$Proxy143.persist(Unknown Source)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.orm.jpa.SharedEntityManagerCreator$SharedEntityManagerInvocationHandler.invoke(SharedEntityManagerCreator.java:311)
	at com.sun.proxy.$Proxy143.persist(Unknown Source)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.save(SimpleJpaRepository.java:557)
	at org.springframework.data.jpa.repository.support.SimpleJpaRepository.saveAndFlush(SimpleJpaRepository.java:572)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at java.base/jdk.internal.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker$RepositoryFragmentMethodInvoker.lambda$new$0(RepositoryMethodInvoker.java:289)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.doInvoke(RepositoryMethodInvoker.java:137)
	at org.springframework.data.repository.core.support.RepositoryMethodInvoker.invoke(RepositoryMethodInvoker.java:121)
	at org.springframework.data.repository.core.support.RepositoryComposition$RepositoryFragments.invoke(RepositoryComposition.java:524)
	at org.springframework.data.repository.core.support.RepositoryComposition.invoke(RepositoryComposition.java:285)
	at org.springframework.data.repository.core.support.RepositoryFactorySupport$ImplementationMethodExecutionInterceptor.invoke(RepositoryFactorySupport.java:531)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.doInvoke(QueryExecutorMethodInterceptor.java:156)
	at org.springframework.data.repository.core.support.QueryExecutorMethodInterceptor.invoke(QueryExecutorMethodInterceptor.java:131)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.data.projection.DefaultMethodInvokingMethodInterceptor.invoke(DefaultMethodInvokingMethodInterceptor.java:80)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:123)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:388)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:119)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:186)
	at org.springframework.dao.support.PersistenceExceptionTranslationInterceptor.invoke(PersistenceExceptionTranslationInterceptor.java:137)
	... 119 more
Caused by: org.h2.jdbc.JdbcSQLIntegrityConstraintViolationException: Unique index or primary key violation: "PRIMARY KEY ON PUBLIC.BILL(ID) [1, 271320540, DATE '2019-12-27', 8527, TRUE, '1111222233334444']"; SQL statement:
insert into bill (id, cc_number, date_created, number, payed, total_cost) values (null, ?, ?, ?, ?, ?) [23505-200]
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:459)
	at org.h2.message.DbException.getJdbcSQLException(DbException.java:429)
	at org.h2.message.DbException.get(DbException.java:205)
	at org.h2.message.DbException.get(DbException.java:181)
	at org.h2.mvstore.db.MVPrimaryIndex.add(MVPrimaryIndex.java:127)
	at org.h2.mvstore.db.MVTable.addRow(MVTable.java:531)
	at org.h2.command.dml.Insert.insertRows(Insert.java:195)
	at org.h2.command.dml.Insert.update(Insert.java:151)
	at org.h2.command.CommandContainer.executeUpdateWithGeneratedKeys(CommandContainer.java:272)
	at org.h2.command.CommandContainer.update(CommandContainer.java:191)
	at org.h2.command.Command.executeUpdate(Command.java:251)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdateInternal(JdbcPreparedStatement.java:191)
	at org.h2.jdbc.JdbcPreparedStatement.executeUpdate(JdbcPreparedStatement.java:152)
	at com.zaxxer.hikari.pool.ProxyPreparedStatement.executeUpdate(ProxyPreparedStatement.java:61)
	at com.zaxxer.hikari.pool.HikariProxyPreparedStatement.executeUpdate(HikariProxyPreparedStatement.java)
	at org.hibernate.engine.jdbc.internal.ResultSetReturnImpl.executeUpdate(ResultSetReturnImpl.java:197)
	... 183 more
Request method:	PUT
Request URI:	http://localhost:33267/customer/cart
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Authorization=Basic aXZhbi5wZXRyb3ZAeWFuZGV4LnJ1OnBldHJvdg==
				Accept=*/*
				Content-Type=application/json; charset=UTF-8
Cookies:		<none>
Multiparts:		<none>
Body:
{
    "productId": 1,
    "quantity": 2
}

HTTP/1.1 200 
Set-Cookie: JSESSIONID=11803306A9B28F83C5A88D4291002A6F; Path=/; HttpOnly
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/hal+json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:07 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "user": "ivan.petrov@yandex.ru",
    "totalItems": 1,
    "productsCost": 6517.0,
    "deliveryCost": 400,
    "deliveryIncluded": true,
    "totalCost": 6917.0,
    "cartItems": [
        {
            "productId": 5,
            "quantity": 1,
            "_links": {
                "View product": {
                    "href": "http://localhost:33267/products/5"
                }
            }
        }
    ],
    "empty": false,
    "_links": {
        "Customer contacts": {
            "href": "http://localhost:33267/customer/contacts"
        },
        "Proceed to payment": {
            "href": "http://localhost:33267/customer/cart/pay"
        }
    }
}
2024-12-08 14:53:07,937 WARN  [http-nio-auto-37-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='Product', description='uri=/customer/cart', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:53:07,947 WARN  [http-nio-auto-37-exec-9] m.r.e.RestExceptionHandler - RestErrorResponse{message='Acesso negado', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
2024-12-08 14:53:07,956 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-37"]
2024-12-08 14:53:07,956 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:53:07,957 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:53:07,958 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-37"]
2024-12-08 14:53:07,961 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-37"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m8[m, [1;31mFailures: [0;1;31m2[m, Errors: 0, Skipped: 0, Time elapsed: 1.817 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt4o_run01_CartRestControllerTest[m
[[1;31mERROR[m] testPayByCard  Time elapsed: 0.25 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <201> but was <500>.

	at market.v3_gpt4o_run01_CartRestControllerTest.testPayByCard(v3_gpt4o_run01_CartRestControllerTest.java:166)

[[1;31mERROR[m] testAddItemToCart  Time elapsed: 0.068 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
JSON path totalItems doesn't match.
Expected: <2>
  Actual: 1

	at market.v3_gpt4o_run01_CartRestControllerTest.testAddItemToCart(v3_gpt4o_run01_CartRestControllerTest.java:92)

[[1;34mINFO[m] Running market.[1mv3_gpt4o_run02_RestErrorResponseTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:53:07,980 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:53:07,981 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:53:07,982 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:53:07,982 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:53:08,151 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:53:08,171 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 8 JPA repository interfaces.
2024-12-08 14:53:08,199 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:08,217 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@64da2802' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:08,218 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:08,249 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:53:08,250 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-38"]
2024-12-08 14:53:08,251 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:53:08,251 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:53:08,261 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:53:08,262 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 280 ms
2024-12-08 14:53:08,288 INFO  [main] c.z.h.HikariDataSource - HikariPool-38 - Starting...
2024-12-08 14:53:08,289 INFO  [main] c.z.h.HikariDataSource - HikariPool-38 - Start completed.
2024-12-08 14:53:08,297 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:53:08,310 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:53:08,319 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:08,320 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:08,395 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:53:08,395 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:08,543 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:53:08,664 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@52483e25, org.springframework.security.web.context.SecurityContextPersistenceFilter@1b7cb07, org.springframework.security.web.header.HeaderWriterFilter@1b95ddf2, org.springframework.security.web.authentication.logout.LogoutFilter@3e965fe8, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@2856b7f9, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@97b55f9, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@3cb47369, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@7e786a83, org.springframework.security.web.session.SessionManagementFilter@4ece6033, org.springframework.security.web.access.ExceptionTranslationFilter@a105a82, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@4d28c4e3]
2024-12-08 14:53:08,681 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:08,754 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-38"]
2024-12-08 14:53:08,755 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 44803 (http) with context path ''
2024-12-08 14:53:08,834 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.87 seconds (JVM running for 72.267)
2024-12-08 14:53:08,860 INFO  [http-nio-auto-38-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:53:08,860 INFO  [http-nio-auto-38-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:53:08,862 INFO  [http-nio-auto-38-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 2 ms
2024-12-08 14:53:08,882 WARN  [http-nio-auto-38-exec-1] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='userDTO', description='uri=/register', fieldErrors=[{field='address', message='Special characters are not allowed'}, {field='email', message='The value shall be in the format of an email address'}, {field='phone', message='Shall consist of a + sign, a country code, a region code (1-4 digits), and a number (6-7 digits)'}, {field='password', message='Length shall be between 6 and 50 characters'}, {field='name', message='Only letters, whitespace, hyphen and apostrophe are allowed'}]}
2024-12-08 14:53:08,922 ERROR [http-nio-auto-38-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Failed to convert value of type 'java.lang.String' to required type 'boolean'; nested exception is java.lang.IllegalArgumentException: Invalid boolean value [invalid]', entityName='null', description='uri=/customer/cart/delivery', fieldErrors=[]}
org.springframework.web.method.annotation.MethodArgumentTypeMismatchException: Failed to convert value of type 'java.lang.String' to required type 'boolean'; nested exception is java.lang.IllegalArgumentException: Invalid boolean value [invalid]
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:133)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:668)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: java.lang.IllegalArgumentException: Invalid boolean value [invalid]
	at org.springframework.beans.propertyeditors.CustomBooleanEditor.setAsText(CustomBooleanEditor.java:154)
	at org.springframework.beans.TypeConverterDelegate.doConvertTextValue(TypeConverterDelegate.java:429)
	at org.springframework.beans.TypeConverterDelegate.doConvertValue(TypeConverterDelegate.java:402)
	at org.springframework.beans.TypeConverterDelegate.convertIfNecessary(TypeConverterDelegate.java:155)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:73)
	at org.springframework.beans.TypeConverterSupport.convertIfNecessary(TypeConverterSupport.java:53)
	at org.springframework.validation.DataBinder.convertIfNecessary(DataBinder.java:696)
	at org.springframework.web.method.annotation.AbstractNamedValueMethodArgumentResolver.resolveArgument(AbstractNamedValueMethodArgumentResolver.java:125)
	... 85 more
2024-12-08 14:53:08,945 ERROR [http-nio-auto-38-exec-5] m.r.e.RestExceptionHandler - RestErrorResponse{message='JSON parse error: null; nested exception is com.fasterxml.jackson.databind.JsonMappingException: N/A
 at [Source: (PushbackInputStream); line: 1, column: 16] (through reference chain: market.dto.CartItemDTO["productId"])', entityName='null', description='uri=/customer/cart', fieldErrors=[]}
org.springframework.http.converter.HttpMessageNotReadableException: JSON parse error: null; nested exception is com.fasterxml.jackson.databind.JsonMappingException: N/A
 at [Source: (PushbackInputStream); line: 1, column: 16] (through reference chain: market.dto.CartItemDTO["productId"])
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:387)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.read(AbstractJackson2HttpMessageConverter.java:342)
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:186)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:158)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:131)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPut(FrameworkServlet.java:920)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:668)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
Caused by: com.fasterxml.jackson.databind.JsonMappingException: N/A
 at [Source: (PushbackInputStream); line: 1, column: 16] (through reference chain: market.dto.CartItemDTO["productId"])
	at com.fasterxml.jackson.databind.JsonMappingException.from(JsonMappingException.java:281)
	at com.fasterxml.jackson.databind.deser.SettableBeanProperty._throwAsIOE(SettableBeanProperty.java:623)
	at com.fasterxml.jackson.databind.deser.SettableBeanProperty._throwAsIOE(SettableBeanProperty.java:611)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:143)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserializeFromObject(BeanDeserializer.java:371)
	at com.fasterxml.jackson.databind.deser.BeanDeserializer.deserialize(BeanDeserializer.java:164)
	at com.fasterxml.jackson.databind.ObjectMapper._readMapAndClose(ObjectMapper.java:4526)
	at com.fasterxml.jackson.databind.ObjectMapper.readValue(ObjectMapper.java:3521)
	at org.springframework.http.converter.json.AbstractJackson2HttpMessageConverter.readJavaType(AbstractJackson2HttpMessageConverter.java:376)
	... 89 more
Caused by: java.lang.NullPointerException
	at market.dto.CartItemDTO.setProductId(CartItemDTO.java:27)
	at jdk.internal.reflect.GeneratedMethodAccessor792.invoke(Unknown Source)
	at java.base/jdk.internal.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.base/java.lang.reflect.Method.invoke(Method.java:566)
	at com.fasterxml.jackson.databind.deser.impl.MethodProperty.deserializeAndSet(MethodProperty.java:141)
	... 94 more
2024-12-08 14:53:08,968 WARN  [http-nio-auto-38-exec-6] m.r.e.RestExceptionHandler - RestErrorResponse{message='Requested entity doesn't exist', entityName='ProductDTO', description='uri=/products/9999', fieldErrors=[{field='id', message='No instance with this id'}]}
2024-12-08 14:53:09,092 WARN  [http-nio-auto-38-exec-8] m.r.e.RestExceptionHandler - RestErrorResponse{message='Argument validation error', entityName='creditCardDTO', description='uri=/customer/cart/pay', fieldErrors=[{field='ccNumber', message='Card number shall consist of 13-16 digits'}, {field='ccNumber', message='Not a valid credit card number'}]}
2024-12-08 14:53:09,101 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-38"]
2024-12-08 14:53:09,101 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:53:09,102 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:53:09,103 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-38"]
2024-12-08 14:53:09,106 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-38"]
[[1;34mINFO[m] [1;32mTests run: [0;1;32m8[m, Failures: 0, Errors: 0, Skipped: 0, Time elapsed: 1.139 s - in market.[1mv3_gpt4o_run02_RestErrorResponseTest[m
[[1;34mINFO[m] Running market.[1mv3_gpt35_run03_RestExceptionHandlerTest[m

  .   ____          _            __ _ _
 /\\ / ___'_ __ _ _(_)_ __  __ _ \ \ \ \
( ( )\___ | '_ | '_| | '_ \/ _` | \ \ \ \
 \\/  ___)| |_)| | | | | || (_| |  ) ) ) )
  '  |____| .__|_| |_|_| |_\__, | / / / /
 =========|_|==============|___/=/_/_/_/
 :: Spring Boot ::                (v2.4.3)

2024-12-08 14:53:09,128 INFO  [main] o.a.m.s.b.ForkedBooter - Starting ForkedBooter v2.22.0 using Java 11.0.20 on IFTO-PROBOOK with PID 40028 (started by rincon in /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest)
2024-12-08 14:53:09,129 INFO  [main] o.a.m.s.b.ForkedBooter - No active profile set, falling back to default profiles: default
2024-12-08 14:53:09,130 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 34:13]
2024-12-08 14:53:09,130 WARN  [main] o.s.b.c.c.ConfigDataEnvironment - Property 'spring.profiles' imported from location 'class path resource [application.yml]' is invalid and should be replaced with 'spring.config.activate.on-profile' [origin: class path resource [application.yml] - 24:13]
2024-12-08 14:53:09,307 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Bootstrapping Spring Data JPA repositories in DEFAULT mode.
2024-12-08 14:53:09,326 INFO  [main] o.s.d.r.c.RepositoryConfigurationDelegate - Finished Spring Data repository scanning in 19 ms. Found 8 JPA repository interfaces.
2024-12-08 14:53:09,356 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'market.DataConfig' of type [market.DataConfig$$EnhancerBySpringCGLIB$$8c2b0e66] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:09,369 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler@752fdb36' of type [org.springframework.security.access.expression.method.DefaultMethodSecurityExpressionHandler] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:09,371 INFO  [main] o.s.c.s.PostProcessorRegistrationDelegate$BeanPostProcessorChecker - Bean 'methodSecurityMetadataSource' of type [org.springframework.security.access.method.DelegatingMethodSecurityMetadataSource] is not eligible for getting processed by all BeanPostProcessors (for example: not eligible for auto-proxying)
2024-12-08 14:53:09,409 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat initialized with port(s): 0 (http)
2024-12-08 14:53:09,410 INFO  [main] o.a.c.h.Http11NioProtocol - Initializing ProtocolHandler ["http-nio-auto-39"]
2024-12-08 14:53:09,410 INFO  [main] o.a.c.c.StandardService - Starting service [Tomcat]
2024-12-08 14:53:09,410 INFO  [main] o.a.c.c.StandardEngine - Starting Servlet engine: [Apache Tomcat/9.0.43]
2024-12-08 14:53:09,419 INFO  [main] o.a.c.c.C.[.[.[/] - Initializing Spring embedded WebApplicationContext
2024-12-08 14:53:09,419 INFO  [main] o.s.b.w.s.c.ServletWebServerApplicationContext - Root WebApplicationContext: initialization completed in 289 ms
2024-12-08 14:53:09,449 INFO  [main] c.z.h.HikariDataSource - HikariPool-39 - Starting...
2024-12-08 14:53:09,450 INFO  [main] c.z.h.HikariDataSource - HikariPool-39 - Start completed.
2024-12-08 14:53:09,457 INFO  [main] o.h.j.i.u.LogHelper - HHH000204: Processing PersistenceUnitInfo [name: default]
2024-12-08 14:53:09,469 INFO  [main] o.h.d.Dialect - HHH000400: Using dialect: org.hibernate.dialect.H2Dialect
2024-12-08 14:53:09,475 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:09,476 WARN  [main] o.h.b.i.InFlightMetadataCollectorImpl - HHH000069: Duplicate generator name gen
2024-12-08 14:53:09,551 INFO  [main] o.h.e.t.j.p.i.JtaPlatformInitiator - HHH000490: Using JtaPlatform implementation: [org.hibernate.engine.transaction.jta.platform.internal.NoJtaPlatform]
2024-12-08 14:53:09,551 INFO  [main] o.s.o.j.LocalContainerEntityManagerFactoryBean - Initialized JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:09,682 WARN  [main] o.s.b.a.o.j.JpaBaseConfiguration$JpaWebConfiguration - spring.jpa.open-in-view is enabled by default. Therefore, database queries may be performed during view rendering. Explicitly configure spring.jpa.open-in-view to disable this warning
2024-12-08 14:53:09,780 INFO  [main] o.s.s.w.DefaultSecurityFilterChain - Will secure any request with [org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter@27b7cbc0, org.springframework.security.web.context.SecurityContextPersistenceFilter@313a35b, org.springframework.security.web.header.HeaderWriterFilter@365d9fa0, org.springframework.security.web.authentication.logout.LogoutFilter@19a118f5, org.springframework.security.web.authentication.www.BasicAuthenticationFilter@72838d91, org.springframework.security.web.savedrequest.RequestCacheAwareFilter@12c1163, org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter@5b563e79, org.springframework.security.web.authentication.AnonymousAuthenticationFilter@5ec04f94, org.springframework.security.web.session.SessionManagementFilter@4fe26bd3, org.springframework.security.web.access.ExceptionTranslationFilter@3f87a755, org.springframework.security.web.access.intercept.FilterSecurityInterceptor@370c2c36]
2024-12-08 14:53:09,797 INFO  [main] o.s.s.c.ThreadPoolTaskExecutor - Initializing ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:09,863 INFO  [main] o.a.c.h.Http11NioProtocol - Starting ProtocolHandler ["http-nio-auto-39"]
2024-12-08 14:53:09,865 INFO  [main] o.s.b.w.e.t.TomcatWebServer - Tomcat started on port(s): 46621 (http) with context path ''
2024-12-08 14:53:09,935 INFO  [main] o.a.m.s.b.ForkedBooter - Started ForkedBooter in 0.826 seconds (JVM running for 73.368)
2024-12-08 14:53:09,960 INFO  [http-nio-auto-39-exec-1] o.a.c.c.C.[.[.[/] - Initializing Spring DispatcherServlet 'dispatcherServlet'
2024-12-08 14:53:09,960 INFO  [http-nio-auto-39-exec-1] o.s.w.s.DispatcherServlet - Initializing Servlet 'dispatcherServlet'
2024-12-08 14:53:09,961 INFO  [http-nio-auto-39-exec-1] o.s.w.s.DispatcherServlet - Completed initialization in 1 ms
Request method:	GET
Request URI:	http://localhost:46621/customer
Proxy:			<none>
Request params:	<none>
Query params:	<none>
Form params:	<none>
Path params:	<none>
Headers:		Accept=*/*
Cookies:		<none>
Multiparts:		<none>
Body:			<none>

HTTP/1.1 401 
Set-Cookie: JSESSIONID=249C9C48610BBC58E71E46F3D6BB1A33; Path=/; HttpOnly
WWW-Authenticate: Basic realm="Realm"
X-Content-Type-Options: nosniff
X-XSS-Protection: 1; mode=block
Cache-Control: no-cache, no-store, max-age=0, must-revalidate
Pragma: no-cache
Expires: 0
Content-Type: application/json
Transfer-Encoding: chunked
Date: Sun, 08 Dec 2024 17:53:09 GMT
Keep-Alive: timeout=60
Connection: keep-alive

{
    "timestamp": "2024-12-08T17:53:09.964+00:00",
    "status": 401,
    "error": "Unauthorized",
    "message": "",
    "path": "/customer"
}
2024-12-08 14:53:10,010 ERROR [http-nio-auto-39-exec-4] m.r.e.RestExceptionHandler - RestErrorResponse{message='Content type 'application/x-www-form-urlencoded;charset=ISO-8859-1' not supported', entityName='null', description='uri=/register', fieldErrors=[]}
org.springframework.web.HttpMediaTypeNotSupportedException: Content type 'application/x-www-form-urlencoded;charset=ISO-8859-1' not supported
	at org.springframework.web.servlet.mvc.method.annotation.AbstractMessageConverterMethodArgumentResolver.readWithMessageConverters(AbstractMessageConverterMethodArgumentResolver.java:207)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.readWithMessageConverters(RequestResponseBodyMethodProcessor.java:158)
	at org.springframework.web.servlet.mvc.method.annotation.RequestResponseBodyMethodProcessor.resolveArgument(RequestResponseBodyMethodProcessor.java:131)
	at org.springframework.web.method.support.HandlerMethodArgumentResolverComposite.resolveArgument(HandlerMethodArgumentResolverComposite.java:121)
	at org.springframework.web.method.support.InvocableHandlerMethod.getMethodArgumentValues(InvocableHandlerMethod.java:170)
	at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)
	at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:106)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:894)
	at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:808)
	at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:87)
	at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:1060)
	at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:962)
	at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:1006)
	at org.springframework.web.servlet.FrameworkServlet.doPost(FrameworkServlet.java:909)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:665)
	at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:883)
	at javax.servlet.http.HttpServlet.service(HttpServlet.java:750)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:227)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:53)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:327)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:115)
	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:119)
	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:126)
	at org.springframework.security.web.session.SessionManagementFilter.doFilter(SessionManagementFilter.java:81)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:105)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:149)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.savedrequest.RequestCacheAwareFilter.doFilter(RequestCacheAwareFilter.java:63)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilterInternal(BasicAuthenticationFilter.java:149)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:103)
	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:89)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.header.HeaderWriterFilter.doHeadersAfter(HeaderWriterFilter.java:90)
	at org.springframework.security.web.header.HeaderWriterFilter.doFilterInternal(HeaderWriterFilter.java:75)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:110)
	at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:80)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.context.request.async.WebAsyncManagerIntegrationFilter.doFilterInternal(WebAsyncManagerIntegrationFilter.java:55)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:336)
	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:211)
	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:183)
	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:358)
	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:271)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.RequestContextFilter.doFilterInternal(RequestContextFilter.java:100)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.FormContentFilter.doFilterInternal(FormContentFilter.java:93)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:201)
	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:119)
	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:189)
	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:162)
	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:202)
	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:97)
	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:542)
	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:143)
	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:92)
	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:78)
	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:346)
	at org.apache.coyote.http11.Http11Processor.service(Http11Processor.java:374)
	at org.apache.coyote.AbstractProcessorLight.process(AbstractProcessorLight.java:65)
	at org.apache.coyote.AbstractProtocol$ConnectionHandler.process(AbstractProtocol.java:887)
	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1684)
	at org.apache.tomcat.util.net.SocketProcessorBase.run(SocketProcessorBase.java:49)
	at java.base/java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1128)
	at java.base/java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:628)
	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)
	at java.base/java.lang.Thread.run(Thread.java:834)
2024-12-08 14:53:10,040 INFO  [main] o.a.c.h.Http11NioProtocol - Pausing ProtocolHandler ["http-nio-auto-39"]
2024-12-08 14:53:10,040 INFO  [main] o.a.c.c.StandardService - Stopping service [Tomcat]
2024-12-08 14:53:10,041 INFO  [main] o.a.c.c.C.[.[.[/] - Destroying Spring FrameworkServlet 'dispatcherServlet'
2024-12-08 14:53:10,043 INFO  [main] o.a.c.h.Http11NioProtocol - Stopping ProtocolHandler ["http-nio-auto-39"]
2024-12-08 14:53:10,045 INFO  [main] o.a.c.h.Http11NioProtocol - Destroying ProtocolHandler ["http-nio-auto-39"]
[[1;31mERROR[m] [1;31mTests [0;1mrun: [0;1m5[m, [1;31mFailures: [0;1;31m1[m, Errors: 0, Skipped: 0, Time elapsed: 0.933 s[1;31m <<< FAILURE![m - in market.[1mv3_gpt35_run03_RestExceptionHandlerTest[m
[[1;31mERROR[m] testCustomNotValidException_NotAcceptable  Time elapsed: 0.018 s  <<< FAILURE!
java.lang.AssertionError: 
1 expectation failed.
Expected status code <406> but was <401>.

	at market.v3_gpt35_run03_RestExceptionHandlerTest.testCustomNotValidException_NotAcceptable(v3_gpt35_run03_RestExceptionHandlerTest.java:96)

2024-12-08 14:53:10,093 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,102 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,104 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,104 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,104 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,105 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,119 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,127 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,128 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,128 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,133 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,133 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,135 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,135 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,135 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,135 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,139 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,144 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,144 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,145 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,147 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,151 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,151 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,159 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,159 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,161 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,161 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,167 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,170 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,171 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,174 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,180 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,181 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,191 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,191 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,191 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,192 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,194 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,197 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,202 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,204 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,206 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,208 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,224 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,226 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,227 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,227 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,227 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,227 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,239 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,239 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,240 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,240 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,240 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,242 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,248 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-28 - Shutdown initiated...
2024-12-08 14:53:10,248 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-35 - Shutdown initiated...
2024-12-08 14:53:10,249 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-29 - Shutdown initiated...
2024-12-08 14:53:10,249 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-1 - Shutdown initiated...
2024-12-08 14:53:10,250 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-16 - Shutdown initiated...
2024-12-08 14:53:10,252 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,254 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,256 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-12 - Shutdown initiated...
2024-12-08 14:53:10,256 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-25 - Shutdown initiated...
2024-12-08 14:53:10,256 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-38 - Shutdown initiated...
2024-12-08 14:53:10,256 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-9 - Shutdown initiated...
2024-12-08 14:53:10,256 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-20 - Shutdown initiated...
2024-12-08 14:53:10,256 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-36 - Shutdown initiated...
2024-12-08 14:53:10,256 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-21 - Shutdown initiated...
2024-12-08 14:53:10,257 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-33 - Shutdown initiated...
2024-12-08 14:53:10,259 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-17 - Shutdown initiated...
2024-12-08 14:53:10,260 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,261 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-39 - Shutdown initiated...
2024-12-08 14:53:10,261 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-34 - Shutdown initiated...
2024-12-08 14:53:10,263 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-30 - Shutdown initiated...
2024-12-08 14:53:10,263 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-6 - Shutdown initiated...
2024-12-08 14:53:10,263 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-22 - Shutdown initiated...
2024-12-08 14:53:10,264 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-7 - Shutdown initiated...
2024-12-08 14:53:10,264 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-3 - Shutdown initiated...
2024-12-08 14:53:10,272 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,274 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,275 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-10 - Shutdown initiated...
2024-12-08 14:53:10,276 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,277 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-32 - Shutdown initiated...
2024-12-08 14:53:10,278 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,279 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,279 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-27 - Shutdown initiated...
2024-12-08 14:53:10,280 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-19 - Shutdown initiated...
2024-12-08 14:53:10,280 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,281 INFO  [SpringContextShutdownHook] o.s.s.c.ThreadPoolTaskExecutor - Shutting down ExecutorService 'applicationTaskExecutor'
2024-12-08 14:53:10,281 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,282 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-2 - Shutdown initiated...
2024-12-08 14:53:10,284 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,285 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-37 - Shutdown initiated...
2024-12-08 14:53:10,287 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,288 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-5 - Shutdown initiated...
2024-12-08 14:53:10,293 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,294 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-4 - Shutdown initiated...
2024-12-08 14:53:10,300 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,300 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-14 - Shutdown initiated...
2024-12-08 14:53:10,302 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,302 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,302 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-18 - Shutdown initiated...
2024-12-08 14:53:10,302 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-23 - Shutdown initiated...
2024-12-08 14:53:10,302 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,303 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-26 - Shutdown initiated...
2024-12-08 14:53:10,303 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-13 - Shutdown initiated...
2024-12-08 14:53:10,304 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,304 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-8 - Shutdown initiated...
2024-12-08 14:53:10,304 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,305 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-11 - Shutdown initiated...
2024-12-08 14:53:10,315 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-33 - Shutdown completed.
2024-12-08 14:53:10,315 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-1 - Shutdown completed.
2024-12-08 14:53:10,315 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-28 - Shutdown completed.
2024-12-08 14:53:10,316 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-3 - Shutdown completed.
2024-12-08 14:53:10,316 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-34 - Shutdown completed.
2024-12-08 14:53:10,316 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-39 - Shutdown completed.
2024-12-08 14:53:10,317 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-19 - Shutdown completed.
2024-12-08 14:53:10,317 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-10 - Shutdown completed.
2024-12-08 14:53:10,318 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-25 - Shutdown completed.
2024-12-08 14:53:10,318 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-9 - Shutdown completed.
2024-12-08 14:53:10,318 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-27 - Shutdown completed.
2024-12-08 14:53:10,320 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-32 - Shutdown completed.
2024-12-08 14:53:10,322 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,322 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-24 - Shutdown initiated...
2024-12-08 14:53:10,323 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-24 - Shutdown completed.
2024-12-08 14:53:10,324 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,324 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-31 - Shutdown initiated...
2024-12-08 14:53:10,325 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-31 - Shutdown completed.
2024-12-08 14:53:10,325 INFO  [SpringContextShutdownHook] o.s.o.j.LocalContainerEntityManagerFactoryBean - Closing JPA EntityManagerFactory for persistence unit 'default'
2024-12-08 14:53:10,326 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-15 - Shutdown initiated...
2024-12-08 14:53:10,327 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-16 - Shutdown completed.
2024-12-08 14:53:10,328 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-15 - Shutdown completed.
2024-12-08 14:53:10,330 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-2 - Shutdown completed.
2024-12-08 14:53:10,332 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-38 - Shutdown completed.
2024-12-08 14:53:10,332 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-13 - Shutdown completed.
2024-12-08 14:53:10,332 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-12 - Shutdown completed.
2024-12-08 14:53:10,332 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-4 - Shutdown completed.
2024-12-08 14:53:10,332 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-21 - Shutdown completed.
2024-12-08 14:53:10,332 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-29 - Shutdown completed.
2024-12-08 14:53:10,332 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-35 - Shutdown completed.
2024-12-08 14:53:10,335 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-20 - Shutdown completed.
2024-12-08 14:53:10,335 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-36 - Shutdown completed.
2024-12-08 14:53:10,335 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-11 - Shutdown completed.
2024-12-08 14:53:10,335 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-26 - Shutdown completed.
2024-12-08 14:53:10,336 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-8 - Shutdown completed.
2024-12-08 14:53:10,336 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-14 - Shutdown completed.
2024-12-08 14:53:10,337 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-18 - Shutdown completed.
2024-12-08 14:53:10,337 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-37 - Shutdown completed.
2024-12-08 14:53:10,337 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-22 - Shutdown completed.
2024-12-08 14:53:10,339 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-5 - Shutdown completed.
2024-12-08 14:53:10,339 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-7 - Shutdown completed.
2024-12-08 14:53:10,340 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-23 - Shutdown completed.
2024-12-08 14:53:10,340 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-6 - Shutdown completed.
2024-12-08 14:53:10,340 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-17 - Shutdown completed.
2024-12-08 14:53:10,340 INFO  [SpringContextShutdownHook] c.z.h.HikariDataSource - HikariPool-30 - Shutdown completed.
[[1;34mINFO[m] 
[[1;34mINFO[m] Results:
[[1;34mINFO[m] 
[[1;31mERROR[m] [1;31mFailures: [m
[[1;31mERROR[m] [1;31m  v3_gpt35_run01_RestErrorResponseTest.testInvalidInputReturns5xx:71 1 expectation failed.
Expected status code <500> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt35_run01_RestErrorResponseTest.testServerErrorReturns5xx:82 1 expectation failed.
Expected status code <500> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt35_run01_RestExceptionHandlerTest.testInternalServerError:67 1 expectation failed.
Expected status code <500> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt35_run01_RestExceptionHandlerTest.testNotFound:85 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt35_run02_ContactsRestControllerTest.testGetContactsEndpoint:69 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt35_run02_ContactsRestControllerTest.testUpdateContactsEndpoint:81 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt35_run02_ProductsRestControllerTest.testGetProduct_InternalServerError:88 1 expectation failed.
Expected status code <500> but was <200>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt35_run02_RestErrorResponseTest.testInvalidInput_Returns5xxStatusCode:70 1 expectation failed.
Expected status code a value equal to or greater than <500> but <406> was less than <500>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt35_run02_RestErrorResponseTest.testSchemaValidation_CustomerRegistration:92 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt35_run02_RestErrorResponseTest.testServerError_Returns5xxStatusCode:81 1 expectation failed.
Expected status code a value equal to or greater than <500> but <406> was less than <500>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt35_run03_RestErrorResponseTest.testInvalidInputReturns5xxError:50 1 expectation failed.
Expected status code <500> but was <404>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt35_run03_RestErrorResponseTest.testServerErrorReturns5xxError:61 1 expectation failed.
Expected status code <500> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt35_run03_RestExceptionHandlerTest.testCustomNotValidException_NotAcceptable:96 1 expectation failed.
Expected status code <406> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_CartRestControllerTest.testAddItemToCart:92 1 expectation failed.
JSON path totalItems doesn't match.
Expected: <2>
  Actual: 1
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_CartRestControllerTest.testPayByCard:166 1 expectation failed.
Expected status code <201> but was <500>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_ContactsRestControllerTest.testGetContactsSuccess:65 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_ContactsRestControllerTest.testSchemaValidation:168 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_ContactsRestControllerTest.testUpdateContactsInvalidInput:122 1 expectation failed.
Expected status code <400> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_ContactsRestControllerTest.testUpdateContactsSchemaValidation:185 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_ContactsRestControllerTest.testUpdateContactsSuccess:90 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_CustomerRestControllerTest.testCreateCustomer:66 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_CustomerRestControllerTest.testCreateCustomerWithExistingEmail:81 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_CustomerRestControllerTest.testGetCustomerWithValidSession:104 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_RestErrorResponseTest.testAddItemToCart:85 1 expectation failed.
Expected status code <500> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_RestErrorResponseTest.testCreateCustomer:186 1 expectation failed.
Expected status code <500> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_RestErrorResponseTest.testPayByCard:116 1 expectation failed.
Expected status code <500> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_RestErrorResponseTest.testUpdateContacts:137 1 expectation failed.
Expected status code <500> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_RestExceptionHandlerTest.testAddItemToCart_InvalidProduct:94 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_RestExceptionHandlerTest.testCreateCustomer_Duplicate:148 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_RestExceptionHandlerTest.testGetCustomer_NotFound:70 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run01_RestExceptionHandlerTest.testGetProduct_Unauthorized:189 1 expectation failed.
Expected status code <401> but was <200>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_CartRestControllerTest.testAddItem:81 1 expectation failed.
JSON path cartItems[0].productId doesn't match.
Expected: <1>
  Actual: 5
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_CartRestControllerTest.testInternalServerError:139 1 expectation failed.
Expected status code <500> but was <404>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_CartRestControllerTest.testPayByCard:112 1 expectation failed.
Expected status code <201> but was <500>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_ContactsRestControllerTest.testGetContacts:90->getAuthToken:160 1 expectation failed.
Expected status code <200> but was <404>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_ContactsRestControllerTest.testUpdateContacts:104->getAuthToken:160 1 expectation failed.
Expected status code <200> but was <404>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_ContactsRestControllerTest.testUpdateContactsInvalidPhone:125->getAuthToken:160 1 expectation failed.
Expected status code <200> but was <404>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_CustomerRestControllerTest.testCreateCustomer:69 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_CustomerRestControllerTest.testCreateCustomerEmailExists:85 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_CustomerRestControllerTest.testGetCustomer:107 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_CustomerRestControllerTest.testSchemaValidation:158 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_ProductsRestControllerTest.testInternalServerErrorSimulation:109 1 expectation failed.
Expected status code <500> but was <405>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_RestExceptionHandlerTest.testGetContactsNotFound:125 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_RestExceptionHandlerTest.testGetCustomerNotFound:65 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_RestExceptionHandlerTest.testGetOrderNotFound:156 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_RestExceptionHandlerTest.testGetProductsUnauthorized:165 1 expectation failed.
Expected status code <401> but was <200>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_RestExceptionHandlerTest.testInternalServerError:195 1 expectation failed.
Expected status code <500> but was <404>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_RestExceptionHandlerTest.testPayByCardWithoutAuth:115 1 expectation failed.
Expected status code <401> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_CartRestControllerTest.testAddItemToCart:83 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_CartRestControllerTest.testAddItemToCartInvalidProduct:200 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_CartRestControllerTest.testAddItemToCartInvalidQuantity:233 1 expectation failed.
Expected status code <400> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_CartRestControllerTest.testClearCart:94 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_CartRestControllerTest.testGetCart:65 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_CartRestControllerTest.testPayByCard:123 1 expectation failed.
Expected status code <201> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_CartRestControllerTest.testPayByCardEmptyCart:216 1 expectation failed.
Expected status code <500> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_CartRestControllerTest.testSetDelivery:106 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_CustomerRestControllerTest.testCreateCustomer:87 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_CustomerRestControllerTest.testCreateCustomerEmailExists:111 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_CustomerRestControllerTest.testGetCustomerAfterRegistration:159 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_OrdersRestControllerTest.testGetOrder:84->getAccessToken:110 1 expectation failed.
Expected status code <200> but was <404>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_OrdersRestControllerTest.testGetOrders:69->getAccessToken:110 1 expectation failed.
Expected status code <200> but was <404>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_OrdersRestControllerTest.testInternalServerError:99->getAccessToken:110 1 expectation failed.
Expected status code <200> but was <404>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_ProductsRestControllerTest.testCreateProduct:120 1 expectation failed.
Expected status code <201> but was <405>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_ProductsRestControllerTest.testCreateProductWithInvalidData:142 1 expectation failed.
Expected status code <400> but was <405>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_RestErrorResponseTest.testGetCustomerNotFound:80 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_RestErrorResponseTest.testGetCustomerValid:67 1 expectation failed.
Expected status code <200> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_RestExceptionHandlerTest.testCreateCustomer:193 1 expectation failed.
Expected status code <201> but was <406>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_RestExceptionHandlerTest.testGetCartNotFound:87 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_RestExceptionHandlerTest.testGetCustomerNotFound:77 1 expectation failed.
Expected status code <404> but was <401>.
[m
[[1;31mERROR[m] [1;31mErrors: [m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_CartRestControllerTest.testSchemaValidationForAddItem:160 ¬ª IllegalArgument[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_CartRestControllerTest.testSchemaValidationForGetCart:148 ¬ª IllegalArgument[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_OrdersRestControllerTest.testGetOrder:82 ¬ª IllegalArgument Sche...[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run02_OrdersRestControllerTest.testGetOrders:68 ¬ª IllegalArgument Sch...[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_ProductsRestControllerTest.testSchemaValidationGetProducts:159 ¬ª IllegalArgument[m
[[1;31mERROR[m] [1;31m  v3_gpt4o_run03_ProductsRestControllerTest.testSchemaValidationGetSingleProduct:172 ¬ª IllegalArgument[m
[[1;34mINFO[m] 
[[1;31mERROR[m] [1;31mTests run: 258, Failures: 69, Errors: 6, Skipped: 0[m
[[1;34mINFO[m] 
[[1;31mERROR[m] There are test failures.

Please refer to /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target/surefire-reports for the individual test results.
Please refer to dump files (if any exist) [date]-jvmRun[N].dump, [date].dumpstream and [date]-jvmRun[N].dumpstream.
[[1;34mINFO[m] 
[[1;34mINFO[m] [1m--- [0;32mjacoco-maven-plugin:0.8.7:report[m [1m(report)[m @ [36mmarket-rest[0;1m ---[m
[[1;34mINFO[m] Loading execution data file /media/rincon/63999417195/eclipse-workspace/EMB-master/jdk_11_maven/cs/rest-gui/market/market-rest/target/jacoco.exec
[[1;34mINFO[m] Analyzed bundle 'market-rest' with 10 classes
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] [1;32mBUILD SUCCESS[m
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
[[1;34mINFO[m] Total time:  01:19 min
[[1;34mINFO[m] Finished at: 2024-12-08T14:53:11-03:00
[[1;34mINFO[m] [1m------------------------------------------------------------------------[m
Verificando relat√≥rios gerados pelo Maven...
Relat√≥rios de cobertura encontrados. Copiando para /home/rincon/ar_benchmark/artigo/estudos-prompts/market-test-set/gpt/v3/model_combinations/gpt35+gpt4o...
Relat√≥rios Surefire encontrados. Copiando para /home/rincon/ar_benchmark/artigo/estudos-prompts/market-test-set/gpt/v3/model_combinations/gpt35+gpt4o...
Execu√ß√£o da combina√ß√£o gpt35+gpt4o conclu√≠da com sucesso.
